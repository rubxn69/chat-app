(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function YS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function QS(){if(Cv)return Ll;Cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=t,Ll.jsx=n,Ll.jsxs=n,Ll}var Dv;function KS(){return Dv||(Dv=1,gm.exports=QS()),gm.exports}var Z=KS(),ym={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function XS(){if(Nv)return Rt;Nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function k(V,it,ut){this.props=V,this.context=it,this.refs=z,this.updater=ut||N}k.prototype.isReactComponent={},k.prototype.setState=function(V,it){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,it,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function L(){}L.prototype=k.prototype;function Q(V,it,ut){this.props=V,this.context=it,this.refs=z,this.updater=ut||N}var X=Q.prototype=new L;X.constructor=Q,O(X,k.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,at={H:null,A:null,T:null,S:null,V:null},dt=Object.prototype.hasOwnProperty;function C(V,it,ut,st,yt,Dt){return ut=Dt.ref,{$$typeof:r,type:V,key:it,ref:ut!==void 0?ut:null,props:Dt}}function w(V,it){return C(V.type,it,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function x(V){var it={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return it[ut]})}var P=/\/+/g;function U(V,it){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):it.toString(36)}function D(){}function Re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(it){V.status==="pending"&&(V.status="fulfilled",V.value=it)},function(it){V.status==="pending"&&(V.status="rejected",V.reason=it)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ne(V,it,ut,st,yt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(Dt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case r:case t:bt=!0;break;case E:return bt=V._init,ne(bt(V._payload),it,ut,st,yt)}}if(bt)return yt=yt(V),bt=st===""?"."+U(V,0):st,rt(yt)?(ut="",bt!=null&&(ut=bt.replace(P,"$&/")+"/"),ne(yt,it,ut,"",function(Wn){return Wn})):yt!=null&&(R(yt)&&(yt=w(yt,ut+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(P,"$&/")+"/")+bt)),it.push(yt)),1;bt=0;var Me=st===""?".":st+":";if(rt(V))for(var $t=0;$t<V.length;$t++)st=V[$t],Dt=Me+U(st,$t),bt+=ne(st,it,ut,Dt,yt);else if($t=b(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(st=V.next()).done;)st=st.value,Dt=Me+U(st,$t++),bt+=ne(st,it,ut,Dt,yt);else if(Dt==="object"){if(typeof V.then=="function")return ne(Re(V),it,ut,st,yt);throw it=String(V),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return bt}function W(V,it,ut){if(V==null)return V;var st=[],yt=0;return ne(V,st,"","",function(Dt){return it.call(ut,Dt,yt++)}),st}function lt(V){if(V._status===-1){var it=V._result;it=it(),it.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=it)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return Rt.Children={map:W,forEach:function(V,it,ut){W(V,function(){it.apply(this,arguments)},ut)},count:function(V){var it=0;return W(V,function(){it++}),it},toArray:function(V){return W(V,function(it){return it})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=k,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=Q,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return at.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,it,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=O({},V.props),yt=V.key,Dt=void 0;if(it!=null)for(bt in it.ref!==void 0&&(Dt=void 0),it.key!==void 0&&(yt=""+it.key),it)!dt.call(it,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&it.ref===void 0||(st[bt]=it[bt]);var bt=arguments.length-2;if(bt===1)st.children=ut;else if(1<bt){for(var Me=Array(bt),$t=0;$t<bt;$t++)Me[$t]=arguments[$t+2];st.children=Me}return C(V.type,yt,void 0,void 0,Dt,st)},Rt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Rt.createElement=function(V,it,ut){var st,yt={},Dt=null;if(it!=null)for(st in it.key!==void 0&&(Dt=""+it.key),it)dt.call(it,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=it[st]);var bt=arguments.length-2;if(bt===1)yt.children=ut;else if(1<bt){for(var Me=Array(bt),$t=0;$t<bt;$t++)Me[$t]=arguments[$t+2];yt.children=Me}if(V&&V.defaultProps)for(st in bt=V.defaultProps,bt)yt[st]===void 0&&(yt[st]=bt[st]);return C(V,Dt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:m,render:V}},Rt.isValidElement=R,Rt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:lt}},Rt.memo=function(V,it){return{$$typeof:g,type:V,compare:it===void 0?null:it}},Rt.startTransition=function(V){var it=at.T,ut={};at.T=ut;try{var st=V(),yt=at.S;yt!==null&&yt(ut,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(jt,mt)}catch(Dt){mt(Dt)}finally{at.T=it}},Rt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},Rt.use=function(V){return at.H.use(V)},Rt.useActionState=function(V,it,ut){return at.H.useActionState(V,it,ut)},Rt.useCallback=function(V,it){return at.H.useCallback(V,it)},Rt.useContext=function(V){return at.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,it){return at.H.useDeferredValue(V,it)},Rt.useEffect=function(V,it,ut){var st=at.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,it)},Rt.useId=function(){return at.H.useId()},Rt.useImperativeHandle=function(V,it,ut){return at.H.useImperativeHandle(V,it,ut)},Rt.useInsertionEffect=function(V,it){return at.H.useInsertionEffect(V,it)},Rt.useLayoutEffect=function(V,it){return at.H.useLayoutEffect(V,it)},Rt.useMemo=function(V,it){return at.H.useMemo(V,it)},Rt.useOptimistic=function(V,it){return at.H.useOptimistic(V,it)},Rt.useReducer=function(V,it,ut){return at.H.useReducer(V,it,ut)},Rt.useRef=function(V){return at.H.useRef(V)},Rt.useState=function(V){return at.H.useState(V)},Rt.useSyncExternalStore=function(V,it,ut){return at.H.useSyncExternalStore(V,it,ut)},Rt.useTransition=function(){return at.H.useTransition()},Rt.version="19.1.0",Rt}var Ov;function yp(){return Ov||(Ov=1,ym.exports=XS()),ym.exports}var H=yp();const re=YS(H);var _m={exports:{}},Ul={},vm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function WS(){return xv||(xv=1,function(r){function t(W,lt){var mt=W.length;W.push(lt);t:for(;0<mt;){var jt=mt-1>>>1,V=W[jt];if(0<o(V,lt))W[jt]=lt,W[mt]=V,mt=jt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var lt=W[0],mt=W.pop();if(mt!==lt){W[0]=mt;t:for(var jt=0,V=W.length,it=V>>>1;jt<it;){var ut=2*(jt+1)-1,st=W[ut],yt=ut+1,Dt=W[yt];if(0>o(st,mt))yt<V&&0>o(Dt,st)?(W[jt]=Dt,W[yt]=mt,jt=yt):(W[jt]=st,W[ut]=mt,jt=ut);else if(yt<V&&0>o(Dt,mt))W[jt]=Dt,W[yt]=mt,jt=yt;else break t}}return lt}function o(W,lt){var mt=W.sortIndex-lt.sortIndex;return mt!==0?mt:W.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,b=3,N=!1,O=!1,z=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function rt(W){for(var lt=n(g);lt!==null;){if(lt.callback===null)s(g);else if(lt.startTime<=W)s(g),lt.sortIndex=lt.expirationTime,t(p,lt);else break;lt=n(g)}}function at(W){if(z=!1,rt(W),!O)if(n(p)!==null)O=!0,dt||(dt=!0,U());else{var lt=n(g);lt!==null&&ne(at,lt.startTime-W)}}var dt=!1,C=-1,w=5,R=-1;function x(){return k?!0:!(r.unstable_now()-R<w)}function P(){if(k=!1,dt){var W=r.unstable_now();R=W;var lt=!0;try{t:{O=!1,z&&(z=!1,Q(C),C=-1),N=!0;var mt=b;try{e:{for(rt(W),A=n(p);A!==null&&!(A.expirationTime>W&&x());){var jt=A.callback;if(typeof jt=="function"){A.callback=null,b=A.priorityLevel;var V=jt(A.expirationTime<=W);if(W=r.unstable_now(),typeof V=="function"){A.callback=V,rt(W),lt=!0;break e}A===n(p)&&s(p),rt(W)}else s(p);A=n(p)}if(A!==null)lt=!0;else{var it=n(g);it!==null&&ne(at,it.startTime-W),lt=!1}}break t}finally{A=null,b=mt,N=!1}lt=void 0}}finally{lt?U():dt=!1}}}var U;if(typeof X=="function")U=function(){X(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Re=D.port2;D.port1.onmessage=P,U=function(){Re.postMessage(null)}}else U=function(){L(P,0)};function ne(W,lt){C=L(function(){W(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var lt=3;break;default:lt=b}var mt=b;b=lt;try{return W()}finally{b=mt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(W,lt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=b;b=W;try{return lt()}finally{b=mt}},r.unstable_scheduleCallback=function(W,lt,mt){var jt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,W={id:E++,callback:lt,priorityLevel:W,startTime:mt,expirationTime:V,sortIndex:-1},mt>jt?(W.sortIndex=mt,t(g,W),n(p)===null&&W===n(g)&&(z?(Q(C),C=-1):z=!0,ne(at,mt-jt))):(W.sortIndex=V,t(p,W),O||N||(O=!0,dt||(dt=!0,U()))),W},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(W){var lt=b;return function(){var mt=b;b=lt;try{return W.apply(this,arguments)}finally{b=mt}}}}(Em)),Em}var Vv;function ZS(){return Vv||(Vv=1,vm.exports=WS()),vm.exports}var Tm={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function JS(){if(Mv)return Ze;Mv=1;var r=yp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ze.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ze.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:b,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:b,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ze.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ze.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ze.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,g){return p(g)},Ze.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var Pv;function $S(){if(Pv)return Tm.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Tm.exports=JS(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function t1(){if(kv)return Ul;kv=1;var r=ZS(),t=yp(),n=$S();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case k:return"Profiler";case z:return"StrictMode";case at:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case X:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case rt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:Re(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return Re(e(i))}catch{}}return null}var ne=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],V=-1;function it(e){return{current:e}}function ut(e){0>V||(e.current=jt[V],jt[V]=null,V--)}function st(e,i){V++,jt[V]=e.current,e.current=i}var yt=it(null),Dt=it(null),bt=it(null),Me=it(null);function $t(e,i){switch(st(bt,i),st(Dt,e),st(yt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?nv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=nv(i),e=iv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(yt),st(yt,e)}function Wn(){ut(yt),ut(Dt),ut(bt)}function ur(e){e.memoizedState!==null&&st(Me,e);var i=yt.current,a=iv(i,e.type);i!==a&&(st(Dt,e),st(yt,a))}function Si(e){Dt.current===e&&(ut(yt),ut(Dt)),Me.current===e&&(ut(Me),xl._currentValue=mt)}var os=Object.prototype.hasOwnProperty,ls=r.unstable_scheduleCallback,us=r.unstable_cancelCallback,Do=r.unstable_shouldYield,Nu=r.unstable_requestPaint,wn=r.unstable_now,gf=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,yf=r.unstable_LowPriority,ca=r.unstable_IdlePriority,Oo=r.log,Ou=r.unstable_setDisableYieldValue,he=null,Gt=null;function dn(e){if(typeof Oo=="function"&&Ou(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,e)}catch{}}var Xe=Math.clz32?Math.clz32:hs,xu=Math.log,_f=Math.LN2;function hs(e){return e>>>=0,e===0?32:31-(xu(e)/_f|0)|0}var fs=256,ds=4194304;function jn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ha(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=jn(l):(v&=T,v!==0?h=jn(v):a||(a=T&~e,a!==0&&(h=jn(a))))):(T=l&~d,T!==0?h=jn(T):v!==0?h=jn(v):a||(a=l&~e,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ms(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function xo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var e=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),e}function Mo(){var e=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),e}function wi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ri(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Po(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,F=e.hiddenUpdates;for(a=v&~a;0<a;){var J=31-Xe(a),et=1<<J;T[J]=0,I[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var Y=G[J];Y!==null&&(Y.lane&=-536870913)}a&=~et}l!==0&&Zn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Zn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Xe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ko(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Xe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hr(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:Av(e.type))}function Vu(e,i){var a=lt.p;try{return lt.p=e,i()}finally{lt.p=a}}var se=Math.random().toString(36).slice(2),Ie="__reactFiber$"+se,ve="__reactProps$"+se,Rn="__reactContainer$"+se,Lo="__reactEvents$"+se,vf="__reactListeners$"+se,fr="__reactHandles$"+se,Mu="__reactResources$"+se,ps="__reactMarker$"+se;function dr(e){delete e[Ie],delete e[ve],delete e[Lo],delete e[vf],delete e[fr]}function Ii(e){var i=e[Ie];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Rn]||a[Ie]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=ov(e);e!==null;){if(a=e[Ie])return a;e=ov(e)}return i}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[Ie]||e[Rn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function $n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function nn(e){var i=e[Mu];return i||(i=e[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function pe(e){e[ps]=!0}var Uo=new Set,da={};function qn(e,i){Ci(e,i),Ci(e+"Capture",i)}function Ci(e,i){for(da[e]=i,e=0;e<i.length;e++)Uo.add(i[e])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ku={},gs={};function Lu(e){return os.call(gs,e)?!0:os.call(ku,e)?!1:Pu.test(e)?gs[e]=!0:(ku[e]=!0,!1)}function mr(e,i,a){if(Lu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ti(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function je(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ys,Uu;function Di(e){if(ys===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",Uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+e+Uu}var ma=!1;function pa(e,i){if(!e||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var G=Y}Reflect.construct(e,[],et)}else{try{et.call()}catch(Y){G=Y}e.call(et.prototype)}}else{try{throw Error()}catch(Y){G=Y}(et=e())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),F=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var J=`
`+I[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Di(a):""}function Bo(e){switch(e.tag){case 26:case 27:case 5:return Di(e.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return pa(e.type,!1);case 11:return pa(e.type.render,!1);case 1:return pa(e.type,!0);case 31:return Di("Activity");default:return""}}function ga(e){try{var i="";do i+=Bo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ef(e){var i=zo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ya(e){e._valueTracker||(e._valueTracker=Ef(e))}function jo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=zo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tf=/[\n"\\]/g;function Ee(e){return e.replace(Tf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+rn(i)):e.value!==""+rn(i)&&(e.value=""+rn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?pr(e,v,rn(i)):a!=null?pr(e,v,rn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function vs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function pr(e,i,a){i==="number"&&_s(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ni(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+rn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+rn(a):""}function Es(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Ts.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function qo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bu(e,d,i[d])}function Ho(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return bf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oi=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xi=null,Vi=null;function Fo(e){var i=Jn(e);if(i&&(e=i.stateNode)){var a=e[ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&jo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ni(e,!!a.multiple,i,!1)}}}var ei=!1;function zu(e,i,a){if(ei)return e(i,a);ei=!0;try{var l=e(i);return l}finally{if(ei=!1,(xi!==null||Vi!==null)&&(Vc(),xi&&(i=xi,e=Vi,Vi=xi=null,Fo(i),e)))for(i=0;i<e.length;i++)Fo(e[i])}}function As(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Dn=!1}var ni=null,gr=null,Mi=null;function Go(){if(Mi)return Mi;var e,i=gr,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Mi=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Yo(){return!1}function Pe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Yo,this.isPropagationStopped=Yo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Pe(Ht),Ss=E({},Ht,{view:0,detail:0}),ju=Pe(Ss),Ea,Ta,si,ws=E({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(Ea=e.screenX-si.screenX,Ta=e.screenY-si.screenY):Ta=Ea=0,si=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Nn=Pe(ws),qu=E({},ws,{dataTransfer:0}),Sf=Pe(qu),Rs=E({},Ss,{relatedTarget:0}),Aa=Pe(Rs),Qo=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=Pe(Qo),Hu=E({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sa=Pe(Hu),wf=E({},Ht,{data:0}),Ko=Pe(wf),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Gu[e])?!!i[e]:!1}function Cs(){return Xo}var Yu=E({},Ss,{key:function(e){if(e.key){var i=Is[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wa=Pe(Yu),Qu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Pe(Qu),Pi=E({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Ku=Pe(Pi),Xu=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Pe(Xu),Zu=E({},ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=Pe(Zu),sn=E({},Ht,{newState:0,oldState:0}),Ju=Pe(sn),$u=[9,13,27,32],ai=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!ai||c&&8<c&&11>=c),S=" ",j=!1;function K(e,i){switch(e){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function Ce(e,i){switch(e){case"compositionend":return ot(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return e=i.data,e===S&&j?null:e;default:return null}}function Lt(e,i){if(kt)return e==="compositionend"||!ai&&K(e,i)?(e=Go(),Mi=gr=ni=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ke[e.type]:i==="textarea"}function ki(e,i,a,l){xi?Vi?Vi.push(l):Vi=[l]:xi=l,i=Bc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var qe=null,oi=null;function Zo(e){Z_(e,0)}function tc(e){var i=$n(e);if(jo(i))return e}function _g(e,i){if(e==="change")return i}var vg=!1;if(Hn){var Rf;if(Hn){var If="oninput"in document;if(!If){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),If=typeof Eg.oninput=="function"}Rf=If}else Rf=!1;vg=Rf&&(!document.documentMode||9<document.documentMode)}function Tg(){qe&&(qe.detachEvent("onpropertychange",Ag),oi=qe=null)}function Ag(e){if(e.propertyName==="value"&&tc(oi)){var i=[];ki(i,oi,e,Cn(e)),zu(Zo,i)}}function Ab(e,i,a){e==="focusin"?(Tg(),qe=i,oi=a,qe.attachEvent("onpropertychange",Ag)):e==="focusout"&&Tg()}function bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(oi)}function Sb(e,i){if(e==="click")return tc(i)}function wb(e,i){if(e==="input"||e==="change")return tc(i)}function Rb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:Rb;function Jo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!os.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sg(e,i){var a=bg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bg(a)}}function wg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?wg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=_s(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=_s(e.document)}return i}function Cf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Ib=Hn&&"documentMode"in document&&11>=document.documentMode,Ia=null,Df=null,$o=null,Nf=!1;function Ig(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||Ia==null||Ia!==_s(l)||(l=Ia,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Jo($o,l)||($o=l,l=Bc(Df,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ia)))}function Ds(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ca={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Of={},Cg={};Hn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ns(e){if(Of[e])return Of[e];if(!Ca[e])return e;var i=Ca[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Of[e]=i[a];return e}var Dg=Ns("animationend"),Ng=Ns("animationiteration"),Og=Ns("animationstart"),Cb=Ns("transitionrun"),Db=Ns("transitionstart"),Nb=Ns("transitioncancel"),xg=Ns("transitionend"),Vg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Fn(e,i){Vg.set(e,i),qn(i,[e])}var Mg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=Mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ga(i)},Mg.set(e,i),i)}return{value:e,source:i,stack:ga(i)}}var xn=[],Da=0,Vf=0;function ec(){for(var e=Da,i=Vf=Da=0;i<e;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Pg(a,h,d)}}function nc(e,i,a,l){xn[Da++]=e,xn[Da++]=i,xn[Da++]=a,xn[Da++]=l,Vf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mf(e,i,a,l){return nc(e,i,a,l),ic(e)}function Na(e,i){return nc(e,null,null,i),ic(e)}function Pg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Xe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ic(e){if(50<Sl)throw Sl=0,zd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Oa={};function Ob(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new Ob(e,i,a,l)}function Pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function rc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Pf(e)&&(v=1);else if(typeof e=="string")v=VS(e,a,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=gn(31,a,i,h),e.elementType=R,e.lanes=d,e;case O:return Os(a.children,h,d,i);case z:v=8,h|=24;break;case k:return e=gn(12,a,i,h|2),e.elementType=k,e.lanes=d,e;case at:return e=gn(13,a,i,h),e.elementType=at,e.lanes=d,e;case dt:return e=gn(19,a,i,h),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case X:v=10;break t;case Q:v=9;break t;case rt:v=11;break t;case C:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Os(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function kf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Lf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var xa=[],Va=0,sc=null,ac=0,Vn=[],Mn=0,xs=null,Ui=1,Bi="";function Vs(e,i){xa[Va++]=ac,xa[Va++]=sc,sc=e,ac=i}function Lg(e,i,a){Vn[Mn++]=Ui,Vn[Mn++]=Bi,Vn[Mn++]=xs,xs=e;var l=Ui;e=Bi;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var d=32-Xe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-Xe(i)+h|a<<h|l,Bi=d+e}else Ui=1<<d|a<<h|l,Bi=e}function Uf(e){e.return!==null&&(Vs(e,1),Lg(e,1,0))}function Bf(e){for(;e===sc;)sc=xa[--Va],xa[Va]=null,ac=xa[--Va],xa[Va]=null;for(;e===xs;)xs=Vn[--Mn],Vn[Mn]=null,Bi=Vn[--Mn],Vn[Mn]=null,Ui=Vn[--Mn],Vn[Mn]=null}var an=null,fe=null,qt=!1,Ms=null,li=!1,zf=Error(s(519));function Ps(e){var i=Error(s(418,""));throw nl(On(i,e)),zf}function Ug(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ie]=e,i[ve]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)xt(Rl[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),vs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),Es(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ev(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=zc),i=!0):i=!1,i||Ps(e)}function Bg(e){for(an=e.return;an;)switch(an.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:an=an.return}}function tl(e){if(e!==an)return!1;if(!qt)return Bg(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||nm(e.type,e.memoizedProps)),a=!a),a&&fe&&Ps(e),Bg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){fe=Yn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}fe=null}}else i===27?(i=fe,xr(e.type)?(e=am,am=null,fe=e):fe=i):fe=an?Yn(e.stateNode.nextSibling):null;return!0}function el(){fe=an=null,qt=!1}function zg(){var e=Ms;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ms=null),e}function nl(e){Ms===null?Ms=[e]:Ms.push(e)}var jf=it(null),ks=null,zi=null;function yr(e,i,a){st(jf,i._currentValue),i._currentValue=a}function ji(e){e._currentValue=jf.current,ut(jf)}function qf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Hf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),qf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Me.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(xl):e=[xl])}h=h.return}e!==null&&Hf(i,e,a,l),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){ks=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return jg(ks,e)}function lc(e,i){return ks===null&&Ls(e),jg(e,i)}function jg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var xb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Vb=r.unstable_scheduleCallback,Mb=r.unstable_NormalPriority,Ne={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new xb,data:new Map,refCount:0}}function rl(e){e.refCount--,e.refCount===0&&Vb(Mb,function(){e.controller.abort()})}var sl=null,Gf=0,Ma=0,Pa=null;function Pb(e,i){if(sl===null){var a=sl=[];Gf=0,Ma=Qd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,i.then(qg,qg),i}function qg(){if(--Gf===0&&sl!==null){Pa!==null&&(Pa.status="fulfilled");var e=sl;sl=null,Ma=0,Pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kb(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hg=W.S;W.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Pb(e,i),Hg!==null&&Hg(e,i)};var Us=it(null);function Yf(){var e=Us.current;return e!==null?e:te.pooledCache}function uc(e,i){i===null?st(Us,Us.current):st(Us,i.pool)}function Fg(){var e=Yf();return e===null?null:{parent:Ne._currentValue,pool:e}}var al=Error(s(460)),Gg=Error(s(474)),cc=Error(s(542)),Qf={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hc(){}function Qg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(hc,hc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e;default:if(typeof i.status=="string")i.then(hc,hc);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xg(e),e}throw ol=i,al}}var ol=null;function Kg(){if(ol===null)throw Error(s(459));var e=ol;return ol=null,e}function Xg(e){if(e===al||e===cc)throw Error(s(483))}var _r=!1;function Kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ic(e),Pg(e,null,a),i}return nc(e,l,i,a),ic(e)}function ll(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ko(e,a)}}function Wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Zf=!1;function ul(){if(Zf){var e=Pa;if(e!==null)throw e}}function cl(e,i,a,l){Zf=!1;var h=e.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,F=I.next;I.next=null,v===null?d=F:v.next=F,v=I;var J=e.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==v&&(T===null?J.firstBaseUpdate=F:T.next=F,J.lastBaseUpdate=I))}if(d!==null){var et=h.baseState;v=0,J=F=I=null,T=d;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Ut&G)===G:(l&G)===G){G!==0&&G===Ma&&(Zf=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var At=e,_t=T;G=i;var Zt=a;switch(_t.tag){case 1:if(At=_t.payload,typeof At=="function"){et=At.call(Zt,et,G);break t}et=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=_t.payload,G=typeof At=="function"?At.call(Zt,et,G):At,G==null)break t;et=E({},et,G);break t;case 2:_r=!0}}G=T.callback,G!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(F=J=Y,I=et):J=J.next=Y,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);J===null&&(I=et),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Cr|=v,e.lanes=v,e.memoizedState=et}}function Wg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Zg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wg(a[e],i)}var ka=it(null),fc=it(0);function Jg(e,i){e=Ki,st(fc,e),st(ka,i),Ki=e|i.baseLanes}function Jf(){st(fc,Ki),st(ka,ka.current)}function $f(){Ki=fc.current,ut(ka),ut(fc)}var Tr=0,It=null,Xt=null,Te=null,dc=!1,La=!1,Bs=!1,mc=0,hl=0,Ua=null,Lb=0;function ge(){throw Error(s(321))}function td(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function ed(e,i,a,l,h,d){return Tr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=e===null||e.memoizedState===null?Py:ky,Bs=!1,d=a(l,h),Bs=!1,La&&(d=ty(i,a,l,h)),$g(e),d}function $g(e){W.H=Ec;var i=Xt!==null&&Xt.next!==null;if(Tr=0,Te=Xt=It=null,dc=!1,hl=0,Ua=null,i)throw Error(s(300));e===null||Le||(e=e.dependencies,e!==null&&oc(e)&&(Le=!0))}function ty(e,i,a,l){It=e;var h=0;do{if(La&&(Ua=null),hl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Fb,d=i(a,l)}while(La);return d}function Ub(){var e=W.H,i=e.useState()[0];return i=typeof i.then=="function"?fl(i):i,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(It.flags|=1024),i}function nd(){var e=mc!==0;return mc=0,e}function id(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function rd(e){if(dc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}dc=!1}Tr=0,Te=Xt=It=null,La=!1,hl=mc=0,Ua=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=e:Te=Te.next=e,Te}function Ae(){if(Xt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var i=Te===null?It.memoizedState:Te.next;if(i!==null)Te=i,Xt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?It.memoizedState=Te=e:Te=Te.next=e}return Te}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var i=hl;return hl+=1,Ua===null&&(Ua=[]),e=Qg(Ua,e,i),i=It,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Py:ky),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===X)return We(e)}throw Error(s(438,String(e)))}function ad(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=sd(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function qi(e,i){return typeof i=="function"?i(e):i}function gc(e){var i=Ae();return od(i,Xt,e)}function od(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,F=i,J=!1;do{var et=F.lane&-536870913;if(et!==F.lane?(Ut&et)===et:(Tr&et)===et){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),et===Ma&&(J=!0);else if((Tr&G)===G){F=F.next,G===Ma&&(J=!0);continue}else et={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=et,v=d):I=I.next=et,It.lanes|=G,Cr|=G;et=F.action,Bs&&a(d,et),d=F.hasEagerState?F.eagerState:a(d,et)}else G={lane:et,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(T=I=G,v=d):I=I.next=G,It.lanes|=et,Cr|=et;F=F.next}while(F!==null&&F!==i);if(I===null?v=d:I.next=T,!pn(d,e.memoizedState)&&(Le=!0,J&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ld(e){var i=Ae(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ey(e,i,a){var l=It,h=Ae(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Xt||h).memoizedState,a);v&&(h.memoizedState=a,Le=!0),h=h.queue;var T=ry.bind(null,l,h,e);if(dl(2048,8,T,[e]),h.getSnapshot!==i||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,Ba(9,yc(),iy.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(Tr&124)!==0||ny(l,i,a)}return a}function ny(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=sd(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function iy(e,i,a,l){i.value=a,i.getSnapshot=l,sy(i)&&ay(e)}function ry(e,i,a){return a(function(){sy(i)&&ay(e)})}function sy(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function ay(e){var i=Na(e,2);i!==null&&Tn(i,e,2)}function ud(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),Bs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},i}function oy(e,i,a,l){return e.baseState=a,od(e,Xt,typeof l=="function"?l:qi)}function Bb(e,i,a,l,h){if(vc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var T=a(h,l),I=W.S;I!==null&&I(v,T),uy(e,i,T)}catch(F){cd(e,i,F)}finally{W.T=d}}else try{d=a(h,l),uy(e,i,d)}catch(F){cd(e,i,F)}}function uy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cy(e,i,l)},function(l){return cd(e,i,l)}):cy(e,i,a)}function cy(e,i,a){i.status="fulfilled",i.value=a,hy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ly(e,a)))}function cd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}e.action=null}function hy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fy(e,i){return i}function dy(e,i){if(qt){var a=te.formState;if(a!==null){t:{var l=It;if(qt){if(fe){e:{for(var h=fe,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){fe=Yn(h.nextSibling),l=h.data==="F!";break t}}Ps(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=xy.bind(null,It,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,It,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=Bb.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function my(e){var i=Ae();return py(i,Xt,e)}function py(e,i,a){if(i=od(e,i,fy)[0],e=gc(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(v){throw v===al?cc:v}else l=i;i=Ae();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ba(9,yc(),zb.bind(null,h,a),null)),[l,d,e]}function zb(e,i){e.action=i}function gy(e){var i=Ae(),a=Xt;if(a!==null)return py(i,a,e);Ae(),i=i.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ba(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=sd(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function yc(){return{destroy:void 0,resource:void 0}}function yy(){return Ae().memoizedState}function _c(e,i,a,l){var h=ln();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ba(1|i,yc(),a,l)}function dl(e,i,a,l){var h=Ae();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&td(l,Xt.memoizedState.deps)?h.memoizedState=Ba(i,d,a,l):(It.flags|=e,h.memoizedState=Ba(1|i,d,a,l))}function _y(e,i){_c(8390656,8,e,i)}function vy(e,i){dl(2048,8,e,i)}function Ey(e,i){return dl(4,2,e,i)}function Ty(e,i){return dl(4,4,e,i)}function Ay(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function by(e,i,a){a=a!=null?a.concat([e]):null,dl(4,4,Ay.bind(null,i,e),a)}function hd(){}function Sy(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&td(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function wy(e,i){var a=Ae();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&td(i,l[1]))return l[0];if(l=e(),Bs){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function fd(e,i,a){return a===void 0||(Tr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=C_(),It.lanes|=e,Cr|=e,a)}function Ry(e,i,a,l){return pn(a,i)?a:ka.current!==null?(e=fd(e,a,l),pn(e,i)||(Le=!0),e):(Tr&42)===0?(Le=!0,e.memoizedState=a):(e=C_(),It.lanes|=e,Cr|=e,i)}function Iy(e,i,a,l,h){var d=lt.p;lt.p=d!==0&&8>d?d:8;var v=W.T,T={};W.T=T,pd(e,!1,i,a);try{var I=h(),F=W.S;if(F!==null&&F(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=kb(I,l);ml(e,i,J,En(e))}else ml(e,i,l,En(e))}catch(et){ml(e,i,{then:function(){},status:"rejected",reason:et},En())}finally{lt.p=d,W.T=v}}function jb(){}function dd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Cy(e).queue;Iy(e,h,i,mt,a===null?jb:function(){return Dy(e),a(l)})}function Cy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dy(e){var i=Cy(e).next.queue;ml(e,i,{},En())}function md(){return We(xl)}function Ny(){return Ae().memoizedState}function Oy(){return Ae().memoizedState}function qb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=vr(a);var l=Er(i,e,a);l!==null&&(Tn(l,i,a),ll(l,i,a)),i={cache:Ff()},e.payload=i;return}i=i.return}}function Hb(e,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(e)?Vy(i,a):(a=Mf(e,i,a,l),a!==null&&(Tn(a,e,l),My(a,i,l)))}function xy(e,i,a){var l=En();ml(e,i,a,l)}function ml(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(e))Vy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return nc(e,i,h,0),te===null&&ec(),!1}catch{}finally{}if(a=Mf(e,i,h,l),a!==null)return Tn(a,e,l),My(a,i,l),!0}return!1}function pd(e,i,a,l){if(l={lane:2,revertLane:Qd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(i)throw Error(s(479))}else i=Mf(e,a,l,2),i!==null&&Tn(i,e,2)}function vc(e){var i=e.alternate;return e===It||i!==null&&i===It}function Vy(e,i){La=dc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function My(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,ko(e,a)}}var Ec={readContext:We,use:pc,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Py={readContext:We,use:pc,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:We,useEffect:_y,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,_c(4194308,4,Ay.bind(null,i,e),a)},useLayoutEffect:function(e,i){return _c(4194308,4,e,i)},useInsertionEffect:function(e,i){_c(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(Bs){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Bs){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Hb.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=ud(e);var i=e.queue,a=xy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(e,i){var a=ln();return fd(a,e,i)},useTransition:function(){var e=ud(!1);return e=Iy.bind(null,It,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=ln();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Ut&124)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(ry.bind(null,l,d,e),[e]),l.flags|=2048,Ba(9,yc(),iy.bind(null,l,d,a,i),null),a},useId:function(){var e=ln(),i=te.identifierPrefix;if(qt){var a=Bi,l=Ui;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Lb++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:md,useFormState:dy,useActionState:dy,useOptimistic:function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=pd.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:ad,useCacheRefresh:function(){return ln().memoizedState=qb.bind(null,It)}},ky={readContext:We,use:pc,useCallback:Sy,useContext:We,useEffect:vy,useImperativeHandle:by,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:gc,useRef:yy,useState:function(){return gc(qi)},useDebugValue:hd,useDeferredValue:function(e,i){var a=Ae();return Ry(a,Xt.memoizedState,e,i)},useTransition:function(){var e=gc(qi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:md,useFormState:my,useActionState:my,useOptimistic:function(e,i){var a=Ae();return oy(a,Xt,e,i)},useMemoCache:ad,useCacheRefresh:Oy},Fb={readContext:We,use:pc,useCallback:Sy,useContext:We,useEffect:vy,useImperativeHandle:by,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:wy,useReducer:ld,useRef:yy,useState:function(){return ld(qi)},useDebugValue:hd,useDeferredValue:function(e,i){var a=Ae();return Xt===null?fd(a,e,i):Ry(a,Xt.memoizedState,e,i)},useTransition:function(){var e=ld(qi)[0],i=Ae().memoizedState;return[typeof e=="boolean"?e:fl(e),i]},useSyncExternalStore:ey,useId:Ny,useHostTransitionStatus:md,useFormState:gy,useActionState:gy,useOptimistic:function(e,i){var a=Ae();return Xt!==null?oy(a,Xt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Oy},za=null,pl=0;function Tc(e){var i=pl;return pl+=1,za===null&&(za=[]),Qg(za,e,i)}function gl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ac(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ly(e){var i=e._init;return i(e._payload)}function Uy(e){function i(B,M){if(e){var q=B.deletions;q===null?(B.deletions=[M],B.flags|=16):q.push(M)}}function a(B,M){if(!e)return null;for(;M!==null;)i(B,M),M=M.sibling;return null}function l(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function h(B,M){return B=Li(B,M),B.index=0,B.sibling=null,B}function d(B,M,q){return B.index=q,e?(q=B.alternate,q!==null?(q=q.index,q<M?(B.flags|=67108866,M):q):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function v(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function T(B,M,q,$){return M===null||M.tag!==6?(M=kf(q,B.mode,$),M.return=B,M):(M=h(M,q),M.return=B,M)}function I(B,M,q,$){var ft=q.type;return ft===O?J(B,M,q.props.children,$,q.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ly(ft)===M.type)?(M=h(M,q.props),gl(M,q),M.return=B,M):(M=rc(q.type,q.key,q.props,null,B.mode,$),gl(M,q),M.return=B,M)}function F(B,M,q,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Lf(q,B.mode,$),M.return=B,M):(M=h(M,q.children||[]),M.return=B,M)}function J(B,M,q,$,ft){return M===null||M.tag!==7?(M=Os(q,B.mode,$,ft),M.return=B,M):(M=h(M,q),M.return=B,M)}function et(B,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=kf(""+M,B.mode,q),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return q=rc(M.type,M.key,M.props,null,B.mode,q),gl(q,M),q.return=B,q;case N:return M=Lf(M,B.mode,q),M.return=B,M;case w:var $=M._init;return M=$(M._payload),et(B,M,q)}if(ne(M)||U(M))return M=Os(M,B.mode,q,null),M.return=B,M;if(typeof M.then=="function")return et(B,Tc(M),q);if(M.$$typeof===X)return et(B,lc(B,M),q);Ac(B,M)}return null}function G(B,M,q,$){var ft=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ft!==null?null:T(B,M,""+q,$);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===ft?I(B,M,q,$):null;case N:return q.key===ft?F(B,M,q,$):null;case w:return ft=q._init,q=ft(q._payload),G(B,M,q,$)}if(ne(q)||U(q))return ft!==null?null:J(B,M,q,$,null);if(typeof q.then=="function")return G(B,M,Tc(q),$);if(q.$$typeof===X)return G(B,M,lc(B,q),$);Ac(B,q)}return null}function Y(B,M,q,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return B=B.get(q)||null,T(M,B,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return B=B.get($.key===null?q:$.key)||null,I(M,B,$,ft);case N:return B=B.get($.key===null?q:$.key)||null,F(M,B,$,ft);case w:var Nt=$._init;return $=Nt($._payload),Y(B,M,q,$,ft)}if(ne($)||U($))return B=B.get(q)||null,J(M,B,$,ft,null);if(typeof $.then=="function")return Y(B,M,q,Tc($),ft);if($.$$typeof===X)return Y(B,M,q,lc(M,$),ft);Ac(M,$)}return null}function At(B,M,q,$){for(var ft=null,Nt=null,pt=M,vt=M=0,Be=null;pt!==null&&vt<q.length;vt++){pt.index>vt?(Be=pt,pt=null):Be=pt.sibling;var zt=G(B,pt,q[vt],$);if(zt===null){pt===null&&(pt=Be);break}e&&pt&&zt.alternate===null&&i(B,pt),M=d(zt,M,vt),Nt===null?ft=zt:Nt.sibling=zt,Nt=zt,pt=Be}if(vt===q.length)return a(B,pt),qt&&Vs(B,vt),ft;if(pt===null){for(;vt<q.length;vt++)pt=et(B,q[vt],$),pt!==null&&(M=d(pt,M,vt),Nt===null?ft=pt:Nt.sibling=pt,Nt=pt);return qt&&Vs(B,vt),ft}for(pt=l(pt);vt<q.length;vt++)Be=Y(pt,B,vt,q[vt],$),Be!==null&&(e&&Be.alternate!==null&&pt.delete(Be.key===null?vt:Be.key),M=d(Be,M,vt),Nt===null?ft=Be:Nt.sibling=Be,Nt=Be);return e&&pt.forEach(function(Lr){return i(B,Lr)}),qt&&Vs(B,vt),ft}function _t(B,M,q,$){if(q==null)throw Error(s(151));for(var ft=null,Nt=null,pt=M,vt=M=0,Be=null,zt=q.next();pt!==null&&!zt.done;vt++,zt=q.next()){pt.index>vt?(Be=pt,pt=null):Be=pt.sibling;var Lr=G(B,pt,zt.value,$);if(Lr===null){pt===null&&(pt=Be);break}e&&pt&&Lr.alternate===null&&i(B,pt),M=d(Lr,M,vt),Nt===null?ft=Lr:Nt.sibling=Lr,Nt=Lr,pt=Be}if(zt.done)return a(B,pt),qt&&Vs(B,vt),ft;if(pt===null){for(;!zt.done;vt++,zt=q.next())zt=et(B,zt.value,$),zt!==null&&(M=d(zt,M,vt),Nt===null?ft=zt:Nt.sibling=zt,Nt=zt);return qt&&Vs(B,vt),ft}for(pt=l(pt);!zt.done;vt++,zt=q.next())zt=Y(pt,B,vt,zt.value,$),zt!==null&&(e&&zt.alternate!==null&&pt.delete(zt.key===null?vt:zt.key),M=d(zt,M,vt),Nt===null?ft=zt:Nt.sibling=zt,Nt=zt);return e&&pt.forEach(function(GS){return i(B,GS)}),qt&&Vs(B,vt),ft}function Zt(B,M,q,$){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var ft=q.key;M!==null;){if(M.key===ft){if(ft=q.type,ft===O){if(M.tag===7){a(B,M.sibling),$=h(M,q.props.children),$.return=B,B=$;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ly(ft)===M.type){a(B,M.sibling),$=h(M,q.props),gl($,q),$.return=B,B=$;break t}a(B,M);break}else i(B,M);M=M.sibling}q.type===O?($=Os(q.props.children,B.mode,$,q.key),$.return=B,B=$):($=rc(q.type,q.key,q.props,null,B.mode,$),gl($,q),$.return=B,B=$)}return v(B);case N:t:{for(ft=q.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(B,M.sibling),$=h(M,q.children||[]),$.return=B,B=$;break t}else{a(B,M);break}else i(B,M);M=M.sibling}$=Lf(q,B.mode,$),$.return=B,B=$}return v(B);case w:return ft=q._init,q=ft(q._payload),Zt(B,M,q,$)}if(ne(q))return At(B,M,q,$);if(U(q)){if(ft=U(q),typeof ft!="function")throw Error(s(150));return q=ft.call(q),_t(B,M,q,$)}if(typeof q.then=="function")return Zt(B,M,Tc(q),$);if(q.$$typeof===X)return Zt(B,M,lc(B,q),$);Ac(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(B,M.sibling),$=h(M,q),$.return=B,B=$):(a(B,M),$=kf(q,B.mode,$),$.return=B,B=$),v(B)):a(B,M)}return function(B,M,q,$){try{pl=0;var ft=Zt(B,M,q,$);return za=null,ft}catch(pt){if(pt===al||pt===cc)throw pt;var Nt=gn(29,pt,null,B.mode);return Nt.lanes=$,Nt.return=B,Nt}finally{}}}var ja=Uy(!0),By=Uy(!1),Pn=it(null),ui=null;function Ar(e){var i=e.alternate;st(Oe,Oe.current&1),st(Pn,e),ui===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(ui=e)}function zy(e){if(e.tag===22){if(st(Oe,Oe.current),st(Pn,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else br()}function br(){st(Oe,Oe.current),st(Pn,Pn.current)}function Hi(e){ut(Pn),ui===e&&(ui=null),ut(Oe)}var Oe=it(0);function bc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function gd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var yd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=En(),h=vr(l);h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(Tn(i,e,l),ll(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=En(),h=vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Er(e,h,l),i!==null&&(Tn(i,e,l),ll(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),l=vr(a);l.tag=2,i!=null&&(l.callback=i),i=Er(e,l,a),i!==null&&(Tn(i,e,a),ll(i,e,a))}};function jy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function qy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&yd.enqueueReplaceState(i,i.state,null)}function zs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Hy(e){Sc(e)}function Fy(e){console.error(e)}function Gy(e){Sc(e)}function wc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _d(e,i,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(e,i)},a}function Qy(e){return e=vr(e),e.tag=3,e}function Ky(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Yy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Yy(i,a,l),typeof h!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Gb(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ui===null?qd():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Fd(e,l,h)),!1;case 22:return a.flags|=65536,l===Qf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Fd(e,l,h)),!1}throw Error(s(435,a.tag))}return Fd(e,l,h),qd(),!1}if(qt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zf&&(e=Error(s(422),{cause:l}),nl(On(e,a)))):(l!==zf&&(i=Error(s(423),{cause:l}),nl(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=On(l,a),h=_d(e.stateNode,l,h),Wf(e,h),de!==4&&(de=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),bl===null?bl=[d]:bl.push(d),de!==4&&(de=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=_d(a.stateNode,l,e),Wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dr===null||!Dr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qy(h),Ky(h,e,a,l),Wf(a,h),!1}a=a.return}while(a!==null);return!1}var Xy=Error(s(461)),Le=!1;function He(e,i,a,l){i.child=e===null?By(i,null,a,l):ja(i,e.child,a,l)}function Wy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ls(i),l=ed(e,i,a,v,d,h),T=nd(),e!==null&&!Le?(id(e,i,h),Fi(e,i,h)):(qt&&T&&Uf(i),i.flags|=1,He(e,i,l,h),i.child)}function Zy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Jy(e,i,d,l,h)):(e=rc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Rd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&e.ref===i.ref)return Fi(e,i,h)}return i.flags|=1,e=Li(d,l),e.ref=i.ref,e.return=i,i.child=e}function Jy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Jo(d,l)&&e.ref===i.ref)if(Le=!1,i.pendingProps=l=d,Rd(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,Fi(e,i,h)}return vd(e,i,a,l,h)}function $y(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return t_(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):Jf(),zy(i);else return i.lanes=i.childLanes=536870912,t_(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(uc(i,d.cachePool),Jg(i,d),br(),i.memoizedState=null):(e!==null&&uc(i,null),Jf(),br());return He(e,i,h,a),i.child}function t_(e,i,a,l){var h=Yf();return h=h===null?null:{parent:Ne._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&uc(i,null),Jf(),zy(i),e!==null&&il(e,i,l,!0),null}function Rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vd(e,i,a,l,h){return Ls(i),a=ed(e,i,a,l,void 0,h),l=nd(),e!==null&&!Le?(id(e,i,h),Fi(e,i,h)):(qt&&l&&Uf(i),i.flags|=1,He(e,i,a,h),i.child)}function e_(e,i,a,l,h,d){return Ls(i),i.updateQueue=null,a=ty(i,l,a,h),$g(e),l=nd(),e!==null&&!Le?(id(e,i,d),Fi(e,i,d)):(qt&&l&&Uf(i),i.flags|=1,He(e,i,a,d),i.child)}function n_(e,i,a,l,h){if(Ls(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=We(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?We(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(gd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&yd.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=zs(a,T);d.props=I;var F=d.context,J=a.contextType;v=Oa,typeof J=="object"&&J!==null&&(v=We(J));var et=a.getDerivedStateFromProps;J=typeof et=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==v)&&qy(i,d,l,v),_r=!1;var G=i.memoizedState;d.state=G,cl(i,l,d,h),ul(),F=i.memoizedState,T||G!==F||_r?(typeof et=="function"&&(gd(i,a,et,l),F=i.memoizedState),(I=_r||jy(i,a,I,l,G,F,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Xf(e,i),v=i.memoizedProps,J=zs(a,v),d.props=J,et=i.pendingProps,G=d.context,F=a.contextType,I=Oa,typeof F=="object"&&F!==null&&(I=We(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==et||G!==I)&&qy(i,d,l,I),_r=!1,G=i.memoizedState,d.state=G,cl(i,l,d,h),ul();var Y=i.memoizedState;v!==et||G!==Y||_r||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof T=="function"&&(gd(i,a,T,l),Y=i.memoizedState),(J=_r||jy(i,a,J,l,G,Y,I)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=J):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=ja(i,e.child,null,h),i.child=ja(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Fi(e,i,h),e}function i_(e,i,a,l){return el(),i.flags|=256,He(e,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:Fg()}}function Ad(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function r_(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Oe.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?Ar(i):br(),qt){var T=fe,I;if(I=T){t:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break t}if(I=Yn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,an=i,fe=null,I=!0):I=!1}I||Ps(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?i.lanes=32:i.lanes=536870912,null;Hi(i)}return T=l.children,l=l.fallback,h?(br(),h=i.mode,T=Ic({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Td(a),h.childLanes=Ad(e,v,a),i.memoizedState=Ed,l):(Ar(i),bd(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ar(i),i.flags&=-257,i=Sd(e,i,a)):i.memoizedState!==null?(br(),i.child=e.child,i.flags|=128,i=null):(br(),h=l.fallback,T=i.mode,l=Ic({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,e.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=Ad(e,v,a),i.memoizedState=Ed,i=h);else if(Ar(i),sm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=Sd(e,i,a)}else if(Le||il(e,i,a,!1),v=(a&e.childLanes)!==0,Le||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Na(e,l),Tn(v,e,l),Xy;T.data==="$?"||qd(),i=Sd(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,fe=Yn(T.nextSibling),an=i,qt=!0,Ms=null,li=!1,e!==null&&(Vn[Mn++]=Ui,Vn[Mn++]=Bi,Vn[Mn++]=xs,Ui=e.id,Bi=e.overflow,xs=i),i=bd(i,l.children),i.flags|=4096);return i}return h?(br(),h=l.fallback,T=i.mode,I=e.child,F=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Li(F,h):(h=Os(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Td(a):(I=T.cachePool,I!==null?(F=Ne._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Fg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Ad(e,v,a),i.memoizedState=Ed,l):(Ar(i),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function bd(e,i){return i=Ic({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ic(e,i){return e=gn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Sd(e,i,a){return ja(i,e.child,null,a),e=bd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function s_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),qf(e.return,i,a)}function wd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function a_(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(He(e,i,l.children,a),l=Oe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s_(e,a,i);else if(e.tag===19)s_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(st(Oe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&bc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&bc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}wd(i,!0,a,null,d);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(il(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Li(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function Yb(e,i,a){switch(i.tag){case 3:$t(i,i.stateNode.containerInfo),yr(i,Ne,e.memoizedState.cache),el();break;case 27:case 5:ur(i);break;case 4:$t(i,i.stateNode.containerInfo);break;case 10:yr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(i),i.flags|=128,null):(a&i.child.childLanes)!==0?r_(e,i,a):(Ar(i),e=Fi(e,i,a),e!==null?e.sibling:null);Ar(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return a_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Oe,Oe.current),l)break;return null;case 22:case 23:return i.lanes=0,$y(e,i,a);case 24:yr(i,Ne,e.memoizedState.cache)}return Fi(e,i,a)}function o_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!Rd(e,a)&&(i.flags&128)===0)return Le=!1,Yb(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(i.flags&1048576)!==0&&Lg(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Pf(l)?(e=zs(l,e),i.tag=1,i=n_(null,i,l,e,a)):(i.tag=0,i=vd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===rt){i.tag=11,i=Wy(null,i,l,e,a);break t}else if(h===C){i.tag=14,i=Zy(null,i,l,e,a);break t}}throw i=Re(l)||l,Error(s(306,i,""))}}return i;case 0:return vd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),n_(e,i,l,h,a);case 3:t:{if($t(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Xf(e,i),cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,yr(i,Ne,l),l!==d.cache&&Hf(i,[Ne],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=i_(e,i,l,a);break t}else if(l!==h){h=On(Error(s(424)),i),nl(h),i=i_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(fe=Yn(e.firstChild),an=i,qt=!0,Ms=null,li=!0,a=By(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===h){i=Fi(e,i,a);break t}He(e,i,l,a)}i=i.child}return i;case 26:return Rc(e,i),e===null?(a=hv(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=jc(bt.current).createElement(a),l[Ie]=i,l[ve]=e,Ge(l,a,e),pe(l),i.stateNode=l):i.memoizedState=hv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ur(i),e===null&&qt&&(l=i.stateNode=lv(i.type,i.pendingProps,bt.current),an=i,li=!0,h=fe,xr(i.type)?(am=h,fe=Yn(l.firstChild)):fe=h),He(e,i,i.pendingProps.children,a),Rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=fe)&&(l=ES(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,an=i,fe=Yn(l.firstChild),li=!1,h=!0):h=!1),h||Ps(i)),ur(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,nm(h,d)?l=null:v!==null&&nm(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ed(e,i,Ub,null,null,a),xl._currentValue=h),Rc(e,i),He(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=fe)&&(a=TS(a,i.pendingProps,li),a!==null?(i.stateNode=a,an=i,fe=null,e=!0):e=!1),e||Ps(i)),null;case 13:return r_(e,i,a);case 4:return $t(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ja(i,null,l,a):He(e,i,l,a),i.child;case 11:return Wy(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yr(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ls(i),h=We(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return Zy(e,i,i.type,i.pendingProps,a);case 15:return Jy(e,i,i.type,i.pendingProps,a);case 19:return a_(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Ic(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Li(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return $y(e,i,a);case 24:return Ls(i),l=We(Ne),e===null?(h=Yf(),h===null&&(h=te,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),yr(i,Ne,h)):((e.lanes&a)!==0&&(Xf(e,i),cl(i,null,null,a),ul()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yr(i,Ne,l)):(l=d.cache,yr(i,Ne,l),l!==h.cache&&Hf(i,[Ne],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function l_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gv(i)){if(i=Pn.current,i!==null&&((Ut&4194048)===Ut?ui!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||i!==ui))throw ol=Qf,Gg;e.flags|=8192}}function Cc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Mo():536870912,e.lanes|=i,Ga|=i)}function yl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function Qb(e,i,a){var l=i.pendingProps;switch(Bf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ne),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(tl(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zg())),oe(i),null;case 26:return a=i.memoizedState,e===null?(Gi(i),a!==null?(oe(i),l_(i,a)):(oe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Gi(i),oe(i),l_(i,a)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==l&&Gi(i),oe(i),i.flags&=-16777217),null;case 27:Si(i),a=bt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=yt.current,tl(i)?Ug(i):(e=lv(h,l,a),i.stateNode=e,Gi(i))}return oe(i),null;case 5:if(Si(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(e=yt.current,tl(i))Ug(i);else{switch(h=jc(bt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ie]=i,e[ve]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ge(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,tl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ev(e.nodeValue,a)),e||Ps(i)}else e=jc(e).createTextNode(l),e[Ie]=i,i.stateNode=e}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=tl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ie]=i}else el(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=zg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hi(i),i):(Hi(i),null)}if(Hi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),oe(i),null;case 4:return Wn(),e===null&&Zd(i.stateNode.containerInfo),oe(i),null;case 10:return ji(i.type),oe(i),null;case 19:if(ut(Oe),h=i.memoizedState,h===null)return oe(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=bc(e),d!==null){for(i.flags|=128,yl(h,!1),e=d.updateQueue,i.updateQueue=e,Cc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)kg(a,e),a=a.sibling;return st(Oe,Oe.current&1|2),i.child}e=e.sibling}h.tail!==null&&wn()>Oc&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304)}else{if(!l)if(e=bc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Cc(i,e),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return oe(i),null}else 2*wn()-h.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,e=Oe.current,st(Oe,l?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return Hi(i),$f(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ut(Us),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(Ne),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Kb(e,i){switch(Bf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ji(Ne),Wn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Si(i),null;case 13:if(Hi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));el()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ut(Oe),null;case 4:return Wn(),null;case 10:return ji(i.type),null;case 22:case 23:return Hi(i),$f(),e!==null&&ut(Us),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ji(Ne),null;case 25:return null;default:return null}}function u_(e,i){switch(Bf(i),i.tag){case 3:ji(Ne),Wn();break;case 26:case 27:case 5:Si(i);break;case 4:Wn();break;case 13:Hi(i);break;case 19:ut(Oe);break;case 10:ji(i.type);break;case 22:case 23:Hi(i),$f(),e!==null&&ut(Us);break;case 24:ji(Ne)}}function _l(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Jt(i,i.return,T)}}function Sr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,F=T;try{F()}catch(J){Jt(h,I,J)}}}l=l.next}while(l!==d)}}catch(J){Jt(i,i.return,J)}}function c_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Zg(i,a)}catch(l){Jt(e,e.return,l)}}}function h_(e,i,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function vl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function f_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function Id(e,i,a){try{var l=e.stateNode;pS(l,e.type,a,i),l[ve]=i}catch(h){Jt(e,e.return,h)}}function d_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function Cd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||d_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=zc));else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Dd(e,i,a),e=e.sibling;e!==null;)Dd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function m_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ge(i,l,a),i[Ie]=e,i[ve]=a}catch(d){Jt(e,e.return,d)}}var Yi=!1,ye=!1,Nd=!1,p_=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Xb(e,i){if(e=e.containerInfo,tm=Qc,e=Rg(e),Cf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,F=0,J=0,et=e,G=null;e:for(;;){for(var Y;et!==a||h!==0&&et.nodeType!==3||(T=v+h),et!==d||l!==0&&et.nodeType!==3||(I=v+l),et.nodeType===3&&(v+=et.nodeValue.length),(Y=et.firstChild)!==null;)G=et,et=Y;for(;;){if(et===e)break e;if(G===a&&++F===h&&(T=v),G===d&&++J===l&&(I=v),(Y=et.nextSibling)!==null)break;et=G,G=et.parentNode}et=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:e,selectionRange:a},Qc=!1,Ue=i;Ue!==null;)if(i=Ue,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ue=e;else for(;Ue!==null;){switch(i=Ue,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var At=zs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(At,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)rm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ue=e;break}Ue=i.return}}function g_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(e,a),l&4&&_l(5,a);break;case 1:if(wr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&c_(a),l&512&&vl(a,a.return);break;case 3:if(wr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(e,i)}catch(v){Jt(a,a.return,v)}}break;case 27:i===null&&l&4&&m_(a);case 26:case 5:wr(e,a),i===null&&l&4&&f_(a),l&512&&vl(a,a.return);break;case 12:wr(e,a);break;case 13:wr(e,a),l&4&&v_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rS.bind(null,a),AS(e,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){i=i!==null&&i.memoizedState!==null||ye,h=Yi;var d=ye;Yi=l,(ye=i)&&!d?Rr(e,a,(a.subtreeFlags&8772)!==0):wr(e,a),Yi=h,ye=d}break;case 30:break;default:wr(e,a)}}function y_(e){var i=e.alternate;i!==null&&(e.alternate=null,y_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&dr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,un=!1;function Qi(e,i,a){for(a=a.child;a!==null;)__(e,i,a),a=a.sibling}function __(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:ye||ci(a,i),Qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ye||ci(a,i);var l=ae,h=un;xr(a.type)&&(ae=a.stateNode,un=!1),Qi(e,i,a),Cl(a.stateNode),ae=l,un=h;break;case 5:ye||ci(a,i);case 6:if(l=ae,h=un,ae=null,Qi(e,i,a),ae=l,un=h,ae!==null)if(un)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:ae!==null&&(un?(e=ae,av(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kl(e)):av(ae,a.stateNode));break;case 4:l=ae,h=un,ae=a.stateNode.containerInfo,un=!0,Qi(e,i,a),ae=l,un=h;break;case 0:case 11:case 14:case 15:ye||Sr(2,a,i),ye||Sr(4,a,i),Qi(e,i,a);break;case 1:ye||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&h_(a,i,l)),Qi(e,i,a);break;case 21:Qi(e,i,a);break;case 22:ye=(l=ye)||a.memoizedState!==null,Qi(e,i,a),ye=l;break;default:Qi(e,i,a)}}function v_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Jt(i,i.return,a)}}function Wb(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new p_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new p_),i;default:throw Error(s(435,e.tag))}}function Od(e,i){var a=Wb(e);i.forEach(function(l){var h=sS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){ae=T.stateNode,un=!1;break t}break;case 5:ae=T.stateNode,un=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(ae===null)throw Error(s(160));__(d,v,h),ae=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)E_(i,e),i=i.sibling}var Gn=null;function E_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(i,e),_n(e),l&4&&(Sr(3,e,e.return),_l(3,e),Sr(5,e,e.return));break;case 1:yn(i,e),_n(e),l&512&&(ye||a===null||ci(a,a.return)),l&64&&Yi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(yn(i,e),_n(e),l&512&&(ye||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[Ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Ie]=e,pe(d),l=d;break t;case"link":var v=mv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(v=mv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ie]=e,pe(d),l=d}e.stateNode=l}else pv(h,e.type,e.stateNode);else e.stateNode=dv(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?pv(h,e.type,e.stateNode):dv(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(i,e),_n(e),l&512&&(ye||a===null||ci(a,a.return)),a!==null&&l&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,e),_n(e),l&512&&(ye||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(Y){Jt(e,e.return,Y)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Id(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(yn(i,e),_n(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Y){Jt(e,e.return,Y)}}break;case 3:if(Fc=null,h=Gn,Gn=qc(i.containerInfo),yn(i,e),Gn=h,_n(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(i.containerInfo)}catch(Y){Jt(e,e.return,Y)}Nd&&(Nd=!1,T_(e));break;case 4:l=Gn,Gn=qc(e.stateNode.containerInfo),yn(i,e),_n(e),Gn=l;break;case 12:yn(i,e),_n(e);break;case 13:yn(i,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=wn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Od(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Yi,J=ye;if(Yi=F||h,ye=J||I,yn(i,e),ye=J,Yi=F,_n(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Yi||ye||js(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var et=I.memoizedProps.style,G=et!=null&&et.hasOwnProperty("display")?et.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){Jt(I,I.return,Y)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Y){Jt(I,I.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Od(e,a))));break;case 19:yn(i,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Od(e,l)));break;case 30:break;case 21:break;default:yn(i,e),_n(e)}}function _n(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(d_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(e);Dc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var T=Cd(e);Dc(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Cd(e);Dd(e,F,I);break;default:throw Error(s(161))}}catch(J){Jt(e,e.return,J)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function T_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function wr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)g_(e,i.alternate,i),i=i.sibling}function js(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),js(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&h_(i,i.return,a),js(i);break;case 27:Cl(i.stateNode);case 26:case 5:ci(i,i.return),js(i);break;case 22:i.memoizedState===null&&js(i);break;case 30:js(i);break;default:js(i)}e=e.sibling}}function Rr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),_l(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Jt(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Wg(I[h],T)}catch(F){Jt(l,l.return,F)}}a&&v&64&&c_(d),vl(d,d.return);break;case 27:m_(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&f_(d),vl(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&v_(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),vl(d,d.return);break;case 30:break;default:Rr(h,d,a)}i=i.sibling}}function xd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rl(a))}function Vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e))}function hi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)A_(e,i,a,l),i=i.sibling}function A_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,l),h&2048&&_l(9,i);break;case 1:hi(e,i,a,l);break;case 3:hi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&rl(e)));break;case 12:if(h&2048){hi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Jt(i,i.return,I)}}else hi(e,i,a,l);break;case 13:hi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(e,i,a,l):El(e,i):d._visibility&2?hi(e,i,a,l):(d._visibility|=2,qa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&xd(v,i);break;case 24:hi(e,i,a,l),h&2048&&Vd(i.alternate,i);break;default:hi(e,i,a,l)}}function qa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,T,I,h),_l(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?qa(d,v,T,I,h):El(d,v):(J._visibility|=2,qa(d,v,T,I,h)),h&&F&2048&&xd(v.alternate,v);break;case 24:qa(d,v,T,I,h),h&&F&2048&&Vd(v.alternate,v);break;default:qa(d,v,T,I,h)}i=i.sibling}}function El(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&xd(l.alternate,l);break;case 24:El(a,l),h&2048&&Vd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ha(e){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)b_(e),e=e.sibling}function b_(e){switch(e.tag){case 26:Ha(e),e.flags&Tl&&e.memoizedState!==null&&PS(Gn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e);break;case 3:case 4:var i=Gn;Gn=qc(e.stateNode.containerInfo),Ha(e),Gn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Tl,Tl=16777216,Ha(e),Tl=i):Ha(e));break;default:Ha(e)}}function S_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,R_(l,e)}S_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)w_(e),e=e.sibling}function w_(e){switch(e.tag){case 0:case 11:case 15:Al(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:Al(e);break;case 12:Al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nc(e)):Al(e);break;default:Al(e)}}function Nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ue=l,R_(l,e)}S_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}e=e.sibling}}function R_(e,i){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:Sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=e;Ue!==null;){l=Ue;var h=l.sibling,d=l.return;if(y_(l),l===a){Ue=null;break t}if(h!==null){h.return=d,Ue=h;break t}Ue=d}}}var Zb={getCacheForType:function(e){var i=We(Ne),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Jb=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Ot=null,Ut=0,Qt=0,vn=null,Ir=!1,Fa=!1,Md=!1,Ki=0,de=0,Cr=0,qs=0,Pd=0,kn=0,Ga=0,bl=null,cn=null,kd=!1,Ld=0,Oc=1/0,xc=null,Dr=null,Fe=0,Nr=null,Ya=null,Qa=0,Ud=0,Bd=null,I_=null,Sl=0,zd=null;function En(){if((Yt&2)!==0&&Ut!==0)return Ut&-Ut;if(W.T!==null){var e=Ma;return e!==0?e:Qd()}return hr()}function C_(){kn===0&&(kn=(Ut&536870912)===0||qt?Vo():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),kn}function Tn(e,i,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),Or(e,Ut,kn,!1)),Ri(e,a),((Yt&2)===0||e!==te)&&(e===te&&((Yt&2)===0&&(qs|=a),de===4&&Or(e,Ut,kn,!1)),fi(e))}function D_(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ms(e,i),h=l?eS(e,i):Hd(e,i,!0),d=l;do{if(h===0){Fa&&!l&&Or(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!$b(a)){h=Hd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=bl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ka(T,v).flags|=256),v=Hd(T,v,!1),v!==2){if(Md&&!I){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(e,0),Or(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Or(l,i,kn,!Ir);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ld+300-wn(),10<h)){if(Or(l,i,kn,!Ir),ha(l,0,!0)!==0)break t;l.timeoutHandle=rv(N_.bind(null,l,a,cn,xc,kd,i,kn,qs,Ga,Ir,d,2,-0,0),h);break t}N_(l,a,cn,xc,kd,i,kn,qs,Ga,Ir,d,0,-0,0)}}break}while(!0);fi(e)}function N_(e,i,a,l,h,d,v,T,I,F,J,et,G,Y){if(e.timeoutHandle=-1,et=i.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:MS},b_(i),et=kS(),et!==null)){e.cancelPendingCommit=et(L_.bind(null,e,i,d,a,l,h,v,T,I,J,1,G,Y)),Or(e,d,v,!F);return}L_(e,i,d,a,l,h,v,T,I)}function $b(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(e,i,a,l){i&=~Pd,i&=~qs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Xe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(e,a,i)}function Vc(){return(Yt&6)===0?(wl(0),!1):!0}function jd(){if(Ot!==null){if(Qt===0)var e=Ot.return;else e=Ot,zi=ks=null,rd(e),za=null,pl=0,e=Ot;for(;e!==null;)u_(e.alternate,e),e=e.return;Ot=null}}function Ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),jd(),te=e,Ot=a=Li(e.current,null),Ut=i,Qt=0,vn=null,Ir=!1,Fa=ms(e,i),Md=!1,Ga=kn=Pd=qs=Cr=de=0,cn=bl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Xe(l),d=1<<h;i|=e[h],l&=~d}return Ki=i,ec(),a}function O_(e,i){It=null,W.H=Ec,i===al||i===cc?(i=Kg(),Qt=3):i===Gg?(i=Kg(),Qt=4):Qt=i===Xy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ot===null&&(de=1,wc(e,On(i,e.current)))}function x_(){var e=W.H;return W.H=Ec,e===null?Ec:e}function V_(){var e=W.A;return W.A=Zb,e}function qd(){de=4,Ir||(Ut&4194048)!==Ut&&Pn.current!==null||(Fa=!0),(Cr&134217727)===0&&(qs&134217727)===0||te===null||Or(te,Ut,kn,!1)}function Hd(e,i,a){var l=Yt;Yt|=2;var h=x_(),d=V_();(te!==e||Ut!==i)&&(xc=null,Ka(e,i)),i=!1;var v=de;t:do try{if(Qt!==0&&Ot!==null){var T=Ot,I=vn;switch(Qt){case 8:jd(),v=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var F=Qt;if(Qt=0,vn=null,Xa(e,T,I,F),a&&Fa){v=0;break t}break;default:F=Qt,Qt=0,vn=null,Xa(e,T,I,F)}}tS(),v=de;break}catch(J){O_(e,J)}while(!0);return i&&e.shellSuspendCounter++,zi=ks=null,Yt=l,W.H=h,W.A=d,Ot===null&&(te=null,Ut=0,ec()),v}function tS(){for(;Ot!==null;)M_(Ot)}function eS(e,i){var a=Yt;Yt|=2;var l=x_(),h=V_();te!==e||Ut!==i?(xc=null,Oc=wn()+500,Ka(e,i)):Fa=ms(e,i);t:do try{if(Qt!==0&&Ot!==null){i=Ot;var d=vn;e:switch(Qt){case 1:Qt=0,vn=null,Xa(e,i,d,1);break;case 2:case 9:if(Yg(d)){Qt=0,vn=null,P_(i);break}i=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),fi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Yg(d)?(Qt=0,vn=null,P_(i)):(Qt=0,vn=null,Xa(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||gv(v)){Qt=0,vn=null;var I=T.sibling;if(I!==null)Ot=I;else{var F=T.return;F!==null?(Ot=F,Mc(F)):Ot=null}break e}}Qt=0,vn=null,Xa(e,i,d,5);break;case 6:Qt=0,vn=null,Xa(e,i,d,6);break;case 8:jd(),de=6;break t;default:throw Error(s(462))}}nS();break}catch(J){O_(e,J)}while(!0);return zi=ks=null,W.H=l,W.A=h,Yt=a,Ot!==null?0:(te=null,Ut=0,ec(),de)}function nS(){for(;Ot!==null&&!Do();)M_(Ot)}function M_(e){var i=o_(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?Mc(e):Ot=i}function P_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=e_(a,i,i.pendingProps,i.type,void 0,Ut);break;case 11:i=e_(a,i,i.pendingProps,i.type.render,i.ref,Ut);break;case 5:rd(i);default:u_(a,i),i=Ot=kg(i,Ki),i=o_(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?Mc(e):Ot=i}function Xa(e,i,a,l){zi=ks=null,rd(i),za=null,pl=0;var h=i.return;try{if(Gb(e,h,i,a,Ut)){de=1,wc(e,On(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;de=1,wc(e,On(a,e.current)),Ot=null;return}i.flags&32768?(qt||l===1?e=!0:Fa||(Ut&536870912)!==0?e=!1:(Ir=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,e)):Mc(i)}function Mc(e){var i=e;do{if((i.flags&32768)!==0){k_(i,Ir);return}e=i.return;var a=Qb(i.alternate,i,Ki);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);de===0&&(de=5)}function k_(e,i){do{var a=Kb(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);de=6,Ot=null}function L_(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do Pc();while(Fe!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vf,Po(e,a,d,v,T,I),e===te&&(Ot=te=null,Ut=0),Ya=i,Nr=e,Qa=a,Ud=d,Bd=h,I_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aS(cs,function(){return q_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=lt.p,lt.p=2,v=Yt,Yt|=4;try{Xb(e,i,a)}finally{Yt=v,lt.p=h,W.T=l}}Fe=1,U_(),B_(),z_()}}function U_(){if(Fe===1){Fe=0;var e=Nr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{E_(i,e);var d=em,v=Rg(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(I!==null&&Cf(T)){var F=I.start,J=I.end;if(J===void 0&&(J=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(J,T.value.length);else{var et=T.ownerDocument||document,G=et&&et.defaultView||window;if(G.getSelection){var Y=G.getSelection(),At=T.textContent.length,_t=Math.min(I.start,At),Zt=I.end===void 0?_t:Math.min(I.end,At);!Y.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var B=Sg(T,_t),M=Sg(T,Zt);if(B&&M&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var q=et.createRange();q.setStart(B.node,B.offset),Y.removeAllRanges(),_t>Zt?(Y.addRange(q),Y.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),Y.addRange(q))}}}}for(et=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<et.length;T++){var $=et[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Qc=!!tm,em=tm=null}finally{Yt=h,lt.p=l,W.T=a}}e.current=i,Fe=2}}function B_(){if(Fe===2){Fe=0;var e=Nr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{g_(e,i.alternate,i)}finally{Yt=h,lt.p=l,W.T=a}}Fe=3}}function z_(){if(Fe===4||Fe===3){Fe=0,Nu();var e=Nr,i=Ya,a=Qa,l=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Fe=5:(Fe=0,Ya=Nr=null,j_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Dr=null),fa(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=lt.p,lt.p=2,W.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{W.T=i,lt.p=h}}(Qa&3)!==0&&Pc(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===zd?Sl++:(Sl=0,zd=e):Sl=0,wl(0)}}function j_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,rl(i)))}function Pc(e){return U_(),B_(),z_(),q_()}function q_(){if(Fe!==5)return!1;var e=Nr,i=Ud;Ud=0;var a=fa(Qa),l=W.T,h=lt.p;try{lt.p=32>a?32:a,W.T=null,a=Bd,Bd=null;var d=Nr,v=Qa;if(Fe=0,Ya=Nr=null,Qa=0,(Yt&6)!==0)throw Error(s(331));var T=Yt;if(Yt|=4,w_(d.current),A_(d,d.current,v,a),Yt=T,wl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,d)}catch{}return!0}finally{lt.p=h,W.T=l,j_(e,i)}}function H_(e,i,a){i=On(a,i),i=_d(e.stateNode,i,2),e=Er(e,i,2),e!==null&&(Ri(e,2),fi(e))}function Jt(e,i,a){if(e.tag===3)H_(e,e,a);else for(;i!==null;){if(i.tag===3){H_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Dr===null||!Dr.has(l))){e=On(a,e),a=Qy(2),l=Er(i,a,2),l!==null&&(Ky(a,l,i,e),Ri(l,2),fi(l));break}}i=i.return}}function Fd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Jb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Md=!0,h.add(a),e=iS.bind(null,e,i,a),i.then(e,e))}function iS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ut&a)===a&&(de===4||de===3&&(Ut&62914560)===Ut&&300>wn()-Ld?(Yt&2)===0&&Ka(e,0):Pd|=a,Ga===Ut&&(Ga=0)),fi(e)}function F_(e,i){i===0&&(i=Mo()),e=Na(e,i),e!==null&&(Ri(e,i),fi(e))}function rS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(e,a)}function sS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(e,a)}function aS(e,i){return ls(e,i)}var kc=null,Wa=null,Gd=!1,Lc=!1,Yd=!1,Hs=0;function fi(e){e!==Wa&&e.next===null&&(Wa===null?kc=Wa=e:Wa=Wa.next=e),Lc=!0,Gd||(Gd=!0,lS())}function wl(e,i){if(!Yd&&Lc){Yd=!0;do for(var a=!1,l=kc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Xe(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,K_(l,d))}else d=Ut,d=ha(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,K_(l,d));l=l.next}while(a);Yd=!1}}function oS(){G_()}function G_(){Lc=Gd=!1;var e=0;Hs!==0&&(gS()&&(e=Hs),Hs=0);for(var i=wn(),a=null,l=kc;l!==null;){var h=l.next,d=Y_(l,i);d===0?(l.next=null,a===null?kc=h:a.next=h,h===null&&(Wa=a)):(a=l,(e!==0||(d&3)!==0)&&(Lc=!0)),l=h}wl(e)}function Y_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Xe(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=xo(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=te,a=Ut,a=ha(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ms(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&us(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=cs;break;case 268435456:a=ca;break;default:a=cs}return l=Q_.bind(null,e),a=ls(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&us(l),e.callbackPriority=2,e.callbackNode=null,2}function Q_(e,i){if(Fe!==0&&Fe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Pc()&&e.callbackNode!==a)return null;var l=Ut;return l=ha(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(D_(e,l,i),Y_(e,wn()),e.callbackNode!=null&&e.callbackNode===a?Q_.bind(null,e):null)}function K_(e,i){if(Pc())return null;D_(e,i,!0)}function lS(){_S(function(){(Yt&6)!==0?ls(No,oS):G_()})}function Qd(){return Hs===0&&(Hs=Vo()),Hs}function X_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function W_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function uS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[ve]||null).action),v=l.submitter;v&&(i=(i=v[ve]||null)?X_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new va("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var I=v?W_(h,v):new FormData(h);dd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?W_(h,v):new FormData(h),dd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Kd=0;Kd<xf.length;Kd++){var Xd=xf[Kd],cS=Xd.toLowerCase(),hS=Xd[0].toUpperCase()+Xd.slice(1);Fn(cS,"on"+hS)}Fn(Dg,"onAnimationEnd"),Fn(Ng,"onAnimationIteration"),Fn(Og,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Cb,"onTransitionRun"),Fn(Db,"onTransitionStart"),Fn(Nb,"onTransitionCancel"),Fn(xg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Z_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,F=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(J){Sc(J)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,F=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=F;try{d(h)}catch(J){Sc(J)}h.currentTarget=null,d=I}}}}function xt(e,i){var a=i[Lo];a===void 0&&(a=i[Lo]=new Set);var l=e+"__bubble";a.has(l)||(J_(i,e,2,!1),a.add(l))}function Wd(e,i,a){var l=0;i&&(l|=4),J_(a,e,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Uc]){e[Uc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(fS.has(a)||Wd(a,!1,e),Wd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Wd("selectionchange",!1,i))}}function J_(e,i,a,l){switch(Av(i)){case 2:var h=BS;break;case 8:h=zS;break;default:h=hm}a=h.bind(null,i,a,e),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Jd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ii(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}zu(function(){var F=d,J=Cn(a),et=[];t:{var G=Vg.get(e);if(G!==void 0){var Y=va,At=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":Y=wa;break;case"focusin":At="focus",Y=Aa;break;case"focusout":At="blur",Y=Aa;break;case"beforeblur":case"afterblur":Y=Aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Ku;break;case Dg:case Ng:case Og:Y=ba;break;case xg:Y=Wu;break;case"scroll":case"scrollend":Y=ju;break;case"wheel":Y=Ra;break;case"copy":case"cut":case"paste":Y=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wo;break;case"toggle":case"beforetoggle":Y=Ju}var _t=(i&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),B=_t?G!==null?G+"Capture":null:G;_t=[];for(var M=F,q;M!==null;){var $=M;if(q=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||q===null||B===null||($=As(M,B),$!=null&&_t.push(Il(M,$,q))),Zt)break;M=M.return}0<_t.length&&(G=new Y(G,At,null,a,J),et.push({event:G,listeners:_t}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",G&&a!==Oi&&(At=a.relatedTarget||a.fromElement)&&(Ii(At)||At[Rn]))break t;if((Y||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(At=a.relatedTarget||a.toElement,Y=F,At=At?Ii(At):null,At!==null&&(Zt=u(At),_t=At.tag,At!==Zt||_t!==5&&_t!==27&&_t!==6)&&(At=null)):(Y=null,At=F),Y!==At)){if(_t=Nn,$="onMouseLeave",B="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Wo,$="onPointerLeave",B="onPointerEnter",M="pointer"),Zt=Y==null?G:$n(Y),q=At==null?G:$n(At),G=new _t($,M+"leave",Y,a,J),G.target=Zt,G.relatedTarget=q,$=null,Ii(J)===F&&(_t=new _t(B,M+"enter",At,a,J),_t.target=q,_t.relatedTarget=Zt,$=_t),Zt=$,Y&&At)e:{for(_t=Y,B=At,M=0,q=_t;q;q=Za(q))M++;for(q=0,$=B;$;$=Za($))q++;for(;0<M-q;)_t=Za(_t),M--;for(;0<q-M;)B=Za(B),q--;for(;M--;){if(_t===B||B!==null&&_t===B.alternate)break e;_t=Za(_t),B=Za(B)}_t=null}else _t=null;Y!==null&&$_(et,G,Y,_t,!1),At!==null&&Zt!==null&&$_(et,Zt,At,_t,!0)}}t:{if(G=F?$n(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ft=_g;else if(De(G))if(vg)ft=wb;else{ft=bb;var Nt=Ab}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ho(F.elementType)&&(ft=_g):ft=Sb;if(ft&&(ft=ft(e,F))){ki(et,ft,a,J);break t}Nt&&Nt(e,G,F),e==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&pr(G,"number",G.value)}switch(Nt=F?$n(F):window,e){case"focusin":(De(Nt)||Nt.contentEditable==="true")&&(Ia=Nt,Df=F,$o=null);break;case"focusout":$o=Df=Ia=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Ig(et,a,J);break;case"selectionchange":if(Ib)break;case"keydown":case"keyup":Ig(et,a,J)}var pt;if(ai)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?K(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(pt=Go()):(ni=J,gr="value"in ni?ni.value:ni.textContent,kt=!0)),Nt=Bc(F,vt),0<Nt.length&&(vt=new Ko(vt,e,null,a,J),et.push({event:vt,listeners:Nt}),pt?vt.data=pt:(pt=ot(a),pt!==null&&(vt.data=pt)))),(pt=y?Ce(e,a):Lt(e,a))&&(vt=Bc(F,"onBeforeInput"),0<vt.length&&(Nt=new Ko("onBeforeInput","beforeinput",null,a,J),et.push({event:Nt,listeners:vt}),Nt.data=pt)),uS(et,e,F,a,J)}Z_(et,i)})}function Il(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Bc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(e,a),h!=null&&l.unshift(Il(e,h,d)),h=As(e,i),h!=null&&l.push(Il(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,F=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||F===null||(I=F,h?(F=As(a,d),F!=null&&v.unshift(Il(a,F,I))):h||(F=As(a,d),F!=null&&v.push(Il(a,F,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var dS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function tv(e){return(typeof e=="string"?e:""+e).replace(dS,`
`).replace(mS,"")}function ev(e,i){return i=tv(i),tv(e)===i}function zc(){}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,l);break;case"style":qo(e,l,d);break;case"data":if(i!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_a(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_a(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=zc);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),mr(e,"popover",l);break;case"xlinkActuate":je(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,mr(e,a,l))}}function $d(e,i,a,l,h,d){switch(a){case"style":qo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):mr(e,a,l)}}}function Ge(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,v,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var T=d=v=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":I=J;break;case"defaultChecked":F=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Wt(e,i,l,J,a,null)}}vs(e,d,T,I,F,v,h,!1),ya(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Wt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ni(e,!!l,i,!1):a!=null&&Ni(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Wt(e,i,v,T,a,null)}Es(e,l,h,d),ya(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,i,I,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Rl.length;l++)xt(Rl[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,F,l,a,null)}return;default:if(Ho(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&$d(e,i,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Wt(e,i,T,l,a,null))}function pS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,F=null,J=null;for(Y in a){var et=a[Y];if(a.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=et;default:l.hasOwnProperty(Y)||Wt(e,i,Y,null,l,et)}}for(var G in l){var Y=l[G];if(et=a[G],l.hasOwnProperty(G)&&(Y!=null||et!=null))switch(G){case"type":d=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":J=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==et&&Wt(e,i,G,Y,l,et)}}mn(e,v,T,I,F,J,d,h);return;case"select":Y=v=T=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Wt(e,i,h,d,l,I)}i=T,a=v,l=Y,G!=null?Ni(e,!!a,G,!1):!!l!=!!a&&(i!=null?Ni(e,!!a,i,!0):Ni(e,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,v,h,l,d)}Kt(e,G,Y);return;case"option":for(var At in a)if(G=a[At],a.hasOwnProperty(At)&&G!=null&&!l.hasOwnProperty(At))switch(At){case"selected":e.selected=!1;break;default:Wt(e,i,At,null,l,G)}for(I in l)if(G=l[I],Y=a[I],l.hasOwnProperty(I)&&G!==Y&&(G!=null||Y!=null))switch(I){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Wt(e,i,I,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)G=a[_t],a.hasOwnProperty(_t)&&G!=null&&!l.hasOwnProperty(_t)&&Wt(e,i,_t,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,F,G,l,Y)}return;default:if(Ho(i)){for(var Zt in a)G=a[Zt],a.hasOwnProperty(Zt)&&G!==void 0&&!l.hasOwnProperty(Zt)&&$d(e,i,Zt,void 0,l,G);for(J in l)G=l[J],Y=a[J],!l.hasOwnProperty(J)||G===Y||G===void 0&&Y===void 0||$d(e,i,J,G,l,Y);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&Wt(e,i,B,null,l,G);for(et in l)G=l[et],Y=a[et],!l.hasOwnProperty(et)||G===Y||G==null&&Y==null||Wt(e,i,et,G,l,Y)}var tm=null,em=null;function jc(e){return e.nodeType===9?e:e.ownerDocument}function nv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function nm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var im=null;function gS(){var e=window.event;return e&&e.type==="popstate"?e===im?!1:(im=e,!0):(im=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(e){return sv.resolve(null).then(e).catch(vS)}:rv;function vS(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function av(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Cl(v.documentElement),a&2&&Cl(v.body),a&4)for(a=v.head,Cl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ps]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),kl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(i)}function rm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ES(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ps])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function TS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function sm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function AS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var am=null;function ov(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function lv(e,i,a){switch(i=jc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);dr(e)}var Ln=new Map,uv=new Set;function qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=lt.d;lt.d={f:bS,r:SS,D:wS,C:RS,L:IS,m:CS,X:NS,S:DS,M:OS};function bS(){var e=Xi.f(),i=Vc();return e||i}function SS(e){var i=Jn(e);i!==null&&i.tag===5&&i.type==="form"?Dy(i):Xi.r(e)}var Ja=typeof document>"u"?null:document;function cv(e,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=Ee(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),uv.has(h)||(uv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ge(i,"link",e),pe(i),l.head.appendChild(i)))}}function wS(e){Xi.D(e),cv("dns-prefetch",e,null)}function RS(e,i){Xi.C(e,i),cv("preconnect",e,i)}function IS(e,i,a){Xi.L(e,i,a);var l=Ja;if(l&&e&&i){var h='link[rel="preload"][as="'+Ee(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ee(a.imageSizes)+'"]')):h+='[href="'+Ee(e)+'"]';var d=h;switch(i){case"style":d=$a(e);break;case"script":d=to(e)}Ln.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Nl(d))||(i=l.createElement("link"),Ge(i,"link",e),pe(i),l.head.appendChild(i)))}}function CS(e,i){Xi.m(e,i);var a=Ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!Ln.has(d)&&(e=E({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),Ge(l,"link",e),pe(l),a.head.appendChild(l)}}}function DS(e,i,a){Xi.S(e,i,a);var l=Ja;if(l&&e){var h=nn(l).hoistableStyles,d=$a(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Dl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&om(e,a);var I=v=l.createElement("link");pe(I),Ge(I,"link",e),I._p=new Promise(function(F,J){I.onload=F,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Hc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function NS(e,i){Xi.X(e,i);var a=Ja;if(a&&e){var l=nn(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(e=E({src:e,async:!0},i),(i=Ln.get(h))&&lm(e,i),d=a.createElement("script"),pe(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function OS(e,i){Xi.M(e,i);var a=Ja;if(a&&e){var l=nn(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&lm(e,i),d=a.createElement("script"),pe(d),Ge(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hv(e,i,a,l){var h=(h=bt.current)?qc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=$a(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=$a(a.href);var d=nn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Dl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||xS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $a(e){return'href="'+Ee(e)+'"'}function Dl(e){return'link[rel="stylesheet"]['+e+"]"}function fv(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function xS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ge(i,"link",a),pe(i),e.head.appendChild(i))}function to(e){return'[src="'+Ee(e)+'"]'}function Nl(e){return"script[async]"+e}function dv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return i.instance=l,pe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),Ge(l,"style",h),Hc(l,a.precedence,e),i.instance=l;case"stylesheet":h=$a(a.href);var d=e.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,pe(d),d;l=fv(a),(h=Ln.get(h))&&om(l,h),d=(e.ownerDocument||e).createElement("link"),pe(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ge(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,e),i.instance=d;case"script":return d=to(a.src),(h=e.querySelector(Nl(d)))?(i.instance=h,pe(h),h):(l=a,(h=Ln.get(d))&&(l=E({},a),lm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),Ge(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,e));return i.instance}function Hc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function lm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Fc=null;function mv(e,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[Ie]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function pv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function VS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ol=null;function MS(){}function PS(e,i,a){if(Ol===null)throw Error(s(475));var l=Ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=$a(a.href),d=e.querySelector(Dl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Gc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,pe(d);return}d=e.ownerDocument||e,a=fv(a),(h=Ln.get(h))&&om(a,h),d=d.createElement("link"),pe(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ge(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Gc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function kS(){if(Ol===null)throw Error(s(475));var e=Ol;return e.stylesheets&&e.count===0&&um(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&um(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Gc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function um(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,i.forEach(LS,e),Yc=null,Gc.call(e))}function LS(e,i){if(!(i.state.loading&4)){var a=Yc.get(e);if(a)var l=a.get(null);else{a=new Map,Yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var xl={$$typeof:X,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function US(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yv(e,i,a,l,h,d,v,T,I,F,J,et){return e=new US(e,i,a,v,T,I,F,et),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=Ff(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),e}function _v(e){return e?(e=Oa,e):Oa}function vv(e,i,a,l,h,d){h=_v(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(e,l,i),a!==null&&(Tn(a,e,i),ll(a,e,i))}function Ev(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function cm(e,i){Ev(e,i),(e=e.alternate)&&Ev(e,i)}function Tv(e){if(e.tag===13){var i=Na(e,67108864);i!==null&&Tn(i,e,67108864),cm(e,67108864)}}var Qc=!0;function BS(e,i,a,l){var h=W.T;W.T=null;var d=lt.p;try{lt.p=2,hm(e,i,a,l)}finally{lt.p=d,W.T=h}}function zS(e,i,a,l){var h=W.T;W.T=null;var d=lt.p;try{lt.p=8,hm(e,i,a,l)}finally{lt.p=d,W.T=h}}function hm(e,i,a,l){if(Qc){var h=fm(l);if(h===null)Jd(e,i,l,Kc,a),bv(e,l);else if(qS(h,e,i,a,l))l.stopPropagation();else if(bv(e,l),i&4&&-1<jS.indexOf(e)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Xe(v);T.entanglements[1]|=I,v&=~I}fi(d),(Yt&6)===0&&(Oc=wn()+500,wl(0))}}break;case 13:T=Na(d,2),T!==null&&Tn(T,d,2),Vc(),cm(d,2)}if(d=fm(l),d===null&&Jd(e,i,l,Kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Jd(e,i,l,null,a)}}function fm(e){return e=Cn(e),dm(e)}var Kc=null;function dm(e){if(Kc=null,e=Ii(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Kc=e,null}function Av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gf()){case No:return 2;case ua:return 8;case cs:case yf:return 32;case ca:return 268435456;default:return 32}default:return 32}}var mm=!1,Vr=null,Mr=null,Pr=null,Vl=new Map,Ml=new Map,kr=[],jS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(e,i){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Pl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Jn(i),i!==null&&Tv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function qS(e,i,a,l,h){switch(i){case"focusin":return Vr=Pl(Vr,e,i,a,l,h),!0;case"dragenter":return Mr=Pl(Mr,e,i,a,l,h),!0;case"mouseover":return Pr=Pl(Pr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Pl(Vl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Pl(Ml.get(d)||null,e,i,a,l,h)),!0}return!1}function Sv(e){var i=Ii(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Vu(e.priority,function(){if(a.tag===13){var l=En();l=cr(l);var h=Na(a,l);h!==null&&Tn(h,a,l),cm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=fm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return i=Jn(a),i!==null&&Tv(i),e.blockedOn=a,!1;i.shift()}return!0}function wv(e,i,a){Xc(e)&&a.delete(i)}function HS(){mm=!1,Vr!==null&&Xc(Vr)&&(Vr=null),Mr!==null&&Xc(Mr)&&(Mr=null),Pr!==null&&Xc(Pr)&&(Pr=null),Vl.forEach(wv),Ml.forEach(wv)}function Wc(e,i){e.blockedOn===i&&(e.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,HS)))}var Zc=null;function Rv(e){Zc!==e&&(Zc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===e&&(Zc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(e.splice(i,3),i-=3,dd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(e){function i(I){return Wc(I,e)}Vr!==null&&Wc(Vr,e),Mr!==null&&Wc(Mr,e),Pr!==null&&Wc(Pr,e),Vl.forEach(i),Ml.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ve]||null;if(typeof d=="function")v||Rv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)T=v.formAction;else if(dm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Rv(a)}}}function pm(e){this._internalRoot=e}Jc.prototype.render=pm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();vv(a,l,e,i,null,null)},Jc.prototype.unmount=pm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;vv(e.current,2,null,e,null,null),Vc(),i[Rn]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var i=hr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&Sv(e)}};var Iv=t.version;if(Iv!=="19.1.0")throw Error(s(527,Iv,"19.1.0"));lt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var FS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{he=$c.inject(FS),Gt=$c}catch{}}return Ul.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Hy,d=Fy,v=Gy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=yv(e,1,!1,null,null,a,l,h,d,v,T,null),e[Rn]=i.current,Zd(e),new pm(i)},Ul.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Hy,v=Fy,T=Gy,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=yv(e,1,!0,i,a??null,l,h,d,v,T,I,F),i.context=_v(null),a=i.current,l=En(),l=cr(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,i.current.lanes=a,Ri(i,a),fi(i),e[Rn]=i.current,Zd(e),new Jc(i)},Ul.version="19.1.0",Ul}var Lv;function e1(){if(Lv)return _m.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_m.exports=t1(),_m.exports}var n1=e1(),Bl={},Uv;function i1(){if(Uv)return Bl;Uv=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=f,Bl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,N){const O=new u,z=b.length;if(z<2)return O;const k=N?.decode||E;let L=0;do{const Q=b.indexOf("=",L);if(Q===-1)break;const X=b.indexOf(";",L),rt=X===-1?z:X;if(Q>rt){L=b.lastIndexOf(";",Q-1)+1;continue}const at=m(b,L,Q),dt=p(b,Q,at),C=b.slice(at,dt);if(O[C]===void 0){let w=m(b,Q+1,rt),R=p(b,rt,w);const x=k(b.slice(w,R));O[C]=x}L=rt+1}while(L<z);return O}function m(b,N,O){do{const z=b.charCodeAt(N);if(z!==32&&z!==9)return N}while(++N<O);return O}function p(b,N,O){for(;N>O;){const z=b.charCodeAt(--N);if(z!==32&&z!==9)return N+1}return O}function g(b,N,O){const z=O?.encode||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=z(N);if(!t.test(k))throw new TypeError(`argument val is invalid: ${N}`);let L=b+"="+k;if(!O)return L;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);L+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);L+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);L+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);L+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(L+="; HttpOnly"),O.secure&&(L+="; Secure"),O.partitioned&&(L+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return L}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function A(b){return o.call(b)==="[object Date]"}return Bl}i1();var Bv="popstate";function r1(r={}){function t(s,o){let{pathname:u,search:f,hash:m}=s.location;return km("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return a1(t,n,null,r)}function ue(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Ti(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s1(){return Math.random().toString(36).substring(2,10)}function zv(r,t){return{usr:r.state,key:r.key,idx:t}}function km(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?_o(t):t,state:n,key:t&&t.key||s||s1()}}function $l({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function a1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let k=E(),L=k==null?null:k-g;g=k,p&&p({action:m,location:z.location,delta:L})}function b(k,L){m="PUSH";let Q=km(z.location,k,L);g=E()+1;let X=zv(Q,g),rt=z.createHref(Q);try{f.pushState(X,"",rt)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;o.location.assign(rt)}u&&p&&p({action:m,location:z.location,delta:1})}function N(k,L){m="REPLACE";let Q=km(z.location,k,L);g=E();let X=zv(Q,g),rt=z.createHref(Q);f.replaceState(X,"",rt),u&&p&&p({action:m,location:z.location,delta:0})}function O(k){return o1(k)}let z={get action(){return m},get location(){return r(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,A),p=k,()=>{o.removeEventListener(Bv,A),p=null}},createHref(k){return t(o,k)},createURL:O,encodeLocation(k){let L=O(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:N,go(k){return f.go(k)}};return z}function o1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function bE(r,t,n="/"){return l1(r,t,n,!1)}function l1(r,t,n,s){let o=typeof t=="string"?_o(t):t,u=er(o.pathname||"/",n);if(u==null)return null;let f=SE(r);u1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=E1(u);m=_1(f[p],g,s)}return m}function SE(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ue(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ue(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),SE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:g1(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of wE(u.path))o(u,f,m)}),t}function wE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function u1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:y1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var c1=/^:[\w-]+$/,h1=3,f1=2,d1=1,m1=10,p1=-2,jv=r=>r==="*";function g1(r,t){let n=r.split("/"),s=n.length;return n.some(jv)&&(s+=p1),t&&(s+=f1),n.filter(o=>!jv(o)).reduce((o,u)=>o+(c1.test(u)?h1:u===""?d1:m1),s)}function y1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function _1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ji([u,A.pathname]),pathnameBase:S1(Ji([u,A.pathnameBase])),route:b}),A.pathnameBase!=="/"&&(u=Ji([u,A.pathnameBase]))}return f}function Eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=v1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},b)=>{if(E==="*"){let O=m[b]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=m[b];return A&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function v1(r,t=!1,n=!0){Ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function E1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function er(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function T1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r;return{pathname:n?n.startsWith("/")?n:A1(n,t):t,search:w1(s),hash:R1(o)}}function A1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RE(r){let t=b1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function IE(r,t,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},ue(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),A-=1;o.pathname=b.join("/")}m=A>=0?t[A]:"/"}let p=T1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),S1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,R1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function I1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var C1=["GET",...CE];new Set(C1);var vo=H.createContext(null);vo.displayName="DataRouter";var jh=H.createContext(null);jh.displayName="DataRouterState";var DE=H.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var D1=H.createContext(new Map);D1.displayName="Fetchers";var N1=H.createContext(null);N1.displayName="Await";var bi=H.createContext(null);bi.displayName="Navigation";var hu=H.createContext(null);hu.displayName="Location";var or=H.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var _p=H.createContext(null);_p.displayName="RouteError";function O1(r,{relative:t}={}){ue(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(bi),{hash:o,pathname:u,search:f}=mu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fu(){return H.useContext(hu)!=null}function ia(){return ue(fu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(hu).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(r){H.useContext(bi).static||H.useLayoutEffect(r)}function du(){let{isDataRoute:r}=H.useContext(or);return r?F1():x1()}function x1(){ue(fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(vo),{basename:t,navigator:n}=H.useContext(bi),{matches:s}=H.useContext(or),{pathname:o}=ia(),u=JSON.stringify(RE(s)),f=H.useRef(!1);return OE(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(Ti(f.current,NE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=IE(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ji([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}H.createContext(null);function mu(r,{relative:t}={}){let{matches:n}=H.useContext(or),{pathname:s}=ia(),o=JSON.stringify(RE(n));return H.useMemo(()=>IE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function V1(r,t){return xE(r,t)}function xE(r,t,n,s){ue(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(bi),{matches:u}=H.useContext(or),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let L=E&&E.path||"";VE(p,!E||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let A=ia(),b;if(t){let L=typeof t=="string"?_o(t):t;ue(g==="/"||L.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),b=L}else b=A;let N=b.pathname||"/",O=N;if(g!=="/"){let L=g.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let z=bE(r,{pathname:O});Ti(E||z!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ti(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=U1(z&&z.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Ji([g,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Ji([g,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,n,s);return t&&k?H.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function M1(){let r=H1(),t=I1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:o},n):null,f)}var P1=H.createElement(M1,null),k1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?H.createElement(or.Provider,{value:this.props.routeContext},H.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L1({routeContext:r,match:t,children:n}){let s=H.useContext(vo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(or.Provider,{value:r},n)}function U1(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ue(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,b=!1,N=null,O=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||P1,f&&(m<0&&E===0?(VE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,O=null):m===E&&(b=!0,O=g.route.hydrateFallbackElement||null)));let z=t.concat(o.slice(0,E+1)),k=()=>{let L;return A?L=N:b?L=O:g.route.Component?L=H.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,H.createElement(L1,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:L})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(k1,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:k(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):k()},null)}function vp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(r){let t=H.useContext(vo);return ue(t,vp(r)),t}function z1(r){let t=H.useContext(jh);return ue(t,vp(r)),t}function j1(r){let t=H.useContext(or);return ue(t,vp(r)),t}function Ep(r){let t=j1(r),n=t.matches[t.matches.length-1];return ue(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function q1(){return Ep("useRouteId")}function H1(){let r=H.useContext(_p),t=z1("useRouteError"),n=Ep("useRouteError");return r!==void 0?r:t.errors?.[n]}function F1(){let{router:r}=B1("useNavigate"),t=Ep("useNavigate"),n=H.useRef(!1);return OE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Ti(n.current,NE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var qv={};function VE(r,t,n){!t&&!qv[r]&&(qv[r]=!0,Ti(!1,n))}H.memo(G1);function G1({routes:r,future:t,state:n}){return xE(r,void 0,n,t)}function oh(r){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ue(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:b="default"}=n,N=H.useMemo(()=>{let O=er(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:A,key:b},navigationType:s}},[f,p,g,E,A,b,s]);return Ti(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:H.createElement(bi.Provider,{value:m},H.createElement(hu.Provider,{children:t,value:N}))}function Q1({children:r,location:t}){return V1(Lm(r),t)}function Lm(r,t=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){n.push.apply(n,Lm(s.props.children,u));return}ue(s.type===oh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function qh(r){return r!=null&&typeof r.tagName=="string"}function K1(r){return qh(r)&&r.tagName.toLowerCase()==="button"}function X1(r){return qh(r)&&r.tagName.toLowerCase()==="form"}function W1(r){return qh(r)&&r.tagName.toLowerCase()==="input"}function Z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function J1(r,t){return r.button===0&&(!t||t==="_self")&&!Z1(r)}var th=null;function $1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!tw.has(r)?(Ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function ew(r,t){let n,s,o,u,f;if(X1(r)){let m=r.getAttribute("action");s=m?er(m,t):null,n=r.getAttribute("method")||lh,o=bm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(K1(r)||W1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?er(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!$1()){let{name:g,type:E,value:A}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,A)}}else{if(qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Tp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function nw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rw(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await nw(u,n);return f.links?f.links():[]}return[]}));return lw(s.flat(1).filter(iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hv(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function sw(r,t,{includeHydrateFallback:n}={}){return aw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aw(r){return[...new Set(r)]}function ow(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function lw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uw=new Set([100,101,204,205]);function cw(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&er(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ME(){let r=H.useContext(vo);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hw(){let r=H.useContext(jh);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=H.createContext(void 0);Ap.displayName="FrameworkContext";function PE(){let r=H.useContext(Ap);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function fw(r,t){let n=H.useContext(Ap),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,b=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let z=L=>{L.forEach(Q=>{f(Q.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[r]),H.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let N=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:zl(m,N),onBlur:zl(p,O),onMouseEnter:zl(g,N),onMouseLeave:zl(E,O),onTouchStart:zl(A,N)}]:[!1,b,{}]}function zl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function dw({page:r,...t}){let{router:n}=ME(),s=H.useMemo(()=>bE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(pw,{page:r,matches:s,...t}):null}function mw(r){let{manifest:t,routeModules:n}=PE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return rw(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function pw({page:r,matches:t,...n}){let s=ia(),{manifest:o,routeModules:u}=PE(),{basename:f}=ME(),{loaderData:m,matches:p}=hw(),g=H.useMemo(()=>Hv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=H.useMemo(()=>Hv(r,t,p,o,s,"assets"),[r,t,p,o,s]),A=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,z=!1;if(t.forEach(L=>{let Q=o.routes[L.route.id];!Q||!Q.hasLoader||(!g.some(X=>X.route.id===L.route.id)&&L.route.id in m&&u[L.route.id]?.shouldRevalidate||Q.hasClientLoader?z=!0:O.add(L.route.id))}),O.size===0)return[];let k=cw(r,f);return z&&O.size>0&&k.searchParams.set("_routes",t.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[f,m,s,o,g,t,r,u]),b=H.useMemo(()=>sw(E,o),[E,o]),N=mw(E);return H.createElement(H.Fragment,null,A.map(O=>H.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),b.map(O=>H.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),N.map(({key:O,link:z})=>H.createElement("link",{key:O,...z})))}function gw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var kE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kE&&(window.__reactRouterVersion="7.6.3")}catch{}function yw({basename:r,children:t,window:n}){let s=H.useRef();s.current==null&&(s.current=r1({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(Y1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UE=H.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...b},N){let{basename:O}=H.useContext(bi),z=typeof g=="string"&&LE.test(g),k,L=!1;if(typeof g=="string"&&z&&(k=g,kE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=er(x.pathname,O);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:L=!0}catch{Ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=O1(g,{relative:o}),[X,rt,at]=fw(s,b),dt=Tw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function C(R){t&&t(R),R.defaultPrevented||dt(R)}let w=H.createElement("a",{...b,...at,href:k||Q,onClick:L||u?t:C,ref:gw(N,rt),target:p,"data-discover":!z&&n==="render"?"true":void 0});return X&&!z?H.createElement(H.Fragment,null,w,H.createElement(dw,{page:Q})):w});UE.displayName="Link";var _w=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=mu(f,{relative:g.relative}),b=ia(),N=H.useContext(jh),{navigator:O,basename:z}=H.useContext(bi),k=N!=null&&Rw(A)&&m===!0,L=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,Q=b.pathname,X=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),X=X?X.toLowerCase():null,L=L.toLowerCase()),X&&z&&(X=er(X,z)||X);const rt=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let at=Q===L||!o&&Q.startsWith(L)&&Q.charAt(rt)==="/",dt=X!=null&&(X===L||!o&&X.startsWith(L)&&X.charAt(L.length)==="/"),C={isActive:at,isPending:dt,isTransitioning:k},w=at?t:void 0,R;typeof s=="function"?R=s(C):R=[s,at?"active":null,dt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(C):u;return H.createElement(UE,{...g,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(C):p)});_w.displayName="NavLink";var vw=H.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...b},N)=>{let O=Sw(),z=ww(m,{relative:g}),k=f.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&LE.test(m),Q=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let rt=X.nativeEvent.submitter,at=rt?.getAttribute("formmethod")||f;O(rt||X.currentTarget,{fetcherKey:t,method:at,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return H.createElement("form",{ref:N,method:k,action:z,onSubmit:s?p:Q,...b,"data-discover":!L&&r==="render"?"true":void 0})});vw.displayName="Form";function Ew(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BE(r){let t=H.useContext(vo);return ue(t,Ew(r)),t}function Tw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=du(),p=ia(),g=mu(r,{relative:u});return H.useCallback(E=>{if(J1(E,t)){E.preventDefault();let A=n!==void 0?n:$l(p)===$l(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var Aw=0,bw=()=>`__${String(++Aw)}__`;function Sw(){let{router:r}=BE("useSubmit"),{basename:t}=H.useContext(bi),n=q1();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=ew(s,t);if(o.navigate===!1){let E=o.fetcherKey||bw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function ww(r,{relative:t}={}){let{basename:n}=H.useContext(bi),s=H.useContext(or);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:t})},f=ia();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),$l(u)}function Rw(r,t={}){let n=H.useContext(DE);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=BE("useViewTransitionState"),o=mu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}[...uw];const Iw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",Cw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASdSURBVHgB3ZvBa9RAFMZfrYqwFVuQ9qAiFVER9eBB9GBBBLGX3v0jPXuqFL1URBFaxHpQtBWxB1u0C7IFcX5Nxk7fziSZbHaTzQePbSazs/PlvXnvzct0QvyYNTJvZM5IR4aDrpE1I58lHieMLEgyT40dI7tGNo180zcn1DXk7gYGGgZ6Rp5KPFDG3QL9eKjL6ecBjjk3Z4wsyujIgn0ph5MF+6HAx0ambcOkc+ORJKYyKkD2nSTmF4vfRk4bOVOgLxwvGvnKb1qTXpL+tbotyRrbkfKaqAPW/1xS7fBZhv15I5fVzXUjq5LY/l8ZLzBn66zmnHYUug3h65KsX4tPRt7K+AONou0ptxGnNa06lgkTTcW6up6D8Ixq3Jb2QDvEzjFpN3q64bgMDkLZTCr8jUfHszfSUgYhDLlrRq6KP35DfEuS0NaVhqAsYbR5X7LzbB4C8RBP+ULKJRiVo8wahuxDKb6p6KT9p6UBiCXM5NGsNmHMl/i9ln5qEyb3XZDRpq5exJr0TenX7IYkRHX6eSPtb8H3rqV9a0Oshs+rawI7WZkv1+behmq7IjVrOYYwzsedrN3AZwHS7sPAtGekRsQQ1hP9kf+Vg8C/mTPOSBFDWJti0djazRlnpIghrNdp0bA0lTPOSBFDeEdd48CKaGs2Z5yRIoYwmZJ2QLdyvkNoci2BNV1rjg1hl0TWumSyH1QbYeampy+av+25tyU1g8TjjSQTQ2N5YeajJLUiV2tokZwZze2l9y6I38mtS82YkHjYXDrG22JF1IfrWL9P3IsymwcmfaS4nQNbDK/VWVlMSjn8kWQ9ouWpwDho9b0cVj/rwhE/UsakfSD06IrHsOrZ7nsv0JPD3Rp+RD/cIyZdRYlH0h8adriBKO+TdMLTce5Dlqpr0PlWRXjY0FvNEDpyGPtXfR2aTpglcs/IOYnDfPrZR7rJhG1pyJezs14xXUyY/IHykS5OzPsGrcppVQ00imZ9yQta8/mLrAf0H2XD0jDBGrwj/XPD669IuPppy8JsaoLvj6vQ8Gz6I+6Lq710YjZUFEHWeqVUVPQFX6amByFc9HhE37GDwFihSUJ0Q+Ln5h2vrEnbAYuUazAv3k7wcH3aRqMPjJxS7Tyg51JuhxU0byaBKbED6qWd8rKjQs4hgG76Gzvp98mWQidxXsrgKSm/seQ2EJYwS1t+PTgWkDOAj6x7PAKged+xA753VbIRs17z0PfAIOzWmrPWY4gse1ydym074iveh1BmvUahaOIRQ9YFyQGkCTWXMvrRB7JD30IWIVyWrAVm9UoSQqzZ6XQsfAahq4jfqAx5hAcl68J6zlrrWlkVjyrJNgYhwq0kC3yEW0sW+Ai3liwIadhFa8iCvDJtq8iCLMKtIwtChFtJFkBYJ9j2kEoboPcGuxDWRxdqPZJQMXT+/pMCwL66gZcObdbHCWxY9FZ0HcKYtD5Iba970qBzkgVAMeOsJHt8rV14vLY1LbS6KA04KTckYMXPjHQnnYbvkvz3RxNLt4PAvpv+xYVLjlegXySnrjtmwA+tSEoWhMq0kKaaaA9+jxNYq0QeW205gn8V7PTp/QnotgAAAABJRU5ErkJggg==",Dw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7VvNb9xEFH8z9kYVpMGoCQKltA6UzQohdXvrjc2ttKFduHFquPXW9AScsrnBqclf0OQfoAlqSuFS9wS3urd8VIqDElEgFW4TKWmy9vCe90Njx95sdu0la/hJ++HZsdfz/N6bN7/3hkHC0PWivp/ZK3CunBcgdCGEDgw0BkyX++FvFr7ZjDH6fOI4jikywny2+MCCBMEgAZw+N1pgCrvmglsMDvSowPMtV7gGc9ns+tN7BsSM2ASg6QWtt6f3Jl5xnA4hAXjCcJ1JR3GNuDSjbQF0YuAhsNFkZhzmTLcriLYE8E72k6LClDvQeOA2vkx8PRHMNYGDmXF7bGtxzpI76bmiXoayzlzQBIMCNp3HVwEa3nxFIzZW7s9Ai2hLAO8Of7pKji3kJxq0gVef3t7dNm3LsKEFkHad7OktuFwUmWDXo/qRIPbZ/kgr2tCWAE4Pj/4N/qdvVwc91eqgo/B27pKuAC+AYBMRjpXMYnJjaWEKjgAF2sDJgXN/4EeekRwZfLf9avuLP5/+/GDXtnYhZmxvPrW3NlfMrecr030DWUaah/8rC/8EHl/qO5WFl8+XHzV73USmwU6gohFKKcw0MNaY2Vhe+LKZ63StAGoYHL4yjk9+AgKOGIVgohAuHHZ+1wuA4GmDUB4eiC6b0IS2fMBxAfmH1wfen0cBFGW/gGF1/mT/Bxr6jZ+izk2FAAiRQgB2EYXwAoXwa9h5qTABGRHmYJdZ+UJYnMAhZfAGqYjPoBKM1aCpQr0T1v+ACVB4q/Xnfnmjf/iGdipnv3i+9AS6DFt/rTxDtX9FcYHUrIeZgs8ESH0yIvNQCm/t9aV7b0KXAiPVu/hRlJpsDNaG5CjVZwKqq16XY3v8Hms467u57OgEhdL0wrn8NiQAtPtbEDAFXLmOy33qAqCnj9PGmPwjHs9CAsBF1G3UvRJUghdih8ZRICWIGZ4/EDDta2RwkxZZtcO6AGihEXj61vrivRIkALz22IFGvDFIAOqeSoujSC2oC4ALZcJ3pismIQWwrDk7TAtqXz0BEIcXXNcT7QRJIXhDFSRiboQwLTidGy3QF08AQhW+FRXF0EmysevLnmlNV2+KOIRJnG3GISF4WkAEjQynMjuo9MaFZ//135DNnYeEUR1wYoM+ACRqcIj1KZFxdo3+n5P3D6r/zt6OASmDuqsSL1k3Axrz0NDnZ3nGVfOBvkbcdNZxQNUMTLltT90d4aj4fgG40HWh7xHgGxsDnlfx/bzciFy7AR3AmezV6y5zpzAIspHWKv22/ENis0ANRMszIQW/XOgcjUGXOylc6Yj6CyZK+KGRLZIgoBNw/CaA2n+W4434uLTMq55V6AACjrcjGSWMbXwPlwPXeJBHW139fg1SimBsQw8hdYTIUfG/AOA/Du5VZkig6AhSCop65WNKqnKcg32eEaOjrqXADoNaVnX5GNc8NkcxWIF+eUgpGPdPt0iIrpEPWPM38tQKoFp4ITeY3KvakMH9oXHK4A/7wTG5AweYn7xMGqYFul6kMRXkNsGFySk6CswEWu+J3tSZgdNTLsjHNGYauxcH4HTgZ4BEMgztvwmXi2u+BlGhyCqBEIO5QP9CmszAy3mIQM6DV3IengCQ/zfgkAxKN8MrrpJQzXkY9J1LrQ0zKN2MRjmPugAOy6B0KygHGeAebDnnURdAVAYlGD93E8LynYhZmRfwZ4dDtEAVaiKZW/BT1BYkAAWUiWC+EzPGU/4+8h3Zi7shhQW5RjU2rUIusuSMf/Nyc9mEGHFm+CpN5V/7Gl1x6/flHw25KbRGCHP2D8EfNdnCdUc2Vu7HepNJgVQfNfcxSFwjPf2NpYWhYN9QQgTVhGrrfKbAuXK3G/xBrcoFAjXMSPePhPUPFUA1PPalx8mW6MLHWQghJT4eaCxRyd7IOkGy+b7+LJEjF6VmDR1L8bWB9+apLg+OEaIGT5lnVP1vo847tE5wMHdlJliQ3E59fhIY/PBynjvK3QNPnonZjcWFsUbnNlUoicHEY+wZXCG2VJ8fN8jbI7VVgqSLpcM0ofpHMw53JjutDVVPTzFKMfhbM0++hqZrhbc2V+ZoowIESAUqSCa/0Hcqqx1lo0KroPVJ/1sffYVprRkI5y+nUStvQJM4cq1wVH1+5WLxb2uroYndaS2ZZEvF0lH1+TLINFzHnd9xdox2Nk31qshOKR5BU4DoJKpBsUvHN00N5i6PNdjEJMPAPma5XH6kMMVGft7CxZcld6husaUB5qvbbEm96dVwS167jrjtcvmqMyK1JAfZKf4gtt1pse0XaGJbWxyIfVteMpunc17hJZoHfNyuMGgR45G2yFvWaKw4kfiOES9EddW8V4xF9UgCdKpKCds+7+UpK6m6NUrYZKDHCG6xjRv/AF0bOBSDHmXQAAAAAElFTkSuQmCC",Nw="/chat-app/assets/logo_icon-Bug9MN-U.png",Ow="/chat-app/assets/logo_big-Cp0kVrXR.png",xw="/chat-app/assets/logo-9xkPj2hX.png",Vw="/chat-app/assets/pic1-Cav6XP8G.png",Mw="/chat-app/assets/pic2-CxFhh4uq.png",Pw="/chat-app/assets/pic3-LJNB-Dr0.png",kw="/chat-app/assets/pic4-BREKihcV.png",Lw="/chat-app/assets/profile_richard-Bfd_-P-Z.png",Uw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",Bw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",zw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR4nO3dzWoUQRRA4ZFAtiZZJVka9QV8AX/ACApZ5R1EyS4afAPXYdC3EMW1P4+j7nUVOVJM1hm7u5p7uTkf9K4aqjj0DF0zdC8WkiRJkiRJkroDbgCPgFfA2ZrjFHjYzjHFDIAd4DvDfQO2jdI/yGfG+2iQvjHuMt1to/QLctQhyJFB+gU57hDk2CAGqQmvkFwwSC4YJBcMkgsGyQWD5AIcdrgPeRy9jjKALeDPhBi/gZvR6yiF1Zb6WKfR8y8JeAH8GBCijX0ePe/SgA3gFnBvzdHGbETPV5IkSZIkSdcXsA88u/zR6qqjjdmPnm9ZwCbwDvg7YLf3Ali2c6PnXw7wnvGW0fOv+DF1MSFIO3cveh1lsPo+mOpp9DrKwH+d5IJBcsEguWCQXDBILhgkFwySCwbJBW8MS26d7EavoxRWu7ZjnUfPv+r2+3LgldLGnrv9Pm+YvQE/UPkxJUmSJEmSpOgHBxz8x4MD2hgfHDBzjBPg14Dd3p/Ay1kndV0BbxjvdfT8SwG2Jz6eqZ27Fb2OMoAnTHcYvY4y8F8nuWCQXDBILhgkFwySCwbJBYPkgkFywVce5QLc6XCnfhC9jlKATxNifIief9UNxq8jYnzxxZLzvnr1QdtOB96uOdqY+756VZIkSZIkSVrM4h8rzbcQzwZwVgAAAABJRU5ErkJggg==",jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",le={avatar_icon:Iw,gallery_icon:Cw,help_icon:Dw,logo_big:Ow,logo_icon:Nw,logo:xw,pic1:Vw,pic2:Mw,pic3:Pw,pic4:kw,profile_img:Lw,search_icon:Uw,send_button:Bw,menu_icon:zw,green_dot:jw},qw=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Hw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(b=64)),s.push(n[E],n[A],n[b],n[N])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(zE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Hw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Fw;const b=u<<2|m>>4;if(s.push(b),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const O=g<<6&192|A;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gw=function(r){const t=zE(r);return jE.encodeByteArray(t,!0)},Th=function(r){return Gw(r).replace(/\./g,"")},qE=function(r){try{return jE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=()=>Yw().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof Fv>"u")return;const r=Fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Xw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qE(r[1]);return t&&JSON.parse(t)},Hh=()=>{try{return qw()||Qw()||Kw()||Xw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},HE=r=>{var t,n;return(n=(t=Hh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Ww=r=>{const t=HE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},FE=()=>{var r;return(r=Hh())===null||r===void 0?void 0:r.config},GE=r=>{var t;return(t=Hh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Th(JSON.stringify(n)),Th(JSON.stringify(f)),""].join(".")}const Ql={};function $w(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ql))Ql[t]?r.emulator.push(t):r.prod.push(t);return r}function tR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Gv=!1;function QE(r,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Ql[r]===t||Ql[r]||Gv)return;Ql[r]=t;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=$w().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,N){b.setAttribute("width","24"),b.setAttribute("id",N),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Gv=!0,f()},b}function E(b,N){b.setAttribute("id",N),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function A(){const b=tR(s),N=n("text"),O=document.getElementById(N)||document.createElement("span"),z=n("learnmore"),k=document.getElementById(z)||document.createElement("a"),L=n("preprendIcon"),Q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),E(k,z);const rt=g();p(Q,L),X.append(Q,O,k,rt),document.body.appendChild(X)}u?(O.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function nR(){var r;const t=(r=Hh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=cR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?hR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function hR(r,t){return r.replace(fR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function dR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xr(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Yv(u)&&Yv(f)){if(!Xr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Yv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function jl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function ql(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function mR(r,t){const n=new pR(r,t);return n.subscribe.bind(n)}class pR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t?.identifier),o=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(vR(t))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Fs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fs){return this.instances.has(t)}getOptions(t=Fs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_R(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Fs){return this.component?this.component.multipleInstances?t:Fs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _R(r){return r===Fs?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const TR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},AR=Vt.INFO,bR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},SR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=bR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=AR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const wR=(r,t)=>t.some(n=>r instanceof n);let Qv,Kv;function RR(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return Kv||(Kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KE=new WeakMap,Um=new WeakMap,XE=new WeakMap,wm=new WeakMap,Sp=new WeakMap;function CR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Fr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&KE.set(n,r)}).catch(()=>{}),Sp.set(t,r),t}function DR(r){if(Um.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Um.set(r,t)}let Bm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||XE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function NR(r){Bm=r(Bm)}function OR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Rm(this),t,...n);return XE.set(s,t.sort?t.sort():[t]),Fr(s)}:IR().includes(r)?function(...t){return r.apply(Rm(this),t),Fr(KE.get(this))}:function(...t){return Fr(r.apply(Rm(this),t))}}function xR(r){return typeof r=="function"?OR(r):(r instanceof IDBTransaction&&DR(r),wR(r,RR())?new Proxy(r,Bm):r)}function Fr(r){if(r instanceof IDBRequest)return CR(r);if(wm.has(r))return wm.get(r);const t=xR(r);return t!==r&&(wm.set(r,t),Sp.set(t,r)),t}const Rm=r=>Sp.get(r);function VR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Fr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fr(f.result),p.oldVersion,p.newVersion,Fr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Im=new Map;function Xv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Im.get(t))return Im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(t,u),u}NR(r=>({...r,get:(t,n,s)=>Xv(t,n)||r.get(t,n,s),has:(t,n)=>!!Xv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){const t=r.getComponent();return t?.type==="VERSION"}const zm="@firebase/app",Wv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new bp("@firebase/app"),UR="@firebase/app-compat",BR="@firebase/analytics-compat",zR="@firebase/analytics",jR="@firebase/app-check-compat",qR="@firebase/app-check",HR="@firebase/auth",FR="@firebase/auth-compat",GR="@firebase/database",YR="@firebase/data-connect",QR="@firebase/database-compat",KR="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",$R="@firebase/messaging-compat",tI="@firebase/performance",eI="@firebase/performance-compat",nI="@firebase/remote-config",iI="@firebase/remote-config-compat",rI="@firebase/storage",sI="@firebase/storage-compat",aI="@firebase/firestore",oI="@firebase/ai",lI="@firebase/firestore-compat",uI="firebase",cI="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",hI={[zm]:"fire-core",[UR]:"fire-core-compat",[zR]:"fire-analytics",[BR]:"fire-analytics-compat",[qR]:"fire-app-check",[jR]:"fire-app-check-compat",[HR]:"fire-auth",[FR]:"fire-auth-compat",[GR]:"fire-rtdb",[YR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[KR]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[$R]:"fire-fcm-compat",[tI]:"fire-perf",[eI]:"fire-perf-compat",[nI]:"fire-rc",[iI]:"fire-rc-compat",[rI]:"fire-gcs",[sI]:"fire-gcs-compat",[aI]:"fire-fst",[lI]:"fire-fst-compat",[oI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,fI=new Map,qm=new Map;function Zv(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function co(r){const t=r.name;if(qm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;qm.set(t,r);for(const n of Ah.values())Zv(n,r);for(const n of fI.values())Zv(n,r);return!0}function wp(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new pu("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=cI;function WE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=FE()),!n)throw Gr.create("no-options");const u=Ah.get(o);if(u){if(Xr(n,u.options)&&Xr(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new ER(o);for(const p of qm.values())f.addComponent(p);const m=new mI(n,s,f);return Ah.set(o,m),m}function ZE(r=jm){const t=Ah.get(r);if(!t&&r===jm&&FE())return WE();if(!t)throw Gr.create("no-app",{appName:r});return t}function Yr(r,t,n){var s;let o=(s=hI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}co(new Xs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebase-heartbeat-database",gI=1,tu="firebase-heartbeat-store";let Cm=null;function JE(){return Cm||(Cm=VR(pI,gI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),Cm}async function yI(r){try{const n=(await JE()).transaction(tu),s=await n.objectStore(tu).get($E(r));return await n.done,s}catch(t){if(t instanceof lr)nr.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(n.message)}}}async function Jv(r,t){try{const s=(await JE()).transaction(tu,"readwrite");await s.objectStore(tu).put(t,$E(r)),await s.done}catch(n){if(n instanceof lr)nr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=1024,vI=30;class EI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=$v();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vI){const f=bI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:s,unsentEntries:o}=TI(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function $v(){return new Date().toISOString().substring(0,10)}function TI(r,t=_I){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),t0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),t0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function t0(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function bI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){co(new Xs("platform-logger",t=>new kR(t),"PRIVATE")),co(new Xs("heartbeat",t=>new EI(t),"PRIVATE")),Yr(zm,Wv,r),Yr(zm,Wv,"esm2017"),Yr("fire-js","")}SI("");var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,tT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,w){function R(){}R.prototype=w.prototype,C.D=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(x,P,U){for(var D=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)D[Re-2]=arguments[Re];return w.prototype[P].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)x[P]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],P=C.g[2];var U=C.g[3],D=w+(U^R&(P^U))+x[0]+3614090360&4294967295;w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[2]+606105819&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[4]+4118548399&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[6]+2821735955&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[8]+1770035416&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[10]+4294925233&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(U^R&(P^U))+x[12]+1804603682&4294967295,w=R+(D<<7&4294967295|D>>>25),D=U+(P^w&(R^P))+x[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=P+(R^U&(w^R))+x[14]+2792965006&4294967295,P=U+(D<<17&4294967295|D>>>15),D=R+(w^P&(U^w))+x[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=w+(P^U&(R^P))+x[1]+4129170786&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[11]+643717713&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[5]+3593408605&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[15]+3634488961&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[9]+568446438&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[3]+4107603335&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(P^U&(R^P))+x[13]+2850285829&4294967295,w=R+(D<<5&4294967295|D>>>27),D=U+(R^P&(w^R))+x[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=P+(w^R&(U^w))+x[7]+1735328473&4294967295,P=U+(D<<14&4294967295|D>>>18),D=R+(U^w&(P^U))+x[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=w+(R^P^U)+x[5]+4294588738&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[11]+1839030562&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[1]+2763975236&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[7]+4139469664&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[13]+681279174&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[3]+3572445317&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(R^P^U)+x[9]+3654602809&4294967295,w=R+(D<<4&4294967295|D>>>28),D=U+(w^R^P)+x[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=P+(U^w^R)+x[15]+530742520&4294967295,P=U+(D<<16&4294967295|D>>>16),D=R+(P^U^w)+x[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=w+(P^(R|~U))+x[0]+4096336452&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[14]+2878612391&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[12]+1700485571&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[10]+4293915773&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[8]+1873313359&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[6]+2734768916&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=w+(P^(R|~U))+x[4]+4149444226&4294967295,w=R+(D<<6&4294967295|D>>>26),D=U+(R^(w|~P))+x[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=P+(w^(U|~R))+x[2]+718787259&4294967295,P=U+(D<<15&4294967295|D>>>17),D=R+(U^(P|~w))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var R=w-this.blockSize,x=this.B,P=this.h,U=0;U<w;){if(P==0)for(;U<=R;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<w;)if(x[P++]=C.charCodeAt(U++),P==this.blockSize){o(this,x),P=0;break}}else for(;U<w;)if(x[P++]=C[U++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=w},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var R=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.u(C),C=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)C[R++]=this.g[w]>>>x&255;return C};function u(C,w){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function f(C,w){this.h=w;for(var R=[],x=!0,P=C.length-1;0<=P;P--){var U=C[P]|0;x&&U==w||(R[P]=U,x=!1)}this.g=R}var m={};function p(C){return-128<=C&&128>C?u(C,function(w){return new f([w|0],0>w?-1:0)}):new f([C|0],0>C?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return A;if(0>C)return k(g(-C));for(var w=[],R=1,x=0;C>=R;x++)w[x]=C/R|0,R*=4294967296;return new f(w,0)}function E(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return k(E(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=A,P=0;P<C.length;P+=8){var U=Math.min(8,C.length-P),D=parseInt(C.substring(P,P+U),w);8>U?(U=g(Math.pow(w,U)),x=x.j(U).add(g(D))):(x=x.j(R),x=x.add(g(D)))}return x}var A=p(0),b=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(z(this))return-k(this).m();for(var C=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);C+=(0<=x?x:4294967296+x)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O(this))return"0";if(z(this))return"-"+k(this).toString(C);for(var w=g(Math.pow(C,6)),R=this,x="";;){var P=rt(R,w).g;R=L(R,P.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=P,O(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function O(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function z(C){return C.h==-1}r.l=function(C){return C=L(this,C),z(C)?-1:O(C)?0:1};function k(C){for(var w=C.g.length,R=[],x=0;x<w;x++)R[x]=~C.g[x];return new f(R,~C.h).add(b)}r.abs=function(){return z(this)?k(this):this},r.add=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0,P=0;P<=w;P++){var U=x+(this.i(P)&65535)+(C.i(P)&65535),D=(U>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);x=D>>>16,U&=65535,D&=65535,R[P]=D<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function L(C,w){return C.add(k(w))}r.j=function(C){if(O(this)||O(C))return A;if(z(this))return z(C)?k(this).j(k(C)):k(k(this).j(C));if(z(C))return k(this.j(k(C)));if(0>this.l(N)&&0>C.l(N))return g(this.m()*C.m());for(var w=this.g.length+C.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<C.g.length;P++){var U=this.i(x)>>>16,D=this.i(x)&65535,Re=C.i(P)>>>16,ne=C.i(P)&65535;R[2*x+2*P]+=D*ne,Q(R,2*x+2*P),R[2*x+2*P+1]+=U*ne,Q(R,2*x+2*P+1),R[2*x+2*P+1]+=D*Re,Q(R,2*x+2*P+1),R[2*x+2*P+2]+=U*Re,Q(R,2*x+2*P+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function Q(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function X(C,w){this.g=C,this.h=w}function rt(C,w){if(O(w))throw Error("division by zero");if(O(C))return new X(A,A);if(z(C))return w=rt(k(C),w),new X(k(w.g),k(w.h));if(z(w))return w=rt(C,k(w)),new X(k(w.g),w.h);if(30<C.g.length){if(z(C)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(C);)R=at(R),x=at(x);var P=dt(R,1),U=dt(x,1);for(x=dt(x,2),R=dt(R,2);!O(x);){var D=U.add(x);0>=D.l(C)&&(P=P.add(R),U=D),x=dt(x,1),R=dt(R,1)}return w=L(C,P.j(w)),new X(P,w)}for(P=A;0<=C.l(w);){for(R=Math.max(1,Math.floor(C.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),D=U.j(w);z(D)||0<D.l(C);)R-=x,U=g(R),D=U.j(w);O(U)&&(U=b),P=P.add(U),C=L(C,D)}return new X(P,C)}r.A=function(C){return rt(this,C).h},r.and=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&C.i(x);return new f(R,this.h&C.h)},r.or=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|C.i(x);return new f(R,this.h|C.h)},r.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^C.i(x);return new f(R,this.h^C.h)};function at(C){for(var w=C.g.length+1,R=[],x=0;x<w;x++)R[x]=C.i(x)<<1|C.i(x-1)>>>31;return new f(R,C.h)}function dt(C,w){var R=w>>5;w%=32;for(var x=C.g.length-R,P=[],U=0;U<x;U++)P[U]=0<w?C.i(U+R)>>>w|C.i(U+R+1)<<32-w:C.i(U+R);return new f(P,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Qr=f}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eT,Hl,nT,ch,Hm,iT,rT,sT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break t;_=_[j]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,j={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,b.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,j,K){for(var ot=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ot[kt-2]=arguments[kt];return y.prototype[j].apply(S,ot)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=c.length||0,K=S.length||0;c.length=j+K;for(let ot=0;ot<K;ot++)c[j+ot]=S[ot]}else c.push(S)}}class L{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function rt(c){return rt[" "](c),c}rt[" "]=function(){};var at=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function dt(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function C(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Re{constructor(){this.h=this.g=null}add(y,_){const S=ne.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new L(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,jt=new Re,V=()=>{const c=m.Promise.resolve(void 0);lt=()=>{c.then(it)}};var it=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=ne;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(st.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(at){t:{try{rt(y.nodeName);var j=!0;break t}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:bt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}O(Dt,st);var bt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),$t=0;function Wn(c,y,_,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++$t,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,_,S,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ot=ls(c,y,S,j);return-1<ot?(y=c[ot],_||(y.fa=!1)):(y=new Wn(y,this.src,K,!!S,j),y.fa=_,c.push(y)),y};function os(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(ur(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ls(c,y,_,S){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return j}return-1}var us="closure_lm_"+(1e6*Math.random()|0),Do={};function Nu(c,y,_,S,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Nu(c,y[K],_,S,j);return null}return _=Ou(_),c&&c[Me]?c.K(y,_,g(S)?!!S.capture:!1,j):wn(c,y,_,!1,S,j)}function wn(c,y,_,S,j,K){if(!y)throw Error("Invalid event type");var ot=g(j)?!!j.capture:!!j,kt=ca(c);if(kt||(c[us]=kt=new Si(c)),_=kt.add(y,_,S,ot,K),_.proxy)return _;if(S=gf(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)yt||(j=ot),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(cs(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function gf(){function c(_){return y.call(c.src,c.listener,_)}const y=yf;return c}function No(c,y,_,S,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)No(c,y[K],_,S,j);else S=g(S)?!!S.capture:!!S,_=Ou(_),c&&c[Me]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ls(K,_,S,j),-1<_&&(ur(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=ca(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ls(y,_,S,j)),(_=-1<c?y[c]:null)&&ua(_))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Me])os(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(cs(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ca(y))?(os(_,c),_.h==0&&(_.src=null,y[us]=null)):ur(c)}}}function cs(c){return c in Do?Do[c]:Do[c]="on"+c}function yf(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&ua(c),c=_.call(S,y)}return c}function ca(c){return c=c[us],c instanceof Si?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ou(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function he(){ut.call(this),this.i=new Si(this),this.M=this,this.F=null}O(he,ut),he.prototype[Me]=!0,he.prototype.removeEventListener=function(c,y,_,S){No(this,c,y,_,S)};function Gt(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new st(y,c);else if(y instanceof st)y.target=y.target||c;else{var j=y;y=new st(S,c),x(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var ot=y.g=_[K];j=dn(ot,S,!0,y)&&j}if(ot=y.g=c,j=dn(ot,S,!0,y)&&j,j=dn(ot,S,!1,y)&&j,_)for(K=0;K<_.length;K++)ot=y.g=_[K],j=dn(ot,S,!1,y)&&j}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ur(_[S]);delete c.g[y],c.h--}}this.F=null},he.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},he.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function dn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var ot=y[K];if(ot&&!ot.da&&ot.capture==_){var kt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&os(c.i,ot),j=kt.call(Ce,S)!==!1&&j}}return j&&!S.defaultPrevented}function Xe(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xu(c){c.g=Xe(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class _f extends ut{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){ut.call(this),this.h=c,this.g={}}O(hs,ut);var fs=[];function ds(c){dt(c.g,function(y,_){this.g.hasOwnProperty(_)&&ua(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,ha=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Mo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){st.call(this,"d")}O(Ri,st);function Po(){st.call(this,"c")}O(Po,st);var Zn={},ko=null;function cr(){return ko=ko||new he}Zn.La="serverreachability";function fa(c){st.call(this,Zn.La,c)}O(fa,st);function hr(c){const y=cr();Gt(y,new fa(y))}Zn.STAT_EVENT="statevent";function Vu(c,y){st.call(this,Zn.STAT_EVENT,c),this.stat=y}O(Vu,st);function se(c){const y=cr();Gt(y,new Vu(y,c))}Zn.Ma="timingevent";function Ie(c,y){st.call(this,Zn.Ma,c),this.size=y}O(Ie,st);function ve(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Lo(c,y,_,S,j,K){c.info(function(){if(c.g)if(K)for(var ot="",kt=K.split("&"),Ce=0;Ce<kt.length;Ce++){var Lt=kt[Ce].split("=");if(1<Lt.length){var ke=Lt[0];Lt=Lt[1];var De=ke.split("_");ot=2<=De.length&&De[1]=="type"?ot+(ke+"="+Lt+"&"):ot+(ke+"=redacted&")}}else ot=null;else ot=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+ot})}function vf(c,y,_,S,j,K,ot){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+ot})}function fr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,_)+(S?" "+S:"")})}function Mu(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ot=1;ot<j.length;ot++)j[ot]=""}}}}return jn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function $n(){}O($n,xo),$n.prototype.g=function(){return new XMLHttpRequest},$n.prototype.i=function(){return{}},Jn=new $n;function nn(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var Uo={},da={};function qn(c,y,_){c.L=1,c.v=Es(mn(y)),c.m=_,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),gs(c),c.A=mn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Fo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new pe,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new _f(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fs[0]=j.toString()),j=fs);for(var K=0;K<j.length;K++){var ot=Nu(_,j[K],S||y.handleEvent,!1,y.h||y);if(!ot)break;y.g[ot.key]=ot}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Nn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const De=Nn(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||De!=4||y==7||(y==8||0>=ki?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;e:if(Pu(this)){var S=qu(this.g);c="";var j=S.length,K=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ti(this);var ot="";break e}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=_==200,vf(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,Ce=this.g;if((kt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(kt)){var Lt=kt;break e}}Lt=null}if(_=Lt)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,_);else{this.o=!1,this.s=3,se(12),je(this),ti(this);break t}}if(this.P){_=!0;let qe;for(;!this.J&&this.C<ot.length;)if(qe=ku(this,ot),qe==da){De==4&&(this.s=4,se(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Uo){this.s=4,se(15),fr(this.i,this.l,ot,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,qe,null),ys(this,qe);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||ot.length!=0||this.h.h||(this.s=1,se(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,ot,"[Invalid Chunked Response]"),je(this),ti(this);else if(0<ot.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Cs(ke),ke.M=!0,se(11))}}else fr(this.i,this.l,ot,null),ys(this,ot);De==4&&je(this),this.o&&!this.J&&(De==4?Qu(this.j,this):(this.o=!1,gs(this)))}else Sf(this.g),_==400&&0<ot.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),ti(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ku(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?da:(_=Number(y.substring(_,S)),isNaN(_)?Uo:(S+=1,S+_>y.length?da:(y=y.slice(S,S+_),c.C=S+_,y)))}nn.prototype.cancel=function(){this.J=!0,je(this)};function gs(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(b(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mu(this.i,this.A),this.L!=2&&(hr(),se(17)),je(this),this.s=2,ti(this)):Lu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Qu(c.j,c)}function je(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Bo(_.h,c))){if(!c.K&&Bo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wa(_),ba(_);else break t;Xo(_),se(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(b(_.Za,_),6e3));if(1>=pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pi(_,11)}else if((c.K||_.g==c)&&wa(_),!Q(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Lt=j[y];if(_.T=Lt[0],Lt=Lt[1],_.G==2)if(Lt[0]=="c"){_.K=Lt[1],_.ia=Lt[2];const ke=Lt[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const De=Lt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const ki=Lt[5];ki!=null&&typeof ki=="number"&&0<ki&&(S=1.5*ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const qe=c.g;if(qe){const oi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var K=S.h;K.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ga(K,K.h),K.h=null))}if(S.D){const Zo=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(S.ya=Zo,Kt(S.I,S.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ot=c;if(S.qa=Xu(S,S.J?S.ia:null,S.W),ot.K){rn(S.h,ot);var kt=ot,Ce=S.L;Ce&&(kt.I=Ce),kt.B&&(mr(kt),gs(kt)),S.g=ot}else Gu(S);0<_.i.length&&Sa(_)}else Lt[0]!="stop"&&Lt[0]!="close"||Pi(_,7);else _.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Pi(_,7):Qo(_):Lt[0]!="noop"&&_.l&&_.l.ta(Lt),_.v=0)}}hr(4)}catch{}}var Uu=class{constructor(c,y){this.g=c,this.map=y}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Di.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function Ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ya(c),S=Ef(c),j=S.length,K=0;K<j;K++)y.call(void 0,S[K],_&&_[K],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),j=null;if(0<=S){var K=c[_].substring(0,S);j=c[_].substring(S+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ee(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ee){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new Oi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ni(this,_),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,vs(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),pr(this,y[4]),this.l=In(y[5]||"",!0),Ni(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}Ee.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ts(_,_.charAt(0)=="/"?Af:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ts(_,_a)),c.join("")};function mn(c){return new Ee(c)}function vs(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ni(c,y,_){y instanceof Oi?(c.i=y,zu(c.i,c.h)):(_||(y=Ts(y,bf)),c.i=new Oi(y,c.h))}function Kt(c,y,_){c.i.set(y,_)}function Es(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,Af=/[#\?]/g,bf=/[#\?@]/g,_a=/#/g;function Oi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Tf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Oi.prototype,r.add=function(c,y){Cn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function xi(c,y){Cn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return Cn(c),y=ei(c,y),c.g.has(y)}r.forEach=function(c,y){Cn(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(y,j,S,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=c[S];for(let K=0;K<j.length;K++)_.push(y[S])}return _},r.V=function(c){Cn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Cn(this),this.i=null,c=ei(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,_){xi(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),ot=this.V(S);for(S=0;S<ot.length;S++){var j=K;ot[S]!==""&&(j+="="+encodeURIComponent(String(ot[S]))),c.push(j)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function zu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(xi(this,S),Fo(this,j,_))},c)),c.j=y}function As(c,y){const _=new Rn;if(m.Image){const S=new Image;S.onload=N(Dn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=N(Dn,_,"TestLoadImage: error",!1,y,S),S.onabort=N(Dn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=N(Dn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hn(c,y){const _=new Rn,S=new AbortController,j=setTimeout(()=>{S.abort(),Dn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Dn(_,"TestPingServer: ok",!0,y):Dn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Dn(_,"TestPingServer: error",!1,y)})}function Dn(c,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function bs(){this.g=new ms}function ni(c,y,_){const S=_||"";try{jo(c,function(j,K){let ot=j;g(j)&&(ot=jn(j)),y.push(S+K+"="+encodeURIComponent(ot))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(gr,xo),gr.prototype.g=function(){return new Mi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){he.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Mi,he),r=Mi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return dt(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Pe(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,y,_))}function Ht(c){he.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ht,he);var va=/^https?$/i,Ss=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Vo(this.o):Vo(Jn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ju(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ot]of _)this.g.setRequestHeader(K,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ju(this,K)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ea(c),si(c)}function Ea(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Xe(c.Ea,0,c);else if(Gt(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const ot=c.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=ot===0){var j=String(c.D).match(_s)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!va.test(j?j.toLowerCase():"")}_=S}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var K=2<Nn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ea(c)}}finally{si(c)}}}}function si(c,y){if(c.g){ws(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const y={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Q(c[S]))continue;var _=P(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}C(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Aa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){se(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Xu(this,null,this.W),Sa(this)};function Qo(c){if(Hu(c),c.G==3){var y=c.U++,_=mn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),Is(c,_),y=new nn(c,c.j,y),y.L=2,y.v=Es(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}Ku(c)}function ba(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Hu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!ma(c.h)&&!c.s){c.s=!0;var y=c.Ga;lt||V(),mt||(lt(),mt=!0),jt.add(y,c),c.B=0}}function wf(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(b(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new nn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Fu(this,j,y),_=mn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),Is(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Yo(K)))+"&"+y:this.m&&Pe(_,this.m,K)),ga(this.h,j),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",y),Kt(_,"SID","null"),j.T=!0,qn(j,_,null)):qn(j,_,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ma(this.h)||Ko(this))};function Ko(c,y){var _;y?_=y.l:_=c.U++;const S=mn(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),Is(c,S),c.m&&c.o&&Pe(S,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,_),qn(_,S,y)}function Is(c,y){c.H&&dt(c.H,function(_,S){Kt(y,S,_)}),c.l&&jo({},function(_,S){Kt(y,S,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?b(c.l.Na,c.l,c):null;t:{var j=c.i;let K=-1;for(;;){const ot=["count="+_];K==-1?0<_?(K=j[0].g,ot.push("ofs="+K)):K=0:ot.push("ofs="+K);let kt=!0;for(let Ce=0;Ce<_;Ce++){let Lt=j[Ce].g;const ke=j[Ce].map;if(Lt-=K,0>Lt)K=Math.max(0,j[Ce].g-100),kt=!1;else try{ni(ke,ot,"req"+Lt+"_")}catch{S&&S(ke)}}if(kt){S=ot.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function Gu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;lt||V(),mt||(lt(),mt=!0),jt.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(b(c.Fa,c),Wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ba(this),Yu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&Pe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(mn(y)),_.m=null,_.P=!0,Ci(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ba(this),Xo(this),se(19))};function wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,y){var _=null;if(c.g==y){wa(c),Cs(c),c.g=null;var S=2}else if(Bo(c.h,y))_=y.D,rn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=cr(),Gt(S,new Ie(S,_)),Sa(c)}else Gu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&wf(c,y)||S==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),S=c.Xa;const j=!S;S=new Ee(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(S,"https"),Es(S),j?As(S.toString(),_):Hn(S.toString(),_)}else se(2);c.G=0,c.l&&c.l.sa(y),Ku(c),Hu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function Ku(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Xu(c,y,_){var S=_ instanceof Ee?mn(_):new Ee(_);if(S.g!="")y&&(S.g=y+"."+S.g),pr(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new Ee(null);S&&vs(K,S),y&&(K.g=y),j&&pr(K,j),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Kt(S,_,y),Kt(S,"VER",c.la),Is(c,S),S}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ht(new gr({eb:_})):new Ht(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){he.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}O(sn,he),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Qo(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);y.i.push(new Uu(y.Ya++,c)),y.G==3&&Sa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,sn.aa.N.call(this)};function Ju(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Ju,Ri);function $u(){Po.call(this),this.status=1}O($u,Po);function ai(c){this.g=c}O(ai,Zu),ai.prototype.ua=function(){Gt(this.g,"a")},ai.prototype.ta=function(c){Gt(this.g,new Ju(c))},ai.prototype.sa=function(c){Gt(this.g,new $u)},ai.prototype.ra=function(){Gt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,sT=function(){return new Ra},rT=function(){return cr()},iT=Zn,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,ch=dr,Ii.COMPLETE="complete",nT=Ii,Mo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",he.prototype.listen=he.prototype.K,Hl=Mo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,eT=Ht}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",i0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new bp("@firebase/firestore");function eo(){return Ws.logLevel}function ht(r,...t){if(Ws.logLevel<=Vt.DEBUG){const n=t.map(Rp);Ws.debug(`Firestore (${Ao}): ${r}`,...n)}}function ir(r,...t){if(Ws.logLevel<=Vt.ERROR){const n=t.map(Rp);Ws.error(`Firestore (${Ao}): ${r}`,...n)}}function Wr(r,...t){if(Ws.logLevel<=Vt.WARN){const n=t.map(Rp);Ws.warn(`Firestore (${Ao}): ${r}`,...n)}}function Rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,aT(r,s,n)}function aT(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||aT(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class II{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $i,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $i)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new oT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class CI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Fm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=lT(),f=xI(u.encode(s0(r,n)),u.encode(s0(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function s0(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function xI(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function ho(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="__name__";class di{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=di.isNumericId(t),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):Fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class ee extends di{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const VI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends di{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return VI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a0}static keyField(){return new Qe([a0])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function MI(r,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function o0(r){if(!gt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function l0(r){if(gt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function zn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,t){const n={typeString:r};return t&&(n.value=t),n}function yu(r,t){if(!cT(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=-62135596800,c0=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*c0);return new ie(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<u0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(yu(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-u0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:we("string",ie._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ie(0,0))}static max(){return new St(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function PI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ie(n+1,0):new ie(n,s));return new Zr(o,gt.empty(),t)}function kI(r){return new Zr(r.readTime,r.key,eu)}class Zr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(St.min(),gt.empty(),eu)}static max(){return new Zr(St.max(),gt.empty(),eu)}}function LI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==UI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,s)=>{n(t)})}static reject(t){return new nt((n,s)=>{s(t)})}static waitFor(t){return new nt((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next(o=>o?nt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new nt((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new nt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function zI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Gh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Yh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function jI(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="";function qI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=h0(t)),t=HI(r.get(n),t);return h0(t)}function HI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hT:n+="";break;default:n+=u}}return n}function h0(r){return r+hT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function is(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function fT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Ye.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nh(this.root,t,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nh(this.root,t,this.comparator,!0)}}class nh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ye.RED,this.left=o??Ye.EMPTY,this.right=u??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ye(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ye.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ye(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(t){return new d0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class d0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let n=new xe(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new An(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ho(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dT("Invalid base64 string: "+u):u}}(t);return new Ke(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const FI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=FI.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="server_timestamp",pT="__type__",gT="__previous_value__",yT="__local_write_time__";function Dp(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[pT])===null||n===void 0?void 0:n.stringValue)===mT}function Qh(r){const t=r.mapValue.fields[gT];return Dp(t)?Qh(t):t}function nu(r){const t=Jr(r.mapValue.fields[yT].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Sh="(default)";class iu{constructor(t,n){this.projectId=t,this.database=n||Sh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof iu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="__type__",YI="__max__",ih={mapValue:{}},vT="__vector__",wh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:KI(r)?9007199254740991:QI(r)?10:11:Tt(28295,{value:r})}function Ai(r,t){if(r===t)return!0;const n=ts(r);if(n!==ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return nu(r).isEqual(nu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Jr(o.timestampValue),m=Jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),m=_e(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return ho(r.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(f)!==f0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function ru(r,t){return(r.values||[]).find(n=>Ai(n,t))!==void 0}function fo(r,t){if(r===t)return 0;const n=ts(r),s=ts(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=_e(u.integerValue||u.doubleValue),p=_e(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return m0(r.timestampValue,t.timestampValue);case 4:return m0(nu(r),nu(t));case 5:return Fm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ct(m[g],p[g]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(_e(u.latitude),_e(f.latitude));return m!==0?m:Ct(_e(u.longitude),_e(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return p0(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},b=f.fields||{},N=(m=A[wh])===null||m===void 0?void 0:m.arrayValue,O=(p=b[wh])===null||p===void 0?void 0:p.arrayValue,z=Ct(((g=N?.values)===null||g===void 0?void 0:g.length)||0,((E=O?.values)===null||E===void 0?void 0:E.length)||0);return z!==0?z:p0(N,O)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const b=Fm(p[A],E[A]);if(b!==0)return b;const N=fo(m[p[A]],g[E[A]]);if(N!==0)return N}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{le:n})}}function m0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Jr(r),s=Jr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function p0(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function mo(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return gt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function hh(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Qh(r);return t?16+hh(t):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+hh(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function g0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Np(r){return!!r&&"arrayValue"in r}function y0(r){return!!r&&"nullValue"in r}function _0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function QI(r){var t,n;return((n=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===vT}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return is(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Kl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function KI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!fh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ai(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){is(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new fn(Kl(this.value))}}function ET(r){const t=[];return is(r.fields,(n,s)=>{const o=new Qe([n]);if(fh(s)){const u=ET(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),fn.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,St.min(),St.min(),fn.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,St.min(),St.min(),fn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n){this.position=t,this.inclusive=n}}function v0(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function E0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ai(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n="asc"){this.field=t,this.dir=n}}function XI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class Se extends TT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZI(t,n,s):n==="array-contains"?new tC(t,s):n==="in"?new eC(t,s):n==="not-in"?new nC(t,s):n==="array-contains-any"?new iC(t,s):new Se(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new JI(t,s):new $I(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends TT{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Kn(t,n)}matches(t){return AT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function AT(r){return r.op==="and"}function bT(r){return WI(r)&&AT(r)}function WI(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function Qm(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(bT(r))return r.filters.map(t=>Qm(t)).join(",");{const t=r.filters.map(n=>Qm(n)).join(",");return`${r.op}(${t})`}}function ST(r,t){return r instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(r,t):r instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&ST(f,o.filters[m]),!0):!1}(r,t):void Tt(19439)}function wT(r){return r instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(wT).join(" ,")+"}"}(r):"Filter"}class ZI extends Se{constructor(t,n,s){super(t,n,s),this.key=gt.fromName(s.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class JI extends Se{constructor(t,n){super(t,"in",n),this.keys=RT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class $I extends Se{constructor(t,n){super(t,"not-in",n),this.keys=RT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function RT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>gt.fromName(s.referenceValue))}class tC extends Se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Np(n)&&ru(n.arrayValue,this.value)}}class eC extends Se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class nC extends Se{constructor(t,n){super(t,"not-in",n)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class iC extends Se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function T0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new rC(r,t,n,s,o,u,f)}function Op(r){const t=wt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Qm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>mo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>mo(s)).join(",")),t.Pe=n}return t.Pe}function xp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XI(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ST(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!E0(r.startAt,t.startAt)&&E0(r.endAt,t.endAt)}function Km(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function sC(r,t,n,s,o,u,f,m){return new _u(r,t,n,s,o,u,f,m)}function Kh(r){return new _u(r)}function A0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IT(r){return r.collectionGroup!==null}function Xl(r){const t=wt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Ih(u,s))}),n.has(Qe.keyField().canonicalString())||t.Te.push(new Ih(Qe.keyField(),s))}return t.Te}function mi(r){const t=wt(r);return t.Ie||(t.Ie=aC(t,Xl(r))),t.Ie}function aC(r,t){if(r.limitType==="F")return T0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)});const n=r.endAt?new Rh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rh(r.startAt.position,r.startAt.inclusive):null;return T0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Xm(r,t){const n=r.filters.concat([t]);return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wm(r,t,n){return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Xh(r,t){return xp(mi(r),mi(t))&&r.limitType===t.limitType}function CT(r){return`${Op(mi(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>wT(o)).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${s})`}(mi(r))}; limitType=${r.limitType})`}function Wh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=v0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Xl(s),o)||s.endAt&&!function(f,m,p){const g=v0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Xl(s),o))}(r,t)}function oC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DT(r){return(t,n)=>{let s=!1;for(const o of Xl(r)){const u=lC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function lC(r,t,n){const s=r.field.isKeyField()?gt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){is(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new ce(gt.comparator);function rr(){return uC}const NT=new ce(gt.comparator);function Fl(...r){let t=NT;for(const n of r)t=t.insert(n.key,n);return t}function OT(r){let t=NT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Gs(){return Wl()}function xT(){return Wl()}function Wl(){return new ra(r=>r.toString(),(r,t)=>r.isEqual(t))}const cC=new ce(gt.comparator),hC=new xe(gt.comparator);function Mt(...r){let t=hC;for(const n of r)t=t.add(n);return t}const fC=new xe(Ct);function dC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(t)?"-0":t}}function VT(r){return{integerValue:""+r}}function mC(r,t){return jI(t)?VT(t):Vp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function pC(r,t,n){return r instanceof su?function(o,u){const f={fields:{[pT]:{stringValue:mT},[yT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Qh(u)),u&&(f.fields[gT]=u),{mapValue:f}}(n,t):r instanceof po?PT(r,t):r instanceof au?kT(r,t):function(o,u){const f=MT(o,u),m=b0(f)+b0(o.Ee);return Ym(f)&&Ym(o.Ee)?VT(m):Vp(o.serializer,m)}(r,t)}function gC(r,t,n){return r instanceof po?PT(r,t):r instanceof au?kT(r,t):n}function MT(r,t){return r instanceof Ch?function(s){return Ym(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class su extends Zh{}class po extends Zh{constructor(t){super(),this.elements=t}}function PT(r,t){const n=LT(t);for(const s of r.elements)n.some(o=>Ai(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Zh{constructor(t){super(),this.elements=t}}function kT(r,t){let n=LT(t);for(const s of r.elements)n=n.filter(o=>!Ai(o,s));return{arrayValue:{values:n}}}class Ch extends Zh{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function b0(r){return _e(r.integerValue||r.doubleValue)}function LT(r){return Np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n){this.field=t,this.transform=n}}function yC(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof po&&o instanceof po||s instanceof au&&o instanceof au?ho(s.elements,o.elements,Ai):s instanceof Ch&&o instanceof Ch?Ai(s.Ee,o.Ee):s instanceof su&&o instanceof su}(r.transform,t.transform)}class _C{constructor(t,n){this.version=t,this.transformResults=n}}class pi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Jh{}function BT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jT(r.key,pi.none()):new vu(r.key,r.data,pi.none());{const n=r.data,s=fn.empty();let o=new xe(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(r.key,s,new An(o.toArray()),pi.none())}}function vC(r,t,n){r instanceof vu?function(o,u,f){const m=o.value.clone(),p=w0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof rs?function(o,u,f){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=w0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(zT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Zl(r,t,n,s){return r instanceof vu?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=u.value.clone(),E=R0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof rs?function(u,f,m,p){if(!dh(u.precondition,f))return m;const g=R0(u.fieldTransforms,p,f),E=f.data;return E.setAll(zT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,m){return dh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function EC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=MT(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function S0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,(u,f)=>yC(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class vu extends Jh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends Jh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function w0(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,gC(f,m,n[o]))}return s}function R0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,pC(u,f,t))}return s}class jT extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Jh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&vC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=xT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=BT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&ho(this.mutations,t.mutations,(n,s)=>S0(n,s))&&ho(this.baseMutations,t.baseMutations,(n,s)=>S0(n,s))}}class Mp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return cC}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Mp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,Bt;function wC(r){switch(r){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function qT(r){if(r===void 0)return ir("GRPC error has no .code"),tt.UNKNOWN;switch(r){case be.OK:return tt.OK;case be.CANCELLED:return tt.CANCELLED;case be.UNKNOWN:return tt.UNKNOWN;case be.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case be.INTERNAL:return tt.INTERNAL;case be.UNAVAILABLE:return tt.UNAVAILABLE;case be.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case be.NOT_FOUND:return tt.NOT_FOUND;case be.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case be.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case be.ABORTED:return tt.ABORTED;case be.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case be.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case be.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:r})}}(Bt=be||(be={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Qr([4294967295,4294967295],0);function I0(r){const t=lT().encode(r),n=new tT;return n.update(t),new Uint8Array(n.digest())}function C0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Qr([n,s],0),new Qr([o,u],0)]}class Pp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Qr.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Qr.fromNumber(s)));return o.compare(RC)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=I0(t),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.fe===0)return;const n=I0(t),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new $h(St.min(),o,new ce(Ct),rr(),Mt())}}class Eu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Eu(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class HT{constructor(t,n){this.targetId=t,this.De=n}}class FT{constructor(t,n,s=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class D0{constructor(){this.ve=0,this.Ce=N0(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),n=Mt(),s=Mt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new Eu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=N0()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class IC{constructor(t){this.We=t,this.Ge=new Map,this.ze=rr(),this.je=rh(),this.Je=rh(),this.He=new ce(Ct)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Km(u))if(s===0){const f=new gt(u.path);this.Xe(n,f,tn.newNoDocument(f,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(t),p=m?this.ut(m,t,f):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof dT)return Wr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Pp(f,o,u)}catch(p){return Wr(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(t){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Km(m.target)){const p=new gt(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,tn.newNoDocument(p,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Mt();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(t));const o=new $h(t,n,this.He,this.ze,s);return this.ze=rr(),this.je=rh(),this.Je=rh(),this.He=new ce(Ct),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new D0,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new xe(Ct),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new xe(Ct),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new D0),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function rh(){return new ce(gt.comparator)}function N0(){return new ce(gt.comparator)}const CC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NC={and:"AND",or:"OR"};class OC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zm(r,t){return r.useProto3Json||Yh(t)?t:{value:t}}function Dh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function xC(r,t){return Dh(r,t.toTimestamp())}function gi(r){return Ft(!!r,49232),St.fromTimestamp(function(n){const s=Jr(n);return new ie(s.seconds,s.nanos)}(r))}function kp(r,t){return Jm(r,t).canonicalString()}function Jm(r,t){const n=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function YT(r){const t=ee.fromString(r);return Ft(ZT(t),10190,{key:t.toString()}),t}function $m(r,t){return kp(r.databaseId,t.path)}function Dm(r,t){const n=YT(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new gt(KT(n))}function QT(r,t){return kp(r.databaseId,t)}function VC(r){const t=YT(r);return t.length===4?ee.emptyPath():KT(t)}function tp(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function O0(r,t,n){return{name:$m(r,t),fields:n.value.mapValue.fields}}function MC(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Ke.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ke.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?tt.UNKNOWN:qT(g.code);return new ct(E,g.message||"")}(f);n=new FT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):St.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new mh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Dm(r,s.document),u=s.readTime?gi(s.readTime):St.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new mh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Dm(r,s.document),u=s.removedTargetIds||[];n=new mh([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new SC(o,u),m=s.targetId;n=new HT(m,f)}}return n}function PC(r,t){let n;if(t instanceof vu)n={update:O0(r,t.key,t.value)};else if(t instanceof jT)n={delete:$m(r,t.key)};else if(t instanceof rs)n={update:O0(r,t.key,t.data),updateMask:FC(t.fieldMask)};else{if(!(t instanceof TC))return Tt(16599,{Rt:t.type});n={verify:$m(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof po)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function kC(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(St.min())&&(f=gi(u)),new _C(f,o.transformResults||[])}(n,t))):[]}function LC(r,t){return{documents:[QT(r,t.path)]}}function UC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QT(r,o);const u=function(g){if(g.length!==0)return WT(Kn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:io(b.field),direction:jC(b.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:n,parent:o}}function BC(r){let t=VC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const b=XT(A);return b instanceof Kn&&bT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(b=>function(O){return new Ih(ro(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(A){let b;return b=typeof A=="object"?A.value:A,Yh(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(A){const b=!!A.before,N=A.values||[];return new Rh(N,b)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const b=!A.before,N=A.values||[];return new Rh(N,b)}(n.endAt)),sC(t,o,f,u,m,"F",p,g)}function zC(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Se.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Se.create(ro(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function jC(r){return CC[r]}function qC(r){return DC[r]}function HC(r){return NC[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Qe.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof Se?function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:qC(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:HC(n.op),filters:s}}}(r):Tt(54877,{filter:r})}function FC(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ZT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,o,u=St.min(),f=St.min(),m=Ke.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.gt=t}}function YC(r){const t=BC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.Dn=new KC}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Zr.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class KC{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(JT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new go(0)}static ur(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="LruGarbageCollector",XC=1048576;function M0([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class WC{constructor(t){this.Tr=t,this.buffer=new xe(M0),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ht(V0,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?ht(V0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Rr(3e5)})}}class JC{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Gh.ue);const s=new WC(n);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(x0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),x0):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),eo()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function $C(r,t){return new JC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new ra(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Zl(s.mutation,o,An.empty(),ie.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const o=Gs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Gs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=rr();const f=Wl(),m=function(){return Wl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Zl(E.mutation,g,E.mutation.getFieldMask(),ie.now())):f.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new e2(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Wl();let o=new ce((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Mt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=xT();E.forEach(b=>{if(!u.has(b)){const N=BT(n.get(b),s.get(b));N!==null&&A.set(b,N),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return nt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):IT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(Gs());let m=eu,p=u;return f.next(g=>nt.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Mt())).next(E=>({batchId:m,changes:OT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(t,u).next(m=>nt.forEach(m,p=>{const g=function(A,b){return new _u(b,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((A,b)=>{f=f.insert(A,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,tn.newInvalidDocument(E)))});let m=Fl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Zl(E.mutation,g,An.empty(),ie.now()),Wh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:YC(o.bundledQuery),readTime:gi(o.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.overlays=new ce(gt.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Gs();return nt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.wt(t,n,u)}),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=Gs(),u=n.length+1,f=new gt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return nt.resolve(m)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bC(n,s));let u=this.kr.get(n);u===void 0&&(u=Mt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.qr=new xe(ze.Qr),this.$r=new xe(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new ze(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new ze(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new gt(new ee([])),s=new ze(n,t),o=new ze(n,t+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new gt(new ee([])),s=new ze(n,t),o=new ze(n,t+1);let u=Mt();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new ze(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return gt.comparator(t.key,n.key)||Ct(t.Hr,n.Hr)}static Ur(t,n){return Ct(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new xe(ze.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new ze(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(f)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Cp:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),o=new ze(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(Ct);return n.forEach(o=>{const u=new ze(o,0),f=new ze(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),nt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new ze(new gt(u),0);let m=new xe(Ct);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},f),nt.resolve(this.ei(m))}ei(t){const n=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return nt.forEach(n.mutations,o=>{const u=new ze(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new ze(n,0),o=this.Yr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.ni=t,this.docs=function(){return new ce(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=rr();const f=n.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||LI(kI(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ri(t,n){return nt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new l2(this)}getSize(t){return nt.resolve(this.size)}}class l2 extends t2{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.persistence=t,this.ii=new ra(n=>Op(n),xp),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new Lp,this.targetCount=0,this._i=go.ar()}forEachTarget(t,n){return this.ii.forEach((s,o)=>n(o)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new go(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),nt.waitFor(u).next(()=>o)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n){this.ai={},this.overlays={},this.ui=new Gh(0),this.ci=!1,this.ci=!0,this.li=new s2,this.referenceDelegate=t(this),this.hi=new u2(this),this.indexManager=new QC,this.remoteDocumentCache=function(o){return new o2(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new GC(n),this.Ti=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new r2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new a2(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new c2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,n){return nt.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class c2 extends BI{constructor(t){super(),this.currentSequenceNumber=t}}class Up{constructor(t){this.persistence=t,this.Ai=new Lp,this.Ri=null}static Vi(t){return new Up(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,s=>{const o=gt.fromPath(s);return this.fi(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Nh{constructor(t,n){this.persistence=t,this.gi=new ra(s=>qI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$C(this,n)}static Vi(t,n){return new Nh(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return nt.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?nt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,f=>this.Sr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=hh(t.data.value)),n}Sr(t,n,s){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Mt(),o=Mt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return oR()?8:zI(en())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new h2;return this.ws(t,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(t,n,f,m.size)})}).next(()=>u.result)}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(eo()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(eo()<=Vt.DEBUG&&ht("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(eo()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(n))):nt.resolve())}ps(t,n){if(A0(n))return nt.resolve(null);let s=mi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Mt(...u);return this.gs.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,f,p.readTime)?this.ps(t,Wm(n,null,"F")):this.vs(t,g,n,p)}))})))}ys(t,n,s,o){return A0(n)||o.isEqual(St.min())?nt.resolve(null):this.gs.getDocuments(t,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?nt.resolve(null):(eo()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(t,f,n,PI(o,eu)).next(m=>m))})}bs(t,n){let s=new xe(DT(t));return n.forEach((o,u)=>{Wh(t,u)&&(s=s.add(u))}),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return eo()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",no(n)),this.gs.getDocumentsMatchingQuery(t,n,Zr.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",d2=3e8;class m2{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new ce(Ct),this.Ms=new ra(u=>Op(u),xp),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new n2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function p2(r,t,n,s){return new m2(r,t,n,s)}async function tA(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Mt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:m}))})})}function g2(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,b=A.keys();let N=nt.resolve();return b.forEach(O=>{N=N.next(()=>E.getEntry(p,O)).next(z=>{const k=g.docVersions.get(O);Ft(k!==null,48541),z.version.compareTo(k)<0&&(A.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Mt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function eA(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function y2(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];t.targetChanges.forEach((E,A)=>{const b=o.get(A);if(!b)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,A)));let N=b.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Ke.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function(z,k,L){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=d2?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(b,N,E)&&m.push(n.hi.updateTargetData(u,N))});let p=rr(),g=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(_2(u,f,t.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(St.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return nt.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function _2(r,t,n){let s=Mt(),o=Mt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ht(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function v2(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function E2(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,t).next(u=>u?(o=u,nt.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Hr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function ep(r,t,n){const s=wt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;ht(zp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function P0(r,t,n){const s=wt(r);let o=St.min(),u=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=wt(p),b=A.Ms.get(E);return b!==void 0?nt.resolve(A.Fs.get(b)):A.hi.getTargetData(g,E)}(s,f,mi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Mt())).next(m=>(T2(s,oC(t),m),{documents:m,qs:u})))}function T2(r,t,n){let s=r.xs.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class k0{constructor(){this.activeTargetIds=dC()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A2{constructor(){this.Fo=new k0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new k0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="ConnectivityMonitor";class U0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ht(L0,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ht(L0,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function np(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",S2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w2{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=np(),m=this.Go(t,n.toUriEncodedString());ht(Nm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=Eo(g);return this.jo(t,m,p,s,E).then(A=>(ht(Nm,`Received RPC '${t}' ${f}: `,A),A),A=>{throw Wr(Nm,`RPC '${t}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,n){const s=S2[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class I2 extends w2{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=np();return new Promise((m,p)=>{const g=new eT;g.setWithCredentials(!0),g.listenOnce(nT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const A=g.getResponseJson();ht(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),m(A);break;case ch.TIMEOUT:ht(Je,`RPC '${t}' ${f} timed out`),p(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const b=g.getStatus();if(ht(Je,`RPC '${t}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const z=function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Q)>=0?Q:tt.UNKNOWN}(O.status);p(new ct(z,O.message))}else p(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ht(Je,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);ht(Je,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}P_(t,n,s){const o=np(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=sT(),m=rT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ht(Je,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.T_(A);let b=!1,N=!1;const O=new R2({Ho:k=>{N?ht(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(b||(ht(Je,`Opening RPC '${t}' stream ${o} transport.`),A.open(),b=!0),ht(Je,`RPC '${t}' stream ${o} sending:`,k),A.send(k))},Yo:()=>A.close()}),z=(k,L,Q)=>{k.listen(L,X=>{try{Q(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return z(A,Hl.EventType.OPEN,()=>{N||(ht(Je,`RPC '${t}' stream ${o} transport opened.`),O.s_())}),z(A,Hl.EventType.CLOSE,()=>{N||(N=!0,ht(Je,`RPC '${t}' stream ${o} transport closed`),O.__(),this.I_(A))}),z(A,Hl.EventType.ERROR,k=>{N||(N=!0,Wr(Je,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),O.__(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),z(A,Hl.EventType.MESSAGE,k=>{var L;if(!N){const Q=k.data[0];Ft(!!Q,16349);const X=Q,rt=X?.error||((L=X[0])===null||L===void 0?void 0:L.error);if(rt){ht(Je,`RPC '${t}' stream ${o} received error:`,rt);const at=rt.status;let dt=function(R){const x=be[R];if(x!==void 0)return qT(x)}(at),C=rt.message;dt===void 0&&(dt=tt.INTERNAL,C="Unknown error status: "+at+" with message "+rt.message),N=!0,O.__(new ct(dt,C)),A.close()}else ht(Je,`RPC '${t}' stream ${o} received:`,Q),O.a_(Q)}}),z(m,iT.STAT_EVENT,k=>{k.stat===Hm.PROXY?ht(Je,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Hm.NOPROXY&&ht(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){return new OC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class iA{constructor(t,n,s,o,u,f,m,p){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new nA(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{t(()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ht(B0,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(ht(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C2 extends iA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=MC(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?gi(f.readTime):St.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=tp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:LC(u,p)}:{query:UC(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GT(u,f.resumeToken);const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=zC(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=tp(this.serializer),n.removeTarget=t,this.k_(n)}}class D2 extends iA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=kC(t.writeResults,t.commitTime),s=gi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=tp(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>PC(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{}class O2 extends N2{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(t,Jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())})}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(t,Jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class x2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ir(n),this._a=!1):ht("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class V2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{sa(this)&&(ht(Zs,"Restarting streams for network reachability change."),await async function(p){const g=wt(p);g.Ia.add(4),await Tu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await ef(g)}(this))})}),this.Aa=new x2(s,o)}}async function ef(r){if(sa(r))for(const t of r.da)await t(!0)}async function Tu(r){for(const t of r.da)await t(!1)}function rA(r,t){const n=wt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Fp(n)?Hp(n):wo(n).x_()&&qp(n,t))}function jp(r,t){const n=wt(r),s=wo(n);n.Ta.delete(t),s.x_()&&sA(n,t),n.Ta.size===0&&(s.x_()?s.B_():sa(n)&&n.Aa.set("Unknown"))}function qp(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wo(r).H_(t)}function sA(r,t){r.Ra.$e(t),wo(r).Y_(t)}function Hp(r){r.Ra=new IC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Aa.aa()}function Fp(r){return sa(r)&&!wo(r).M_()&&r.Ta.size>0}function sa(r){return wt(r).Ia.size===0}function aA(r){r.Ra=void 0}async function M2(r){r.Aa.set("Online")}async function P2(r){r.Ta.forEach((t,n)=>{qp(r,t)})}async function k2(r,t){aA(r),Fp(r)?(r.Aa.la(t),Hp(r)):r.Aa.set("Unknown")}async function L2(r,t,n){if(r.Aa.set("Online"),t instanceof FT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,t)}catch(s){ht(Zs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Oh(r,s)}else if(t instanceof mh?r.Ra.Ye(t):t instanceof HT?r.Ra.it(t):r.Ra.et(t),!n.isEqual(St.min()))try{const s=await eA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Ke.EMPTY_BYTE_STRING,E.snapshotVersion)),sA(u,p);const A=new Hr(E.target,p,g,E.sequenceNumber);qp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ht(Zs,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,t,n){if(!So(t))throw t;r.Ia.add(1),await Tu(r),r.Aa.set("Offline"),n||(n=()=>eA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(Zs,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await ef(r)})}function oA(r,t){return t().catch(n=>Oh(r,n,t))}async function nf(r){const t=wt(r),n=es(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Cp;for(;U2(t);)try{const o=await v2(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,B2(t,o)}catch(o){await Oh(t,o)}lA(t)&&uA(t)}function U2(r){return sa(r)&&r.Pa.length<10}function B2(r,t){r.Pa.push(t);const n=es(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function lA(r){return sa(r)&&!es(r).M_()&&r.Pa.length>0}function uA(r){es(r).start()}async function z2(r){es(r).na()}async function j2(r){const t=es(r);for(const n of r.Pa)t.X_(n.mutations)}async function q2(r,t,n){const s=r.Pa.shift(),o=Mp.from(s,t,n);await oA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await nf(r)}async function H2(r,t){t&&es(r).Z_&&await async function(s,o){if(function(f){return wC(f)&&f!==tt.ABORTED}(o.code)){const u=s.Pa.shift();es(s).N_(),await oA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await nf(s)}}(r,t),lA(r)&&uA(r)}async function z0(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ht(Zs,"RemoteStore received new credentials");const s=sa(n);n.Ia.add(3),await Tu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await ef(n)}async function F2(r,t){const n=wt(r);t?(n.Ia.delete(2),await ef(n)):t||(n.Ia.add(2),await Tu(n),n.Aa.set("Unknown"))}function wo(r){return r.Va||(r.Va=function(n,s,o){const u=wt(n);return u.ia(),new C2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:M2.bind(null,r),e_:P2.bind(null,r),n_:k2.bind(null,r),J_:L2.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Fp(r)?Hp(r):r.Aa.set("Unknown")):(await r.Va.stop(),aA(r))})),r.Va}function es(r){return r.ma||(r.ma=function(n,s,o){const u=wt(n);return u.ia(),new D2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:z2.bind(null,r),n_:H2.bind(null,r),ea:j2.bind(null,r),ta:q2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await nf(r)):(await r.ma.stop(),r.Pa.length>0&&(ht(Zs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Gp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(r,t){if(ir("AsyncQueue",`${t}: ${r}`),So(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(t){return new ao(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||gt.comparator(n.key,s.key):(n,s)=>gt.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ao)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.fa=new ce(gt.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class yo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new yo(t,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class Y2{constructor(){this.queries=q0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=q0(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function q0(){return new ra(r=>CT(r),Xh)}async function Qp(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new G2,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${no(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&Xp(n)}async function Kp(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Q2(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&Xp(n)}function K2(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function Xp(r){r.Da.forEach(t=>{t.next()})}var ip,H0;(H0=ip||(ip={})).Fa="default",H0.Cache="cache";class Wp{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.key=t}}class hA{constructor(t){this.key=t}}class X2{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=DT(t),this.eu=new ao(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new j0,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const b=o.get(E),N=Wh(this.query,A)?A:null,O=!!b&&this.mutatedKeys.has(b.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let k=!1;b&&N?b.data.isEqual(N.data)?O!==z&&(s.track({type:3,doc:N}),k=!0):this.iu(b,N)||(s.track({type:2,doc:N}),k=!0,(p&&this.Xa(N,p)>0||g&&this.Xa(N,g)<0)&&(m=!0)):!b&&N?(s.track({type:0,doc:N}),k=!0):b&&!N&&(s.track({type:1,doc:b}),k=!0,(p||g)&&(m=!0)),k&&(N?(f=f.add(N),u=z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((E,A)=>function(N,O){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:k})}};return z(N)-z(O)}(E.type,A.type)||this.Xa(E.doc,A.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,f.length!==0||g?{snapshot:new yo(this.query,t.eu,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new j0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new hA(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new cA(s))}),n}uu(t){this.Ha=t.qs,this.Za=Mt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return yo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Zp="SyncEngine";class W2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Z2{constructor(t){this.key=t,this.lu=!1}}class J2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ra(m=>CT(m),Xh),this.Tu=new Map,this.Iu=new Set,this.du=new ce(gt.comparator),this.Eu=new Map,this.Au=new Lp,this.Ru={},this.Vu=new Map,this.mu=go.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function $2(r,t,n=!0){const s=yA(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await fA(s,t,n,!0),o}async function tD(r,t){const n=yA(r);await fA(n,t,!0,!1)}async function fA(r,t,n,s){const o=await E2(r.localStore,mi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&rA(r.remoteStore,o),m}async function eD(r,t,n,s,o){r.gu=(A,b,N)=>async function(z,k,L,Q){let X=k.view.nu(L);X.Ds&&(X=await P0(z.localStore,k.query,!1).then(({documents:C})=>k.view.nu(C,X)));const rt=Q&&Q.targetChanges.get(k.targetId),at=Q&&Q.targetMismatches.get(k.targetId)!=null,dt=k.view.applyChanges(X,z.isPrimaryClient,rt,at);return G0(z,k.targetId,dt._u),dt.snapshot}(r,A,b,N);const u=await P0(r.localStore,t,!0),f=new X2(t,u.qs),m=f.nu(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);G0(r,n,g._u);const E=new W2(t,n,f);return r.Pu.set(t,E),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function nD(r,t,n){const s=wt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Xh(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jp(s.remoteStore,o.targetId),rp(s,o.targetId)}).catch(bo)):(rp(s,o.targetId),await ep(s.localStore,o.targetId,!0))}async function iD(r,t){const n=wt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jp(n.remoteStore,s.targetId))}async function rD(r,t,n){const s=hD(r);try{const o=await function(f,m){const p=wt(f),g=ie.now(),E=m.reduce((N,O)=>N.add(O.key),Mt());let A,b;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=rr(),z=Mt();return p.Os.getEntries(N,E).next(k=>{O=k,O.forEach((L,Q)=>{Q.isValidDocument()||(z=z.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,O)).next(k=>{A=k;const L=[];for(const Q of m){const X=EC(Q,A.get(Q.key).overlayedDocument);X!=null&&L.push(new rs(Q.key,X,ET(X.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,L,m)}).next(k=>{b=k;const L=k.applyToLocalDocumentSet(A,z);return p.documentOverlayCache.saveOverlays(N,k.batchId,L)})}).then(()=>({batchId:b.batchId,changes:OT(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Ru[f.currentUser.toKey()];g||(g=new ce(Ct)),g=g.insert(m,p),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,n),await Au(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function dA(r,t){const n=wt(r);try{const s=await y2(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?Ft(f.lu,14607):o.removedDocuments.size>0&&(Ft(f.lu,42227),f.lu=!1))}),await Au(n,s,t)}catch(s){await bo(s)}}function F0(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=wt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const b of A.wa)b.va(m)&&(g=!0)}),g&&Xp(p)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sD(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new ce(gt.comparator);f=f.insert(u,tn.newNoDocument(u,St.min()));const m=Mt().add(u),p=new $h(St.min(),new Map,new ce(Ct),f,m);await dA(s,p),s.du=s.du.remove(u),s.Eu.delete(t),Jp(s)}else await ep(s.localStore,t,!1).then(()=>rp(s,t,n)).catch(bo)}async function aD(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await g2(n.localStore,t);pA(n,s,null),mA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await bo(o)}}async function oD(r,t,n){const s=wt(r);try{const o=await function(f,m){const p=wt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ft(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);pA(s,t,n),mA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Au(s,o)}catch(o){await bo(o)}}function mA(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function pA(r,t,n){const s=wt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function rp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||gA(r,s)})}function gA(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Jp(r))}function G0(r,t,n){for(const s of n)s instanceof cA?(r.Au.addReference(s.key,t),lD(r,s)):s instanceof hA?(ht(Zp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||gA(r,s.key)):Tt(19791,{yu:s})}function lD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(ht(Zp,"New document in limbo: "+n),r.Iu.add(s),Jp(r))}function Jp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new gt(ee.fromString(t)),s=r.mu.next();r.Eu.set(s,new Z2(n)),r.du=r.du.insert(n,s),rA(r.remoteStore,new Hr(mi(Kh(n.path)),s,"TargetPurposeLimboResolution",Gh.ue))}}async function Au(r,t,n){const s=wt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Bp.Es(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,g){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>nt.forEach(g,b=>nt.forEach(b.Is,N=>E.persistence.referenceDelegate.addReference(A,b.targetId,N)).next(()=>nt.forEach(b.ds,N=>E.persistence.referenceDelegate.removeReference(A,b.targetId,N)))))}catch(A){if(!So(A))throw A;ht(zp,"Failed to update sequence numbers: "+A)}for(const A of g){const b=A.targetId;if(!A.fromCache){const N=E.Fs.get(b),O=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(O);E.Fs=E.Fs.insert(b,z)}}}(s.localStore,u))}async function uD(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ht(Zp,"User change. New user:",t.toKey());const s=await tA(n.localStore,t);n.currentUser=t,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ct(tt.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Bs)}}function cD(r,t){const n=wt(r),s=n.Eu.get(t);if(s&&s.lu)return Mt().add(s.key);{let o=Mt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function yA(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sD.bind(null,t),t.hu.J_=Q2.bind(null,t.eventManager),t.hu.pu=K2.bind(null,t.eventManager),t}function hD(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,t),t}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=tf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return p2(this.persistence,new f2,t.initialUser,this.serializer)}Du(t){return new $T(Up.Vi,this.serializer)}bu(t){return new A2}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class fD extends xh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Ft(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZC(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new $T(s=>Nh.Vi(s,n),this.serializer)}}class sp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uD.bind(null,this.syncEngine),await F2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Y2}()}createDatastore(t){const n=tf(t.databaseInfo.databaseId),s=function(u){return new I2(u)}(t.databaseInfo);return function(u,f,m,p){return new O2(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new V2(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return U0.C()?new U0:new b2}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const A=new J2(o,u,f,m,p,g);return E&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=wt(o);ht(Zs,"RemoteStore shutting down."),u.Ia.add(5),await Tu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class dD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function xm(r,t){r.asyncQueue.verifyOperationInProgress(),ht(ns,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{Wr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ht("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Wr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function Y0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await mD(r);ht(ns,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>z0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>z0(t.remoteStore,o)),r._onlineComponents=t}async function mD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ns,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new xh)}}else ht(ns,"Using default OfflineComponentProvider"),await xm(r,new fD(void 0));return r._offlineComponents}async function _A(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ns,"Using user provided OnlineComponentProvider"),await Y0(r,r._uninitializedComponentsProvider._online)):(ht(ns,"Using default OnlineComponentProvider"),await Y0(r,new sp))),r._onlineComponents}function pD(r){return _A(r).then(t=>t.syncEngine)}async function Vh(r){const t=await _A(r),n=t.eventManager;return n.onListen=$2.bind(null,t.syncEngine),n.onUnlisten=nD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=tD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=iD.bind(null,t.syncEngine),n}function gD(r,t,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new $p({next:b=>{E.Ou(),f.enqueueAndForget(()=>Kp(u,A));const N=b.docs.has(m);!N&&b.fromCache?g.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&b.fromCache&&p&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Wp(Kh(m.path),E,{includeMetadataChanges:!0,ka:!0});return Qp(u,A)}(await Vh(r),r.asyncQueue,t,n,s)),s.promise}function yD(r,t,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new $p({next:b=>{E.Ou(),f.enqueueAndForget(()=>Kp(u,A)),b.fromCache&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),A=new Wp(m,E,{includeMetadataChanges:!0,ka:!0});return Qp(u,A)}(await Vh(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firestore.googleapis.com",K0=!0;class X0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EA,this.ssl=K0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:K0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XC)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}MI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class rf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new DI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Q0.get(n);s&&(ht("ComponentProvider","Removing Datastore"),Q0.delete(n),s.terminate())}(this),Promise.resolve()}}function _D(r,t,n,s={}){var o;r=zn(r,rf);const u=Eo(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(YE(`https://${p}`),QE("Firestore",!0)),f.host!==EA&&f.host!==p&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Xr(g,m)&&(r._setSettings(g),s.mockUserToken)){let E,A;if(typeof s.mockUserToken=="string")E=s.mockUserToken,A=$e.MOCK_USER;else{E=Jw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(b)}r._authCredentials=new RI(new oT(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new me(this.firestore,t,this._key)}toJSON(){return{type:me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(yu(n,me._jsonSchema))return new me(t,s||null,new gt(ee.fromString(n.referencePath)))}}me._jsonSchemaVersion="firestore/documentReference/1.0",me._jsonSchema={type:we("string",me._jsonSchemaVersion),referencePath:we("string")};class Kr extends aa{constructor(t,n,s){super(t,n,Kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new me(this.firestore,null,new gt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function Vm(r,t,...n){if(r=Ve(r),uT("collection","path",t),r instanceof rf){const s=ee.fromString(t,...n);return l0(s),new Kr(r,null,s)}{if(!(r instanceof me||r instanceof Kr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return l0(s),new Kr(r.firestore,null,s)}}function bn(r,t,...n){if(r=Ve(r),arguments.length===1&&(t=Ip.newId()),uT("doc","path",t),r instanceof rf){const s=ee.fromString(t,...n);return o0(s),new me(r,null,new gt(s))}{if(!(r instanceof me||r instanceof Kr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return o0(s),new me(r.firestore,r instanceof Kr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class Z0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new nA(this,"async_queue_retry"),this.oc=()=>{const s=Om();s&&ht(W0,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new $i;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!So(t))throw t;ht(W0,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,ir("INTERNAL UNHANDLED ERROR: ",J0(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Gp.createAndSchedule(this,t,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Tt(47125,{hc:J0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function J0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Js extends rf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Z0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z0(t),this._firestoreClient=void 0,await t}}}function vD(r,t){const n=typeof r=="object"?r:ZE(),s=typeof r=="string"?r:Sh,o=wp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ww("firestore");u&&_D(o,...u)}return o}function sf(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ED(r),r._firestoreClient}function ED(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new GI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new dD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Ke.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(yu(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:we("string",Bn._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(t){if(yu(t,yi._jsonSchema))return new yi(t.latitude,t.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:we("string",yi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(yu(t,_i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new _i(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:we("string",_i._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=/^__.*__$/;class AD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new vu(t,this.data,n,this.fieldTransforms)}}class TA{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function AA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:r})}}class of{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new of(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Mh(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(AA(this.Ec)&&TD.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class bD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||tf(t)}Dc(t,n,s,o=!1){return new of({Ec:t,methodName:n,bc:s,path:Qe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(r){const t=r._freezeSettings(),n=tf(r._databaseId);return new bD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function SD(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",f,s);const m=bA(s,f);let p,g;if(u.merge)p=new An(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const b=ap(t,A,n);if(!f.contains(b))throw new ct(tt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);wA(E,b)||E.push(b)}p=new An(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new AD(new fn(m),p,g)}class lf extends bu{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lf}}function wD(r,t,n){return new of({Ec:3,bc:t.settings.bc,methodName:r._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class eg extends bu{_toFieldTransform(t){return new UT(t.path,new su)}isEqual(t){return t instanceof eg}}class ng extends bu{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=wD(this,t,!0),s=this.vc.map(u=>Ro(u,n)),o=new po(s);return new UT(t.path,o)}isEqual(t){return t instanceof ng&&Xr(this.vc,t.vc)}}function RD(r,t,n,s){const o=r.Dc(1,t,n);ig("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();is(s,(p,g)=>{const E=rg(t,p,n);g=Ve(g);const A=o.gc(E);if(g instanceof lf)u.push(E);else{const b=Ro(g,A);b!=null&&(u.push(E),f.set(E,b))}});const m=new An(u);return new TA(f,m,o.fieldTransforms)}function ID(r,t,n,s,o,u){const f=r.Dc(1,t,n),m=[ap(t,s,n)],p=[o];if(u.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(ap(t,u[b])),p.push(u[b+1]);const g=[],E=fn.empty();for(let b=m.length-1;b>=0;--b)if(!wA(g,m[b])){const N=m[b];let O=p[b];O=Ve(O);const z=f.gc(N);if(O instanceof lf)g.push(N);else{const k=Ro(O,z);k!=null&&(g.push(N),E.set(N,k))}}const A=new An(g);return new TA(E,A,f.fieldTransforms)}function CD(r,t,n,s=!1){return Ro(n,r.Dc(s?4:3,t))}function Ro(r,t){if(SA(r=Ve(r)))return ig("Unsupported field value:",t,r),bA(r,t);if(r instanceof bu)return function(s,o){if(!AA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ro(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ie.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof ie){const u=new ie(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:GT(o.serializer,s._byteString)};if(s instanceof me){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _i)return function(f,m){return{mapValue:{fields:{[_T]:{stringValue:vT},[wh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Fh(s)}`)}(r,t)}function bA(r,t){const n={};return fT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(r,(s,o)=>{const u=Ro(o,t.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function SA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof yi||r instanceof Bn||r instanceof me||r instanceof bu||r instanceof _i)}function ig(r,t,n){if(!SA(n)||!cT(n)){const s=Fh(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function ap(r,t,n){if((t=Ve(t))instanceof af)return t._internalPath;if(typeof t=="string")return rg(r,t);throw Mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const DD=new RegExp("[~\\*/\\[\\]]");function rg(r,t,n){if(t.search(DD)>=0)throw Mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new af(...t.split("."))._internalPath}catch{throw Mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ct(tt.INVALID_ARGUMENT,m+r+p)}function wA(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ND(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ND extends RA{data(){return super.data()}}function sg(r,t){return typeof t=="string"?rg(r,t):t instanceof af?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class OD extends ag{}function xD(r,t,...n){let s=[];t instanceof ag&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof og).length,m=u.filter(p=>p instanceof uf).length;if(f>1||f>0&&m>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class uf extends OD{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new uf(t,n,s)}_apply(t){const n=this._parse(t);return CA(t._query,n),new aa(t.firestore,t.converter,Xm(t._query,n))}_parse(t){const n=tg(t.firestore);return function(u,f,m,p,g,E,A){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eE(A,E);const O=[];for(const z of A)O.push(tE(p,u,z));b={arrayValue:{values:O}}}else b=tE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eE(A,E),b=CD(m,f,A,E==="in"||E==="not-in");return Se.create(g,E,b)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function VD(r,t,n){const s=t,o=sg("where",r);return uf._create(o,s,n)}class og extends ag{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new og(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CA(f,p),f=Xm(f,p)}(t._query,n),new aa(t.firestore,t.converter,Xm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tE(r,t,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g0(r,new gt(s))}if(n instanceof me)return g0(r,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function eE(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CA(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class MD{convertValue(t,n="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return is(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_e(f.doubleValue));return new _i(u)}convertGeoPoint(t){return new yi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Qh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(t));default:return null}}convertTimestamp(t){const n=Jr(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ft(ZT(s),9688,{name:t});const o=new iu(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Yl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ys extends RA{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(sg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:we("string",Ys._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class ph extends Ys{data(t={}){return super.data(t)}}class Qs{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new ph(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:kD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){r=zn(r,me);const t=zn(r.firestore,Js);return gD(sf(t),r._key).then(n=>OA(t,r,n))}Qs._jsonSchemaVersion="firestore/querySnapshot/1.0",Qs._jsonSchema={type:we("string",Qs._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class lg extends MD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new me(this.firestore,null,n)}}function LD(r){r=zn(r,aa);const t=zn(r.firestore,Js),n=sf(t),s=new lg(t);return IA(r._query),yD(n,r._query).then(o=>new Qs(t,s,r,o))}function op(r,t,n){r=zn(r,me);const s=zn(r.firestore,Js),o=PD(r.converter,t);return NA(s,[SD(tg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pi.none())])}function $s(r,t,n,...s){r=zn(r,me);const o=zn(r.firestore,Js),u=tg(o);let f;return f=typeof(t=Ve(t))=="string"||t instanceof af?ID(u,"updateDoc",r._key,t,n,s):RD(u,"updateDoc",r._key,t),NA(o,[f.toMutation(r._key,pi.exists(!0))])}function DA(r,...t){var n,s,o;r=Ve(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||$0(t[f])||(u=t[f++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if($0(t[f])){const A=t[f];t[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),t[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),t[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,E;if(r instanceof me)g=zn(r.firestore,Js),E=Kh(r._key.path),p={next:A=>{t[f]&&t[f](OA(g,r,A))},error:t[f+1],complete:t[f+2]};else{const A=zn(r,aa);g=zn(A.firestore,Js),E=A._query;const b=new lg(g);p={next:N=>{t[f]&&t[f](new Qs(g,b,A,N))},error:t[f+1],complete:t[f+2]},IA(r._query)}return function(b,N,O,z){const k=new $p(z),L=new Wp(N,k,O);return b.asyncQueue.enqueueAndForget(async()=>Qp(await Vh(b),L)),()=>{k.Ou(),b.asyncQueue.enqueueAndForget(async()=>Kp(await Vh(b),L))}}(sf(g),E,m,p)}function NA(r,t){return function(s,o){const u=new $i;return s.asyncQueue.enqueueAndForget(async()=>rD(await pD(s),o,u)),u.promise}(sf(r),t)}function OA(r,t,n){const s=n.docs.get(t._key),o=new lg(r);return new Ys(r,o,t._key,s,new Yl(n.hasPendingWrites,n.fromCache),t.converter)}function UD(){return new eg("serverTimestamp")}function lp(...r){return new ng("arrayUnion",r)}(function(t,n=!0){(function(o){Ao=o})(To),co(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Js(new II(s.getProvider("auth-internal")),new NI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Yr(n0,i0,t),Yr(n0,i0,"esm2017")})();var BD="firebase",zD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(BD,zD,"app");function ug(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jD=xA,VA=new pu("auth","Firebase",xA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new bp("@firebase/auth");function qD(r,...t){Ph.logLevel<=Vt.WARN&&Ph.warn(`Auth (${To}): ${r}`,...t)}function gh(r,...t){Ph.logLevel<=Vt.ERROR&&Ph.error(`Auth (${To}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(r,...t){throw cg(r,...t)}function vi(r,...t){return cg(r,...t)}function MA(r,t,n){const s=Object.assign(Object.assign({},jD()),{[t]:n});return new pu("auth","Firebase",s).create(t,{appName:r.name})}function tr(r){return MA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VA.create(r,...t)}function Et(r,t,...n){if(!r)throw cg(t,...n)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gh(t),new Error(t)}function sr(r,t){r||Wi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function HD(){return nE()==="http:"||nE()==="https:"}function nE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HD()||rR()||"connection"in navigator)?navigator.onLine:!0}function GD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=eR()||sR()}get(){return FD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KD=new Su(3e4,6e4);function ss(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function as(r,t,n,s,o={}){return kA(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return iR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),PA.fetch()(await LA(r,r.config.apiHost,n,m),g)})}async function kA(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},YD),t);try{const o=new WD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ah(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw ah(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MA(r,E,g);Xn(r,E)}}catch(o){if(o instanceof lr)throw o;Xn(r,"network-request-failed",{message:String(o)})}}async function wu(r,t,n,s,o={}){const u=await as(r,t,n,s,o);return"mfaPendingCredential"in u&&Xn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function LA(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?hg(r.config,o):`${r.config.apiScheme}://${o}`;return QD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function XD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),KD.get())})}}function ah(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=vi(r,t,s);return o.customData._tokenResponse=n,o}function iE(r){return r!==void 0&&r.enterprise!==void 0}class ZD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return XD(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JD(r,t){return as(r,"GET","/v2/recaptchaConfig",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(r,t){return as(r,"POST","/v1/accounts:delete",t)}async function kh(r,t){return as(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tN(r,t=!1){const n=Ve(r),s=await n.getIdToken(t),o=fg(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Jl(Mm(o.auth_time)),issuedAtTime:Jl(Mm(o.iat)),expirationTime:Jl(Mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Mm(r){return Number(r)*1e3}function fg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=qE(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(r){const t=fg(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof lr&&eN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await lu(r,kh(n,{idToken:s}));Et(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?UA(u.providerUserInfo):[],m=rN(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!m?.length,E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new cp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function iN(r){const t=Ve(r);await Lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rN(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function UA(r){return r.map(t=>{var{providerId:n}=t,s=ug(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(r,t){const n=await kA(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await LA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),PA.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aN(r,t){return as(r,"POST","/v2/accounts:revokeToken",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=rE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sN(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Qn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ug(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await lu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tN(this,t)}reload(){return iN(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await lu(this,$D(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,k=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,L=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:rt,isAnonymous:at,providerData:dt,stsTokenManager:C}=n;Et(X&&C,t,"internal-error");const w=oo.fromJSON(this.name,C);Et(typeof X=="string",t,"internal-error"),Ur(A,t.name),Ur(b,t.name),Et(typeof rt=="boolean",t,"internal-error"),Et(typeof at=="boolean",t,"internal-error"),Ur(N,t.name),Ur(O,t.name),Ur(z,t.name),Ur(k,t.name),Ur(L,t.name),Ur(Q,t.name);const R=new Qn({uid:X,auth:t,email:b,emailVerified:rt,displayName:A,isAnonymous:at,photoURL:O,phoneNumber:N,tenantId:z,stsTokenManager:w,createdAt:L,lastLoginAt:Q});return dt&&Array.isArray(dt)&&(R.providerData=dt.map(x=>Object.assign({},x))),k&&(R._redirectEventId=k),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new Qn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let t=sE.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,sE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}BA.type="NONE";const aE=BA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(r,t,n){return`firebase:${r}:${t}:${n}`}class lo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await kh(this.auth,{idToken:t}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new lo(Zi(aE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(aE);const f=yh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const b=await kh(t,{idToken:E}).catch(()=>{});if(!b)break;A=await Qn._fromGetAccountInfoResponse(t,b,E)}else A=Qn._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(GA(t))return"Blackberry";if(YA(t))return"Webos";if(jA(t))return"Safari";if((t.includes("chrome/")||qA(t))&&!t.includes("edge/"))return"Chrome";if(FA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function zA(r=en()){return/firefox\//i.test(r)}function jA(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qA(r=en()){return/crios\//i.test(r)}function HA(r=en()){return/iemobile/i.test(r)}function FA(r=en()){return/android/i.test(r)}function GA(r=en()){return/blackberry/i.test(r)}function YA(r=en()){return/webos/i.test(r)}function dg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oN(r=en()){var t;return dg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function lN(){return aR()&&document.documentMode===10}function QA(r=en()){return dg(r)||FA(r)||YA(r)||GA(r)||/windows phone/i.test(r)||HA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r,t=[]){let n;switch(r){case"Browser":n=oE(en());break;case"Worker":n=`${oE(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(r,t={}){return as(r,"GET","/v2/passwordPolicy",ss(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=6;class fN{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:hN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new uN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await kh(this,{idToken:t}),s=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Lh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(tr(this));const n=t?Ve(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cN(this),n=new fN(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aN(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&qD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function oa(r){return Ve(r)}class lE{constructor(t){this.auth=t,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mN(r){cf=r}function XA(r){return cf.loadJS(r)}function pN(){return cf.recaptchaEnterpriseScript}function gN(){return cf.gapiScript}function yN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _N{constructor(){this.enterprise=new vN}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vN{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const EN="recaptcha-enterprise",WA="NO_RECAPTCHA";class TN{constructor(t){this.type=EN,this.auth=oa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{JD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new ZD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(WA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _N().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pN();p.length!==0&&(p+=m),XA(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function uE(r,t,n,s=!1,o=!1){const u=new TN(r);let f;if(o)f=WA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function hp(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await uE(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await uE(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r,t){const n=wp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xr(u,t??{}))return o;Xn(o,"already-initialized")}return n.initialize({options:t})}function bN(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function SN(r,t,n){const s=oa(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=ZA(t),{host:f,port:m}=wN(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Xr(g,s.config.emulator)&&Xr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(YE(`${u}//${f}${p}`),QE("Auth",!0)):RN()}function ZA(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wN(r){const t=ZA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:cE(f)}}}function cE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,n){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function IN(r,t){return as(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,t){return wu(r,"POST","/v1/accounts:signInWithPassword",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,t){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}async function NN(r,t){return wu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends mg{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new uu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new uu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(t,n,"signInWithPassword",CN);case"emailLink":return DN(t,{email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(t,s,"signUpPassword",IN);case"emailLink":return NN(t,{idToken:n,email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,t){return wu(r,"POST","/v1/accounts:signInWithIdp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="http://localhost";class ta extends mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ug(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return uo(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,uo(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uo(t,n)}buildRequest(){const t={requestUri:ON,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=gu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VN(r){const t=jl(ql(r)).link,n=t?jl(ql(t)).deep_link_id:null,s=jl(ql(r)).deep_link_id;return(s?jl(ql(s)).link:null)||s||n||t||r}class pg{constructor(t){var n,s,o,u,f,m;const p=jl(ql(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=xN((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=VN(t);try{return new pg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(t,n){return uu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=pg.parseLink(n);return Et(s,"argument-error"),uu._fromEmailAndCode(t,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends JA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ru{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Ru{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Ru{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r,t){return wu(r,"POST","/v1/accounts:signUp",ss(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Qn._fromIdTokenResponse(t,s,o),f=hE(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=hE(s);return new ea({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends lr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Uh(t,n,s,o)}}function $A(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(r,u,t,s):u})}async function PN(r,t,n=!1){const s=await lu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await lu(r,$A(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=fg(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Xn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tb(r,t,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s="signIn",o=await $A(r,s,t),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LN(r,t){return tb(oa(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(r){const t=oa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function UN(r,t,n){if(Un(r.app))return Promise.reject(tr(r));const s=oa(r),f=await hp(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eb(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function BN(r,t,n){return Un(r.app)?Promise.reject(tr(r)):LN(Ve(r),Io.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eb(r),s})}function zN(r,t,n,s){return Ve(r).onIdTokenChanged(t,n,s)}function jN(r,t,n){return Ve(r).beforeAuthStateChanged(t,n)}function nb(r,t,n,s){return Ve(r).onAuthStateChanged(t,n,s)}function qN(r){return Ve(r).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=1e3,FN=10;class rb extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lN()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rb.type="LOCAL";const GN=rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}sb.type="SESSION";const ab=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new hf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await YN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=gg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const b=A;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function KN(r){Ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function XN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WN(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZN(){return ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebaseLocalStorageDb",JN=1,zh="firebaseLocalStorage",ub="fbase_key";class Iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(r,t){return r.transaction([zh],t?"readwrite":"readonly").objectStore(zh)}function $N(){const r=indexedDB.deleteDatabase(lb);return new Iu(r).toPromise()}function fp(){const r=indexedDB.open(lb,JN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(zh,{keyPath:ub})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(zh)?t(s):(s.close(),await $N(),t(await fp()))})})}async function fE(r,t,n){const s=ff(r,!0).put({[ub]:t,value:n});return new Iu(s).toPromise()}async function tO(r,t){const n=ff(r,!1).get(t),s=await new Iu(n).toPromise();return s===void 0?null:s.value}function dE(r,t){const n=ff(r,!0).delete(t);return new Iu(n).toPromise()}const eO=800,nO=3;class cb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fp();return await fE(t,Bh,"1"),await dE(t,Bh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ff(o,!1).getAll();return new Iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cb.type="LOCAL";const iO=cb;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(r,t){return t?Zi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends mg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sO(r){return tb(r.auth,new yg(r),r.bypassAuthState)}function aO(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),kN(n,new yg(r),r.bypassAuthState)}async function oO(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),PN(n,new yg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sO;case"linkViaPopup":case"linkViaRedirect":return oO;case"reauthViaPopup":case"reauthViaRedirect":return aO;default:Xn(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=new Su(2e3,1e4);class so extends hb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lO.get())};t()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="pendingRedirect",_h=new Map;class cO extends hb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=_h.get(this.auth._key());if(!t){try{const s=await hO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}_h.set(this.auth._key(),t)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hO(r,t){const n=mO(t),s=dO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fO(r,t){_h.set(r._key(),t)}function dO(r){return Zi(r._redirectPersistence)}function mO(r){return yh(uO,r.config.apiKey,r.name)}async function pO(r,t,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s=oa(r),o=rO(s,t),f=await new cO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=10*60*1e3;class yO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_O(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!fb(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(vi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gO&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(t))}saveEventToCache(t){this.cachedEventUids.add(mE(t)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function fb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function _O(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(r,t={}){return as(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TO=/^https?/;async function AO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vO(r);for(const n of t)try{if(bO(n))return}catch{}Xn(r,"unauthorized-domain")}function bO(r){const t=up(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TO.test(n))return!1;if(EO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new Su(3e4,6e4);function pE(){const r=Ei().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function wO(r){return new Promise((t,n)=>{var s,o,u;function f(){pE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(vi(r,"network-request-failed"))},timeout:SO.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)f();else{const m=yN("iframefcb");return Ei()[m]=()=>{gapi.load?f():n(vi(r,"network-request-failed"))},XA(`${gN()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw vh=null,t})}let vh=null;function RO(r){return vh=vh||wO(r),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Su(5e3,15e3),CO="__/auth/iframe",DO="emulator/auth/iframe",NO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xO(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?hg(t,DO):`https://${r.config.authDomain}/${CO}`,s={apiKey:t.apiKey,appName:r.name,v:To},o=OO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function VO(r){const t=await RO(r),n=Ei().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:xO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(r,"network-request-failed"),m=Ei().setTimeout(()=>{u(f)},IO.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PO=500,kO=600,LO="_blank",UO="http://localhost";class gE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BO(r,t,n,s=PO,o=kO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},MO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=qA(g)?LO:n),zA(g)&&(t=t||UO,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[N,O])=>`${b}${N}=${O},`,"");if(oN(g)&&m!=="_self")return zO(t||"",m),new gE(null);const A=window.open(t||"",m,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new gE(A)}function zO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",qO="emulator/auth/handler",HO=encodeURIComponent("fac");async function yE(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(t instanceof JA){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",dR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Ru){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${HO}=${encodeURIComponent(p)}`:"";return`${FO(r)}?${gu(m).slice(1)}${g}`}function FO({config:r}){return r.emulator?hg(r,qO):`https://${r.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class GO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ab,this._completeRedirectFn=pO,this._overrideRedirectResult=fO}async _openPopup(t,n,s,o){var u;sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await yE(t,n,s,up(),o);return BO(t,f,gg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await yE(t,n,s,up(),o);return KN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VO(t),s=new yO(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Pm,{type:Pm},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[Pm];f!==void 0&&n(!!f),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QA()||jA()||dg()}}const YO=GO;var _E="@firebase/auth",vE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XO(r){co(new Xs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(r)},g=new dN(s,o,u,p);return bN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),co(new Xs("auth-internal",t=>{const n=oa(t.getProvider("auth").getImmediate());return(s=>new QO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(_E,vE,KO(r)),Yr(_E,vE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=5*60,ZO=GE("authIdTokenMaxAge")||WO;let EE=null;const JO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZO)return;const o=n?.token;EE!==o&&(EE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $O(r=ZE()){const t=wp(r,"auth");if(t.isInitialized())return t.getImmediate();const n=AN(r,{popupRedirectResolver:YO,persistence:[iO,GN,ab]}),s=GE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JO(u.toString());jN(n,f,()=>f(n.currentUser)),zN(n,m=>f(m))}}const o=HE("auth");return o&&SN(n,`http://${o}`),n}function tx(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}mN({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XO("Browser");function db(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=db(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Ks(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=db(r))&&(s&&(s+=" "),s+=t);return s}function ex(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}ex(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Cu=r=>typeof r=="number"&&!isNaN(r),na=r=>typeof r=="string",ar=r=>typeof r=="function",nx=r=>na(r)||Cu(r),dp=r=>na(r)||ar(r)?r:null,ix=(r,t)=>r===!1||Cu(r)&&r>0?r:t,mp=r=>H.isValidElement(r)||na(r)||ar(r)||Cu(r);function rx(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function sx({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let b=n?`${r}--${f}`:r,N=n?`${t}--${f}`:t,O=H.useRef(0);return H.useLayoutEffect(()=>{let z=g.current,k=b.split(" "),L=Q=>{Q.target===g.current&&(A(),z.removeEventListener("animationend",L),z.removeEventListener("animationcancel",L),O.current===0&&Q.type!=="animationcancel"&&z.classList.remove(...k))};z.classList.add(...k),z.addEventListener("animationend",L),z.addEventListener("animationcancel",L)},[]),H.useEffect(()=>{let z=g.current,k=()=>{z.removeEventListener("animationend",k),s?rx(z,p,o):p()};E||(m?k():(O.current=1,z.className+=` ${N}`,z.addEventListener("animationend",k)))},[E]),re.createElement(re.Fragment,null,u)}}function TE(r,t){return{content:mb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function mb(r,t,n=!1){return H.isValidElement(r)&&!na(r.type)?H.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ar(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function ax({closeToast:r,theme:t,ariaLabel:n="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ox({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,b={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(b.transform=`scaleX(${m})`);let N=Ks("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),O=ar(u)?u({rtl:p,type:s,defaultClassName:N}):Ks(N,u),z={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),re.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:O,style:b,...z}))}var lx=1,pb=()=>`${lx++}`;function ux(r,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=Q=>(g.add(Q),()=>g.delete(Q)),A=()=>{f=Array.from(p.values()),g.forEach(Q=>Q())},b=({containerId:Q,toastId:X,updateId:rt})=>{let at=Q?Q!==r:r!==1,dt=p.has(X)&&rt==null;return at||dt},N=(Q,X)=>{p.forEach(rt=>{var at;(X==null||X===rt.props.toastId)&&((at=rt.toggle)==null||at.call(rt,Q))})},O=Q=>{var X,rt;(rt=(X=Q.props)==null?void 0:X.onClose)==null||rt.call(X,Q.removalReason),Q.isActive=!1},z=Q=>{if(Q==null)p.forEach(O);else{let X=p.get(Q);X&&O(X)}A()},k=()=>{o-=u.length,u=[]},L=Q=>{var X,rt;let{toastId:at,updateId:dt}=Q.props,C=dt==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(at,Q),A(),n(TE(Q,C?"added":"updated")),C&&((rt=(X=Q.props).onOpen)==null||rt.call(X))};return{id:r,props:m,observe:E,toggle:N,removeToast:z,toasts:p,clearQueue:k,buildToast:(Q,X)=>{if(b(X))return;let{toastId:rt,updateId:at,data:dt,staleId:C,delay:w}=X,R=at==null;R&&o++;let x={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(X).filter(([U,D])=>D!=null)),toastId:rt,updateId:at,data:dt,isIn:!1,className:dp(X.className||m.toastClassName),progressClassName:dp(X.progressClassName||m.progressClassName),autoClose:X.isLoading?!1:ix(X.autoClose,m.autoClose),closeToast(U){p.get(rt).removalReason=U,z(rt)},deleteToast(){let U=p.get(rt);if(U!=null){if(n(TE(U,"removed")),p.delete(rt),o--,o<0&&(o=0),u.length>0){L(u.shift());return}A()}}};x.closeButton=m.closeButton,X.closeButton===!1||mp(X.closeButton)?x.closeButton=X.closeButton:X.closeButton===!0&&(x.closeButton=mp(m.closeButton)?m.closeButton:!0);let P={content:Q,props:x,staleId:C};m.limit&&m.limit>0&&o>m.limit&&R?u.push(P):Cu(w)?setTimeout(()=>{L(P)},w):L(P)},setProps(Q){m=Q},setToggle:(Q,X)=>{let rt=p.get(Q);rt&&(rt.toggle=X)},isToastActive:Q=>{var X;return(X=p.get(Q))==null?void 0:X.isActive},getSnapshot:()=>f}}var on=new Map,cu=[],pp=new Set,cx=r=>pp.forEach(t=>t(r)),gb=()=>on.size>0;function hx(){cu.forEach(r=>_b(r.content,r.options)),cu=[]}var fx=(r,{containerId:t})=>{var n;return(n=on.get(t||1))==null?void 0:n.toasts.get(r)};function yb(r,t){var n;if(t)return!!((n=on.get(t))!=null&&n.isToastActive(r));let s=!1;return on.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function dx(r){if(!gb()){cu=cu.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||nx(r))on.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=on.get(r.containerId);t?t.removeToast(r.id):on.forEach(n=>{n.removeToast(r.id)})}}var mx=(r={})=>{on.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function _b(r,t){mp(r)&&(gb()||cu.push({content:r,options:t}),on.forEach(n=>{n.buildToast(r,t)}))}function px(r){var t;(t=on.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function vb(r,t){on.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(r,t?.id)})}function gx(r){let t=r.containerId||1;return{subscribe(n){let s=ux(t,r,cx);on.set(t,s);let o=s.observe(n);return hx(),()=>{o(),on.delete(t)}},setProps(n){var s;(s=on.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=on.get(t))==null?void 0:n.getSnapshot()}}}function yx(r){return pp.add(r),()=>{pp.delete(r)}}function _x(r){return r&&(na(r.toastId)||Cu(r.toastId))?r.toastId:pb()}function Du(r,t){return _b(r,t),t.toastId}function df(r,t){return{...t,type:t&&t.type||r,toastId:_x(t)}}function mf(r){return(t,n)=>Du(t,df(r,n))}function Pt(r,t){return Du(r,df("default",t))}Pt.loading=(r,t)=>Du(r,df("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function vx(r,{pending:t,error:n,success:s},o){let u;t&&(u=na(t)?Pt.loading(t,o):Pt.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){Pt.dismiss(u);return}let b={type:g,...f,...o,data:A},N=na(E)?{render:E}:E;return u?Pt.update(u,{...b,...N}):Pt(N.render,{...b,...N}),A},p=ar(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Pt.promise=vx;Pt.success=mf("success");Pt.info=mf("info");Pt.error=mf("error");Pt.warning=mf("warning");Pt.warn=Pt.warning;Pt.dark=(r,t)=>Du(r,df("default",{theme:"dark",...t}));function Ex(r){dx(r)}Pt.dismiss=Ex;Pt.clearWaitingQueue=mx;Pt.isActive=yb;Pt.update=(r,t={})=>{let n=fx(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:pb()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,Du(f,u)}};Pt.done=r=>{Pt.update(r,{progress:1})};Pt.onChange=yx;Pt.play=r=>vb(!0,r);Pt.pause=r=>vb(!1,r);function Tx(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=H.useRef(gx(r)).current;o(r);let u=(t=H.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:yb,count:u?.length}}function Ax(r){let[t,n]=H.useState(!1),[s,o]=H.useState(!1),u=H.useRef(null),f=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;px({id:r.toastId,containerId:r.containerId,fn:n}),H.useEffect(()=>{if(r.pauseOnFocusLoss)return b(),()=>{N()}},[r.pauseOnFocusLoss]);function b(){document.hasFocus()||L(),window.addEventListener("focus",k),window.addEventListener("blur",L)}function N(){window.removeEventListener("focus",k),window.removeEventListener("blur",L)}function O(C){if(r.draggable===!0||r.draggable===C.pointerType){Q();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",r.draggableDirection==="x"?(f.start=C.clientX,f.removalDistance=w.offsetWidth*(r.draggablePercent/100)):(f.start=C.clientY,f.removalDistance=w.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function z(C){let{top:w,bottom:R,left:x,right:P}=u.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&r.pauseOnHover&&C.clientX>=x&&C.clientX<=P&&C.clientY>=w&&C.clientY<=R?L():k()}function k(){n(!0)}function L(){n(!1)}function Q(){f.didMove=!1,document.addEventListener("pointermove",rt),document.addEventListener("pointerup",at)}function X(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",at)}function rt(C){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&L(),r.draggableDirection==="x"?f.delta=C.clientX-f.start:f.delta=C.clientY-f.start,f.start!==C.clientX&&(f.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${R},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function at(){X();let C=u.current;if(f.canDrag&&f.didMove&&C){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let dt={onPointerDown:O,onPointerUp:z};return m&&p&&(dt.onMouseEnter=L,r.stacked||(dt.onMouseLeave=k)),A&&(dt.onClick=C=>{E&&E(C),f.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:L,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:dt}}var bx=typeof window<"u"?H.useLayoutEffect:H.useEffect,pf=({theme:r,type:t,isLoading:n,...s})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function Sx(r){return re.createElement(pf,{...r},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wx(r){return re.createElement(pf,{...r},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Rx(r){return re.createElement(pf,{...r},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Ix(r){return re.createElement(pf,{...r},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Cx(){return re.createElement("div",{className:"Toastify__spinner"})}var gp={info:wx,warning:Sx,success:Rx,error:Ix,spinner:Cx},Dx=r=>r in gp;function Nx({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(ar(s)?o=s({...u,isLoading:n}):H.isValidElement(s)?o=H.cloneElement(s,u):n?o=gp.spinner():Dx(t)&&(o=gp[t](u))),o}var Ox=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=Ax(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:b,transition:N,position:O,className:z,style:k,progressClassName:L,updateId:Q,role:X,progress:rt,rtl:at,toastId:dt,deleteToast:C,isIn:w,isLoading:R,closeOnClick:x,theme:P,ariaLabel:U}=r,D=Ks("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":at},{"Toastify__toast--close-on-click":x}),Re=ar(z)?z({rtl:at,position:O,type:E,defaultClassName:D}):Ks(D,z),ne=Nx(r),W=!!rt||!p,lt={closeToast:b,type:E,theme:P},mt=null;return f===!1||(ar(f)?mt=f(lt):H.isValidElement(f)?mt=H.cloneElement(f,lt):mt=ax(lt)),re.createElement(N,{isIn:w,done:C,position:O,preventExitTransition:n,nodeRef:s,playToast:u},re.createElement("div",{id:dt,tabIndex:0,onClick:g,"data-in":w,className:Re,...o,style:k,ref:s,...w&&{role:X,"aria-label":U}},ne!=null&&re.createElement("div",{className:Ks("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},ne),mb(m,r,!t),mt,!r.customProgressBar&&re.createElement(ox,{...Q&&!W?{key:`p-${Q}`}:{},rtl:at,theme:P,delay:p,isRunning:t,isIn:w,closeToast:b,hide:A,type:E,className:L,controlledProgress:W,progress:rt||0})))},xx=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),Vx=sx(xx("bounce",!0)),Mx={position:"top-right",transition:Vx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function Px(r){let t={...Mx,...r},n=r.stacked,[s,o]=H.useState(!0),u=H.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=Tx(t),{className:g,style:E,rtl:A,containerId:b,hotKeys:N}=t;function O(k){let L=Ks("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":A});return ar(g)?g({position:k,rtl:A,defaultClassName:L}):Ks(L,dp(g))}function z(){n&&(o(!0),Pt.play())}return bx(()=>{var k;if(n){let L=u.current.querySelectorAll('[data-in="true"]'),Q=12,X=(k=t.position)==null?void 0:k.includes("top"),rt=0,at=0;Array.from(L).reverse().forEach((dt,C)=>{let w=dt;w.classList.add("Toastify__toast--stacked"),C>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=X?"top":"bot");let R=rt*(s?.2:1)+(s?0:Q*C);w.style.setProperty("--y",`${X?R:R*-1}px`),w.style.setProperty("--g",`${Q}`),w.style.setProperty("--s",`${1-(s?at:0)}`),rt+=w.offsetHeight,at+=.025})}},[s,p,n]),H.useEffect(()=>{function k(L){var Q;let X=u.current;N(L)&&((Q=X.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),Pt.pause()),L.key==="Escape"&&(document.activeElement===X||X!=null&&X.contains(document.activeElement))&&(o(!0),Pt.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[N]),re.createElement("section",{ref:u,className:"Toastify",id:b,onMouseEnter:()=>{n&&(o(!1),Pt.pause())},onMouseLeave:z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((k,L)=>{let Q=L.length?{...E}:{...E,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:O(k),"data-stacked":n,style:Q,key:`c-${k}`},L.map(({content:X,props:rt})=>re.createElement(Ox,{...rt,stacked:n,collapseAll:z,isIn:m(rt.toastId,rt.containerId),key:`t-${rt.key}`},X)))}))}const kx={apiKey:"AIzaSyASWxgFGav_ndkSVHazGyoKLRdSYN-FoN4",authDomain:"chat-app-d4568.firebaseapp.com",projectId:"chat-app-d4568",storageBucket:"chat-app-d4568.firebasestorage.app",messagingSenderId:"983825221018",appId:"1:983825221018:web:31bcfe49c30728bb8fe623"},Eb=WE(kx),Co=$O(Eb),Sn=vD(Eb),Lx=async(r,t,n)=>{try{const o=(await UN(Co,t,n)).user;await op(bn(Sn,"users",o.uid),{id:o.uid,username:r.toLowerCase(),email:t,name:"",avatar:"",bio:"hey there i am using chat app",lastSeen:Date.now()}),await op(bn(Sn,"chats",o.uid),{chatData:[]}),Pt.success("Signup successful!")}catch(s){console.error(s),Pt.error(s.code.split("/")[1].split("-").join(" "))}},Ux=async(r,t)=>{try{await BN(Co,r,t)}catch(n){console.error(n),Pt.error(n.code.split("/")[1].split("-").join(" "))}},Tb=async()=>{try{await qN(Co)}catch(r){Pt.error(r.code.split("/")[1].split("-").join(" "))}},la=H.createContext(),Bx=r=>{const t=du(),[n,s]=H.useState(null),[o,u]=H.useState(null),[f,m]=H.useState(null),[p,g]=H.useState([]),[E,A]=H.useState(null),b=async O=>{try{const z=bn(Sn,"users",O),L=(await ou(z)).data();s(L),L.avatar&&L.name?t("chat"):t("profile"),await $s(z,{lastSeen:Date.now()}),setInterval(async()=>{Co.chatUser&&await $s(z,{lastSeen:Date.now()})},6e4)}catch{}};H.useEffect(()=>{if(n){const O=bn(Sn,"chats",n.id),z=DA(O,async k=>{const L=k.data().chatData,Q=[];for(const X of L){const rt=bn(Sn,"users",X.rId),dt=(await ou(rt)).data();Q.push({...X,userData:dt})}u(Q.sort((X,rt)=>rt.updatedAt-X.updatedAt))});return()=>{z()}}},[n]);const N={userData:n,setUserData:s,chatData:o,setChatData:u,loadUserData:b,messages:p,setMessages:g,messagesId:f,setMessagesId:m,chatUser:E,setChatUser:A};return Z.jsx(la.Provider,{value:N,children:r.children})},AE=({onChatSelect:r})=>{const t=du(),{userData:n,chatData:s,chatUser:o,setChatUser:u,setMessagesId:f,messagesId:m}=H.useContext(la),[p,g]=H.useState(null),[E,A]=H.useState(!1),b=async k=>{try{const L=k.target.value.trim();if(L){A(!0);const Q=Vm(Sn,"users"),X=xD(Q,VD("username","==",L.toLowerCase())),rt=await LD(X);if(!rt.empty){const at=rt.docs[0].data();if(at.id!==n.id&&!s?.some(C=>C.rId===at.id)){g(at);return}}g(null)}else A(!1),g(null)}catch(L){console.error("Search error:",L)}},N=async()=>{if(p)try{const k=Vm(Sn,"messages"),L=bn(k);await op(L,{createdAt:UD(),messages:[]});const Q=Vm(Sn,"chats");await $s(bn(Q,p.id),{chatsData:lp({messageId:L.id,lastMessage:"",rId:n.id,updatedAt:Date.now(),messageSeen:!0})}),await $s(bn(Q,n.id),{chatsData:lp({messageId:L.id,lastMessage:"",rId:p.id,updatedAt:Date.now(),messageSeen:!0})}),Pt.success("Chat started!"),A(!1),g(null)}catch(k){Pt.error(k.message),console.error("Failed to add chat:",k)}},O=async k=>{f(k.messageId),u(k),r&&r()},z=async()=>{try{await Tb(),t("/")}catch{Pt.error("Failed to logout")}};return Z.jsxs("div",{className:"ls",children:[Z.jsx("button",{className:"mobile-close",onClick:r,style:{display:r?"flex":"none"},children:"×"}),Z.jsxs("div",{className:"ls-top",children:[Z.jsxs("div",{className:"ls-nav",children:[Z.jsx("img",{src:le.logo,alt:"logo",className:"logo"}),Z.jsxs("div",{className:"menu",children:[Z.jsx("img",{src:le.menu_icon,alt:"menu"}),Z.jsxs("div",{className:"sub-menu",children:[Z.jsx("p",{onClick:()=>t("/profile"),children:"Edit Profile"}),Z.jsx("hr",{}),Z.jsx("p",{onClick:z,children:"Logout"})]})]})]}),Z.jsxs("div",{className:"ls-search",children:[Z.jsx("img",{src:le.search_icon,alt:"search"}),Z.jsx("input",{onChange:b,type:"text",placeholder:"Search users..."})]})]}),Z.jsx("div",{className:"ls-list",children:E&&p?Z.jsxs("div",{onClick:N,className:"friends add-user",children:[Z.jsx("img",{src:p.avatar||le.profile_img,alt:"profile"}),Z.jsxs("div",{children:[Z.jsx("p",{children:p.name}),Z.jsx("span",{children:"Click to start chat"})]})]}):s?.map((k,L)=>Z.jsxs("div",{onClick:()=>O(k),className:`friends ${o?.messageId===k.messageId?"active":""}`,children:[Z.jsx("img",{src:k.userData?.avatar||le.profile_img,alt:"profile"}),Z.jsxs("div",{children:[Z.jsx("p",{children:k.userData?.name||"Unknown User"}),Z.jsx("span",{children:k.lastMessage||"No message yet"})]})]},L))})]})},zx=({onToggleSidebar:r})=>{const{userData:t,messagesId:n,chatUser:s,messages:o,setMessages:u}=H.useContext(la),[f,m]=H.useState(""),p=async()=>{try{f&&n&&(await $s(bn(Sn,"messages",n),{messages:lp({sId:t.id,text:f,createdAt:new Date})}),[s.rId,t.id].forEach(async b=>{const N=bn(Sn,"chats",b),O=await ou(N);if(O.exists()){const z=O.data(),k=z.chatsData.findIndex(L=>L.messageId===n);z.chatsData[k].lastMessage=f.slice(0,30),z.chatsData[k].updatedAt=Date.now(),z.chatsData[k].rId===t.id&&(z.chatsData[k].messageSeen=!1),await $s(N,{chatsData:z.chatsData})}}))}catch(A){Pt.error(A.message)}m("")},g=A=>{let b=A.toDate();const N=b.getHours(),O=b.getMinutes();return N>12?N-12+":"+O.toString().padStart(2,"0")+" PM":N+":"+O.toString().padStart(2,"0")+" AM"},E=A=>{A.key==="Enter"&&p()};return H.useEffect(()=>{if(n){const A=DA(bn(Sn,"messages",n),b=>{u(b.data().messages.reverse())});return()=>{A()}}},[n]),s?Z.jsxs("div",{className:"chat-box",children:[Z.jsxs("div",{className:"mobile-header",children:[Z.jsx("button",{className:"mobile-menu-btn",onClick:r,children:"☰"}),Z.jsx("img",{src:le.avatar_icon,alt:""}),Z.jsx("p",{children:s.userData.name})]}),Z.jsxs("div",{className:"chat-user",children:[Z.jsx("img",{src:le.avatar_icon,alt:""}),Z.jsxs("p",{children:[s.userData.name," ",Z.jsx("img",{className:"dot",src:le.green_dot,alt:""})]}),Z.jsx("img",{src:le.help_icon,alt:""})]}),Z.jsx("div",{className:"chat-msg",children:o.map((A,b)=>Z.jsx("div",{className:A.sId===t.id?"s-msg":"r-msg",children:Z.jsxs("div",{className:"msg-container",children:[Z.jsx("div",{className:"msg",children:A.text}),Z.jsx("div",{className:"msg-time",children:g(A.createdAt)})]})},b))}),Z.jsxs("div",{className:"chat-input",children:[Z.jsx("input",{onChange:A=>m(A.target.value),value:f,type:"text",placeholder:"Type a message...",onKeyPress:E}),Z.jsx("input",{type:"file",id:"image",accept:"image/png, image/jpeg",hidden:!0}),Z.jsx("label",{htmlFor:"image",children:Z.jsx("img",{src:le.gallery_icon,alt:"Gallery"})}),Z.jsx("button",{className:"send-btn",onClick:p,children:Z.jsx("img",{src:le.send_button,alt:"Send"})})]})]}):Z.jsxs("div",{className:"chat-welcome",children:[Z.jsx("img",{src:le.logo_icon,alt:"Logo"}),Z.jsx("p",{children:"Welcome to Chat App"}),Z.jsx("span",{children:"Select a conversation to start chatting"})]})},jx=()=>{const{chatUser:r}=H.useContext(la);return Z.jsxs("div",{className:"rs",children:[Z.jsxs("div",{className:"rs-profile",children:[Z.jsx("img",{src:le.avatar_icon,alt:""}),Z.jsxs("h3",{children:[r?.userData?.name||"Select a chat",r&&Z.jsx("img",{className:"dot",src:le.green_dot,alt:""})]}),Z.jsx("p",{children:r?.userData?.bio||"No bio available"})]}),Z.jsx("hr",{}),Z.jsxs("div",{className:"rs-media",children:[Z.jsx("p",{children:"Shared Media"}),Z.jsxs("div",{children:[Z.jsx("img",{src:le.pic1,alt:""}),Z.jsx("img",{src:le.pic2,alt:""}),Z.jsx("img",{src:le.pic3,alt:""}),Z.jsx("img",{src:le.pic4,alt:""}),Z.jsx("img",{src:le.pic1,alt:""}),Z.jsx("img",{src:le.pic2,alt:""})]})]}),Z.jsx("button",{onClick:()=>Tb(),children:"Logout"})]})},qx=()=>{const{chatData:r,userData:t}=H.useContext(la),[n,s]=H.useState(!0),[o,u]=H.useState(!1);H.useEffect(()=>{r&&t&&s(!1)},[r,t]);const f=()=>{u(!1)},m=()=>{u(!0)};return Z.jsx("div",{className:"chat",children:n?Z.jsx("p",{className:"loading",children:"Loading..."}):Z.jsxs(Z.Fragment,{children:[Z.jsx("div",{className:`mobile-overlay ${o?"active":""}`,onClick:()=>u(!1)}),Z.jsxs("div",{className:"chat-container",children:[Z.jsx("div",{className:"desktop-sidebar",children:Z.jsx(AE,{})}),Z.jsx("div",{className:`mobile-sidebar ${o?"active":""}`,children:Z.jsx(AE,{onChatSelect:f})}),Z.jsx(zx,{onToggleSidebar:m}),Z.jsx("div",{className:"desktop-right-sidebar",children:Z.jsx(jx,{})})]})]})})},Hx=()=>{const r=du(),[t,n]=H.useState(!1),[s,o]=H.useState(""),[u,f]=H.useState(""),[m,p]=H.useState(""),{setUserData:g}=H.useContext(la),E=async A=>{A.preventDefault();try{const b=bn(Sn,"users",m);await $s(b,{bio:u,name:s});const N=await ou(b);g(N.data()),r("/chat")}catch(b){console.error(b),Pt.error(b.message)}};return H.useEffect(()=>{nb(Co,async A=>{if(A){p(A.uid);const b=bn(Sn,"users",A.uid),N=await ou(b);N.data().name&&o(N.data().name),N.data().bio&&f(N.data().bio)}else r("/")})},[]),Z.jsx("div",{className:"profile",children:Z.jsxs("div",{className:"profile-container",children:[Z.jsxs("form",{onSubmit:E,children:[Z.jsx("h3",{children:"Profile details"}),Z.jsxs("label",{htmlFor:"avatar",children:[Z.jsx("input",{onChange:A=>n(A.target.files[0]),type:"file",id:"avatar",accept:".png, .jpg, .jpeg",hidden:!0}),Z.jsx("img",{src:t?URL.createObjectURL(t):le.avatar_icon,alt:""}),"Upload profile image"]}),Z.jsx("input",{onChange:A=>o(A.target.value),value:s,type:"text",placeholder:"Your name",required:!0}),Z.jsx("textarea",{onChange:A=>f(A.target.value),value:u,placeholder:"Write profile bio"}),Z.jsx("button",{type:"submit",children:"Save"})]}),Z.jsx("img",{className:"profile-pic",src:t?URL.createObjectURL(t):le.logo_icon,alt:""})]})})},Fx=()=>{const[r,t]=H.useState("Sign Up"),[n,s]=H.useState(""),[o,u]=H.useState(""),[f,m]=H.useState(""),p=g=>{g.preventDefault(),r=="Sign Up"?Lx(n,o,f):Ux(o,f)};return Z.jsx("div",{className:"login",children:Z.jsxs("div",{className:"login-content",children:[Z.jsx("img",{src:le.logo_big,className:"logo",alt:"Logo"}),Z.jsxs("form",{onSubmit:p,className:"login-form",children:[Z.jsx("h2",{children:r}),r=="Sign Up"?Z.jsx("input",{onChange:g=>s(g.target.value),value:n,type:"text",placeholder:"Username",className:"form-input",required:!0}):null,Z.jsx("input",{onChange:g=>u(g.target.value),value:o,type:"email",placeholder:"Email Address",className:"form-input",required:!0}),Z.jsx("input",{onChange:g=>m(g.target.value),value:f,type:"password",className:"form-input",placeholder:"Password",required:!0}),Z.jsx("button",{type:"submit",children:r=="Sign Up"?"Create account":"Login"}),Z.jsxs("div",{className:"login-term",children:[Z.jsx("input",{type:"checkbox"}),Z.jsx("p",{children:"Agree to the terms and conditions"})]}),Z.jsx("div",{className:"login-forgot",children:r=="Sign Up"?Z.jsxs("p",{className:"login-toggle",children:["Already have an account ",Z.jsx("span",{onClick:()=>t("Login"),children:"Login here"})]}):Z.jsxs("p",{className:"login-toggle",children:["Create an account ",Z.jsx("span",{onClick:()=>t("Sign Up"),children:"click here"})]})})]})]})})},Gx=()=>{const r=du(),{loadUserData:t}=H.useContext(la);return H.useEffect(()=>{nb(Co,async n=>{n?(r("/chat"),await t(n.uid)):r("/")})},[]),Z.jsxs(Z.Fragment,{children:[Z.jsx(Px,{}),Z.jsxs(Q1,{children:[Z.jsx(oh,{path:"/",element:Z.jsx(Fx,{})}),Z.jsx(oh,{path:"/chat",element:Z.jsx(qx,{})}),Z.jsx(oh,{path:"/profile",element:Z.jsx(Hx,{})})]})]})};n1.createRoot(document.getElementById("root")).render(Z.jsx(yw,{children:Z.jsx(Bx,{children:Z.jsx(Gx,{})})}));
